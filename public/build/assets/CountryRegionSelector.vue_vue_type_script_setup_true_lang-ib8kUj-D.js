import{d as _,e as b}from"./api-oMwxYzmg.js";import{a as g,b as v,c as M,_ as y}from"./SelectValue.vue_vue_type_script_setup_true_lang-DRuK-X8y.js";import{L as k}from"./Input.vue_vue_type_script_setup_true_lang-BLNMTcRZ.js";import{d as B,r,f as L,c as C,o as m,a as n,i as V,j as R,w as i,u as a,b as $,F as h}from"./app-C5Gix90l.js";const N={key:0,class:"flex w-100 text-sm items-center gap-2 text-fade"},z=B({__name:"CountryRegionSelector",props:{form:{},countryModel:{},regionModel:{},class:{}},setup(w){const e=w,f=r([]),t=r([]),c=r(null),d=r(!1),u=r(!1);async function p(o){t.value=[],e.form[e.regionModel]=null,u.value=!0,t.value=(await b(o)).regions,u.value=!1}return L(async()=>{d.value=!0,f.value=(await _()).countries,d.value=!1,e.countryModel&&e.regionModel&&e.form[e.countryModel]&&(e.form[e.countryModel]&&(c.value=e.form[e.regionModel]),await p(e.form[e.countryModel])),e.form[e.regionModel]=c.value}),(o,s)=>(m(),C(h,null,[n(a(y),{modelValue:o.form[o.countryModel],"onUpdate:modelValue":[s[0]||(s[0]=l=>o.form[o.countryModel]=l),p],disabled:d.value},{default:i(()=>[n(a(g),{class:"col-span-2 w-full md:col-span-1 lg:col-span-2"},{default:i(()=>[n(a(v),{placeholder:u.value?"Loading countries...":"Select country"},null,8,["placeholder"])]),_:1}),n(a(M),{options:f.value.map(l=>({label:l.name,value:l.id})),slice:"all"},null,8,["options"])]),_:1},8,["modelValue","disabled"]),u.value?(m(),C("div",N,[s[2]||(s[2]=$("span",null,"Loading regions ...",-1)),n(a(k),{size:12,class:"animate-spin"})])):V("",!0),o.regionModel&&t.value.length?(m(),R(a(y),{key:1,modelValue:o.form[o.regionModel],"onUpdate:modelValue":s[1]||(s[1]=l=>o.form[o.regionModel]=l)},{default:i(()=>[n(a(g),{class:"col-span-2 w-full md:col-span-1 lg:col-span-2"},{default:i(()=>[n(a(v),{placeholder:"Select region"})]),_:1}),n(a(M),{options:t.value.map(l=>({label:l.name,value:l.id})),slice:"all"},null,8,["options"])]),_:1},8,["modelValue"])):V("",!0)],64))}});export{z as _};

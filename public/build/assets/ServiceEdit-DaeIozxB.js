import{d as x,r as u,x as S,f as w,q as c,c as k,o as p,a as s,u as r,g as U,w as n,b as m,j as q,i as $,F as B}from"./app-Q52VZRTS.js";import{t as E,a as N}from"./helpers-BzUjBFZc.js";import{B as V,_ as R}from"./Layout.vue_vue_type_script_setup_true_lang-8UKk9CJm.js";import{_ as F}from"./PageHeader.vue_vue_type_script_setup_true_lang-BkKHTGTC.js";import{_ as A,a as C}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-Btyz4Zpj.js";import{_}from"./InputSelect.vue_vue_type_script_setup_true_lang-BBJzXsVN.js";import{_ as i}from"./InputText.vue_vue_type_script_setup_true_lang-C5vYO4u3.js";import{_ as I}from"./GalleryFilesUpload.vue_vue_type_script_setup_true_lang-CGr4Qi1e.js";import{_ as M}from"./TextEditor.vue_vue_type_script_setup_true_lang-CFWDFERl.js";import{d as O}from"./Input.vue_vue_type_script_setup_true_lang-Z_tPjBbj.js";import"./map-pin-BcgpscOV.js";import"./createLucideIcon-CFAr9eVt.js";import"./check-D1C6gqVB.js";import"./upload-Jw44_K7E.js";import"./plus-RCRD1PBF.js";const h={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},j={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={class:"md:col-span-2"},se=x({__name:"ServiceEdit",props:{categories:{},regions:{},service:{}},setup(g){const t=g,b=u(),y=u(),e=S({title:"",description:"",first_mobile:"",business_name:"",second_mobile:"",years_experience:"",video_link:"",email:"",address:"",town:"",gps:"",region_id:"",category_id:"",featured:null,gallery:[],removed_gallery_urls:[]});w(()=>{const o=t.service;e.title=o.title,e.description=o.description,e.first_mobile=o.first_mobile,e.second_mobile=o.second_mobile,e.business_name=o.business_name,e.video_link=o.video_link,e.years_experience=o.years_experience,e.email=o.email,e.address=o.address,e.town=o.town,e.gps=o.gps,e.region_id=o.region_id,e.category_id=o.category_id});const d=c(()=>t.service.gallery?Array.from(t.service.gallery).map((l,a)=>({url:l,isOriginal:!0,originalIndex:a})):[]),f=c(()=>Object.keys(e.errors).filter(o=>o.startsWith("gallery.")).map(o=>e.errors[o])),v=()=>{e.put(route("my-services.update",t.service.id),{onSuccess:o=>{o.props.success?E(o.props.message):N(o.props.message)}})};return(o,l)=>(p(),k(B,null,[s(r(U),{title:"Update Service"}),s(R,null,{default:n(()=>[m("div",h,[s(F,{title:"Edit Service",subtitle:"Update service listing for your business",icon:r(V)},null,8,["icon"]),s(A,{form:r(e),"featured-preview":t.service.featured,"gallery-items":d.value,"gallery-errors":f.value,"submit-text":"Update Service","processing-text":"Updating Service...",onSubmit:v},{"form-sections":n(()=>[m("div",j,[l[4]||(l[4]=m("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Business Information",-1)),m("div",T,[s(_,{label:"Select Region",form:r(e),model:"region_id",options:t.regions,required:"",searchable:""},null,8,["form","options"]),s(i,{form:r(e),label:" Service Name/Title",model:"title",required:""},null,8,["form"]),s(i,{form:r(e),label:"Years of Experience",model:"years_experience",type:"number",required:""},null,8,["form"]),s(i,{form:r(e),label:"Town",model:"town",required:""},null,8,["form"]),s(i,{form:r(e),label:"Address",model:"address",required:""},null,8,["form"]),s(i,{form:r(e),label:"First Mobile No",type:"tel",model:"first_mobile",required:""},null,8,["form"]),s(i,{form:r(e),label:"Second Mobile No",type:"tel",model:"second_mobile"},null,8,["form"]),s(i,{form:r(e),label:"Email address",type:"email",model:"email",required:""},null,8,["form"]),s(i,{form:r(e),label:"Business Name",model:"business_name"},null,8,["form"]),s(i,{form:r(e),label:"GPS Address",model:"gps",required:""},null,8,["form"]),s(i,{form:r(e),label:"Video Link",model:"video_link"},null,8,["form"]),s(_,{label:"Field Of Service",form:r(e),model:"category_id",options:t.categories,required:"",searchable:""},null,8,["form","options"]),m("div",D,[l[3]||(l[3]=m("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Service Description",-1)),s(M,{modelValue:r(e).description,"onUpdate:modelValue":l[0]||(l[0]=a=>r(e).description=a)},null,8,["modelValue"]),r(e).errors.description?(p(),q(O,{key:0,message:r(e).errors.description},null,8,["message"])):$("",!0)])])])]),"media-section":n(()=>[s(C,{ref_key:"featureUploadRef",ref:y,form:r(e),"featured-preview":t.service.featured,file:r(e).featured,"onUpdate:file":l[1]||(l[1]=a=>r(e).featured=a),"model-name":"featured"},null,8,["form","featured-preview","file"]),s(I,{ref_key:"galleryUploadRef",ref:b,form:r(e),files:r(e).gallery,"onUpdate:files":l[2]||(l[2]=a=>r(e).gallery=a),"gallery-errors":f.value,"gallery-items":d.value},null,8,["form","files","gallery-errors","gallery-items"])]),_:1},8,["form","featured-preview","gallery-items","gallery-errors"])])]),_:1})],64))}});export{se as default};

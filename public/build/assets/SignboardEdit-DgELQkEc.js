import{d as q,x as V,f as $,q as N,c as U,o as B,a,u as r,g as E,w as m,b as i,F as C}from"./app-BSE14mLX.js";import{t as F,a as A}from"./helpers-COG5VrcA.js";import{_ as I}from"./Layout.vue_vue_type_script_setup_true_lang-COw0kUfd.js";import{_ as L}from"./PageHeader.vue_vue_type_script_setup_true_lang-CxlYHIWl.js";import{_ as M,a as O}from"./FeaturedFilePond.vue_vue_type_script_setup_true_lang-CCc6F4_L.js";import{_ as d}from"./InputSelect.vue_vue_type_script_setup_true_lang-BQD2t77I.js";import{d as t}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DQSjvP_f.js";import{_ as P}from"./GalleryFilePond.vue_vue_type_script_setup_true_lang-cXJhfUN4.js";import{P as D}from"./pen-line-BTJI7eCT.js";import"./Input.vue_vue_type_script_setup_true_lang-D1XutL9j.js";import"./createLucideIcon-CQbmQB6n.js";import"./map-pin-BvvnU2Xu.js";import"./check-BdkrYdnM.js";import"./plus-myh4SIs-.js";const R={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},T={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={class:"md:col-span-2"},z={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},te=q({__name:"SignboardEdit",props:{signboard:{},categories:{},regions:{},services:{},countries:{}},setup(w){var g,u,f,c,b,p,_,y,v,S,h;const o=w,e=V({country_id:((g=o.signboard)==null?void 0:g.country_id)??"",service_id:((u=o.signboard)==null?void 0:u.service_id)??"",name:((f=o.signboard)==null?void 0:f.name)??"",region_id:((c=o.signboard)==null?void 0:c.region_id)??"",categories:((p=(b=o.signboard)==null?void 0:b.categories)==null?void 0:p.map(s=>s.id))??[],town:((_=o.signboard)==null?void 0:_.town)??"",street:((y=o.signboard)==null?void 0:y.street)??"",landmark:((v=o.signboard)==null?void 0:v.landmark)??"",blk_number:((S=o.signboard)==null?void 0:S.blk_number)??"",gps:((h=o.signboard)==null?void 0:h.gps)??"",featured:null,gallery:[],removed_gallery_urls:[]});$(()=>{console.log(o.signboard)});const x=N(()=>o.signboard.gallery?Array.from(o.signboard.gallery).map((l,n)=>({url:l,isOriginal:!0,originalIndex:n})):[]),k=()=>{e.post(route("my-signboards.update",o.signboard.id),{forceFormData:!0,preserveScroll:!0,onSuccess:s=>{s.props.success?(F(s.props.message),e.removed_gallery_urls=[]):A(s.props.message)}})};return(s,l)=>(B(),U(C,null,[a(r(E),{title:"Edit Signboard"}),a(I,null,{default:m(()=>[i("div",R,[a(L,{title:"Edit Signboard",subtitle:"Update your signboard listing information",icon:r(D)},null,8,["icon"]),a(M,{form:r(e),"submit-text":"Update Signboard","processing-text":"Updating Signboard...",onSubmit:k},{"form-sections":m(()=>[i("div",T,[l[2]||(l[2]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Signboard Information",-1)),i("div",G,[a(d,{label:"Select Country",form:r(e),model:"country_id",options:o.countries,required:"",searchable:""},null,8,["form","options"]),a(d,{label:"Region",form:r(e),model:"region_id",options:s.regions,required:"",searchable:""},null,8,["form","options"]),a(d,{label:"Select Service",form:r(e),model:"service_id",disabled:!0,options:s.services,required:"",searchable:""},null,8,["form","options"]),a(t,{form:r(e),label:"Name/Title",model:"name",required:""},null,8,["form"]),i("div",j,[a(d,{label:"Fields Of Operation",form:r(e),model:"categories",options:s.categories,taggable:"",required:"",searchable:""},null,8,["form","options"])]),a(t,{form:r(e),label:"Town",model:"town",required:""},null,8,["form"])])]),i("div",z,[l[3]||(l[3]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Location Details",-1)),i("div",H,[a(t,{form:r(e),label:"Street Address",model:"street",placeholder:"e.g., Main Street"},null,8,["form"]),a(t,{form:r(e),label:"Landmark",model:"landmark",required:"",placeholder:"e.g., Near Central Mall"},null,8,["form"]),a(t,{form:r(e),label:"Block Number",model:"blk_number",placeholder:"e.g., Block A"},null,8,["form"]),a(t,{form:r(e),label:"GPS",model:"gps",placeholder:"e.g., 5.6037, -0.1870"},null,8,["form"])])])]),"media-section":m(()=>[a(O,{ref:"featureUploadRef",form:r(e),modelValue:r(e).featured,"onUpdate:modelValue":l[0]||(l[0]=n=>r(e).featured=n),preview:o.signboard.featured,modelName:"featured",error:r(e).errors.featured},null,8,["form","modelValue","preview","error"]),a(P,{modelValue:r(e).gallery,"onUpdate:modelValue":l[1]||(l[1]=n=>r(e).gallery=n),existing:x.value,form:r(e),error:r(e).errors.gallery},null,8,["modelValue","existing","form","error"])]),_:1},8,["form"])])]),_:1})],64))}});export{te as default};

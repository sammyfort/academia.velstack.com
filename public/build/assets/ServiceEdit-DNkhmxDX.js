import{d as x,r as c,x as S,f as w,q as p,c as k,o as _,a as s,u as r,g as q,w as m,b as a,j as U,i as $,F as B}from"./app-CLl3S2H9.js";import{t as E,a as N}from"./helpers-8GA15I5w.js";import{B as V,_ as R}from"./Layout.vue_vue_type_script_setup_true_lang-UsOI5DRm.js";import{_ as C}from"./PageHeader.vue_vue_type_script_setup_true_lang-DBM3yvel.js";import{_ as F,a as h}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-DwoL7t-J.js";import{_ as d}from"./InputSelect.vue_vue_type_script_setup_true_lang-DkI58gw0.js";import{_ as l}from"./InputText.vue_vue_type_script_setup_true_lang-BbqDFivA.js";import{_ as A}from"./GalleryFilesUpload.vue_vue_type_script_setup_true_lang-D_vL8BGc.js";import{_ as I}from"./TextEditor.vue_vue_type_script_setup_true_lang-C7qxhiJo.js";import{d as M}from"./Input.vue_vue_type_script_setup_true_lang-CYDReLb2.js";import"./map-pin-erNiW11q.js";import"./createLucideIcon-BqBqbHEQ.js";import"./check-BxLDVZJg.js";import"./upload-Blyo1wof.js";import"./plus-CalyX_AS.js";const O={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},j={class:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm"},T={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Y={class:"md:col-span-2"},se=x({__name:"ServiceEdit",props:{categories:{},regions:{},service:{},countries:{}},setup(g){const t=g,b=c(),y=c(),e=S({country_id:"",title:"",description:"",first_mobile:"",business_name:"",second_mobile:"",years_experience:"",video_link:"",email:"",address:"",town:"",gps:"",region_id:"",category_id:"",featured:null,gallery:[],removed_gallery_urls:[]});w(()=>{const o=t.service;e.country_id=o.country_id,e.title=o.title,e.description=o.description,e.first_mobile=o.first_mobile,e.second_mobile=o.second_mobile,e.business_name=o.business_name,e.video_link=o.video_link,e.years_experience=o.years_experience,e.email=o.email,e.address=o.address,e.town=o.town,e.gps=o.gps,e.region_id=o.region_id,e.category_id=o.category_id});const f=p(()=>t.service.gallery?Array.from(t.service.gallery).map((i,n)=>({url:i,isOriginal:!0,originalIndex:n})):[]),u=p(()=>Object.keys(e.errors).filter(o=>o.startsWith("gallery.")).map(o=>e.errors[o])),v=()=>{e.put(route("my-services.update",t.service.id),{onSuccess:o=>{o.props.success?E(o.props.message):N(o.props.message)}})};return(o,i)=>(_(),k(B,null,[s(r(q),{title:"Update Service"}),s(R,null,{default:m(()=>[a("div",O,[s(C,{title:"Edit Service",subtitle:"Update service listing for your business",icon:r(V)},null,8,["icon"]),s(F,{form:r(e),"featured-preview":t.service.featured,"gallery-items":f.value,"gallery-errors":u.value,"submit-text":"Update Service","processing-text":"Updating Service...",onSubmit:v},{"form-sections":m(()=>[a("div",j,[i[5]||(i[5]=a("h2",{class:"mb-6 text-lg font-semibold text-gray-900"},"Service Information",-1)),a("div",T,[s(d,{label:"Select Country",form:r(e),model:"country_id",options:t.countries,required:"",searchable:""},null,8,["form","options"]),s(d,{label:"Select Region",form:r(e),model:"region_id",options:t.regions,required:"",searchable:""},null,8,["form","options"]),s(l,{form:r(e),label:" Service Name/Title",model:"title",required:""},null,8,["form"]),s(l,{form:r(e),label:"Years of Experience",model:"years_experience",type:"number",required:""},null,8,["form"]),s(l,{form:r(e),label:"Town",model:"town",required:""},null,8,["form"]),s(l,{form:r(e),label:"Address",model:"address",required:""},null,8,["form"]),s(l,{form:r(e),label:"First Mobile No",type:"tel",model:"first_mobile",required:""},null,8,["form"]),s(l,{form:r(e),label:"Second Mobile No",type:"tel",model:"second_mobile"},null,8,["form"]),s(l,{form:r(e),label:"Email address",type:"email",model:"email",required:""},null,8,["form"]),s(l,{form:r(e),label:"Business Name",model:"business_name"},null,8,["form"]),s(l,{form:r(e),label:"GPS Address",model:"gps",required:""},null,8,["form"]),a("div",null,[s(l,{form:r(e),label:"Video Link",model:"video_link"},null,8,["form"]),i[3]||(i[3]=a("span",{class:"font-small text-sm text-gray-500"}," Your video will only be shown to visitors if you have a running promotion",-1))]),s(d,{label:"Field Of Service",form:r(e),model:"category_id",options:t.categories,required:"",searchable:""},null,8,["form","options"]),a("div",Y,[i[4]||(i[4]=a("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Service Description",-1)),s(I,{modelValue:r(e).description,"onUpdate:modelValue":i[0]||(i[0]=n=>r(e).description=n)},null,8,["modelValue"]),r(e).errors.description?(_(),U(M,{key:0,message:r(e).errors.description},null,8,["message"])):$("",!0)])])])]),"media-section":m(()=>[s(h,{ref_key:"featureUploadRef",ref:y,form:r(e),"featured-preview":t.service.featured,file:r(e).featured,"onUpdate:file":i[1]||(i[1]=n=>r(e).featured=n),"model-name":"featured"},null,8,["form","featured-preview","file"]),s(A,{ref_key:"galleryUploadRef",ref:b,form:r(e),files:r(e).gallery,"onUpdate:files":i[2]||(i[2]=n=>r(e).gallery=n),"gallery-errors":u.value,"gallery-items":f.value},null,8,["form","files","gallery-errors","gallery-items"])]),_:1},8,["form","featured-preview","gallery-items","gallery-errors"])])]),_:1})],64))}});export{se as default};

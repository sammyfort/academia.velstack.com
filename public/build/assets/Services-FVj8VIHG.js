import{d as k,x as R,I as T,c as d,o as c,F as m,b as i,a as t,u as e,w as n,h as f,C as x,D as h,e as _,W as U,j as v,t as P,r as b,f as z,i as w,n as E,g as I}from"./app-BY3mG2bU.js";import{_ as Q}from"./Layout.vue_vue_type_script_setup_true_lang-D4gm2Nvp.js";import{a as A,_ as H}from"./AdvertisedServicesH.vue_vue_type_script_setup_true_lang-wU3e3hsk.js";import{_ as K}from"./InputText.vue_vue_type_script_setup_true_lang-kLR70F67.js";import{_ as D,c as L}from"./Input.vue_vue_type_script_setup_true_lang-CM7hcv5X.js";import{_ as C,a as V,b as F,c as q,d as N}from"./SelectValue.vue_vue_type_script_setup_true_lang-5szAepXk.js";import{_ as W}from"./SelectGroup.vue_vue_type_script_setup_true_lang-ChdwrPXU.js";import{u as j,a as G,_ as J}from"./BackToTop.vue_vue_type_script_setup_true_lang-BdhWDBKq.js";import{c as X}from"./helpers-DbA93d0e.js";import{a as Y,A as Z,_ as ee,b as se}from"./CarouselItem.vue_vue_type_script_setup_true_lang-JAtSqFfi.js";import{b as ae}from"./api-CA9zwsrm.js";import{_ as B}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-CnfNExGo.js";import{H as M}from"./hammer-DCSYNMX3.js";import{S as te}from"./star-D5MHcL_l.js";import"./map-pin-BzYLD0E_.js";import"./createLucideIcon-CeE_Hdh8.js";import"./CardContent.vue_vue_type_script_setup_true_lang-GCHrWGKy.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-CTiPdyrD.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-PlHWr_Mr.js";import"./VisuallyHidden-BEEYe3Jm.js";import"./eye-DMNgq5eN.js";import"./Collection-bEl7xDyO.js";import"./check-Dg2d_wJX.js";import"./nullish-CtH4V8ap.js";import"./useDirection-DvZLCd2K.js";import"./useFormControl-CgrIwZjD.js";const re={class:"grid grid-cols-2 gap-4"},le={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},oe=k({__name:"ServicesFilter",props:{categories:{},regions:{}},setup(y){const s=R({q:"",categories:null,region:null}),{filteredQuery:p,runFilter:g}=j({form:s,routeName:"services.index",preserveKeys:["servicesData"],buildQuery:l=>{var a;s.q&&l.filter("q",s.q),s.region&&l.filter("region",s.region.toString()),(a=s.categories)!=null&&a.length&&s.categories.forEach(o=>{l.filter("categories",o.toString())})}});return T(()=>{const l=new URLSearchParams(window.location.search),a=l.get("filter[q]"),o=l.get("filter[categories]"),u=l.get("filter[region]");s.categories=o?o.split(",").map(r=>Number(r)):[],s.region=u?Number(u):null,s.q=a||"",l.size>0&&(p.value="&"+l.toString())}),(l,a)=>{var o,u;return c(),d(m,null,[a[5]||(a[5]=i("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),i("div",re,[t(K,{placeholder:"Search service providers...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),t(e(C),{modelValue:e(s).categories,"onUpdate:modelValue":a[0]||(a[0]=r=>e(s).categories=r),"default-value":e(s).categories,multiple:!0},{default:n(()=>[t(e(V),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[t(e(F),{placeholder:"Type of artisan"})]),_:1}),t(e(q),null,{default:n(()=>[(c(!0),d(m,null,f(l.categories,r=>(c(),v(e(N),{key:r.id,value:r.id},{default:n(()=>[_(P(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","default-value"]),t(e(C),{modelValue:e(s).region,"onUpdate:modelValue":a[1]||(a[1]=r=>e(s).region=r),"default-value":e(s).region},{default:n(()=>[t(e(V),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[t(e(F),{placeholder:"Region"})]),_:1}),t(e(q),null,{default:n(()=>[t(e(W),null,{default:n(()=>[(c(!0),d(m,null,f(l.regions,r=>(c(),v(e(N),{key:r.id,value:r.id},{default:n(()=>[_(P(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","default-value"]),i("div",le,[x(t(e(D),{onClick:e(g)},{default:n(()=>a[3]||(a[3]=[_("Apply Filter ")])),_:1,__:[3]},8,["onClick"]),[[h,e(s).region||((o=e(s).categories)==null?void 0:o.length)||((u=e(s).q)==null?void 0:u.length)]]),x(t(e(D),{variant:"secondary",onClick:a[2]||(a[2]=r=>e(U).visit(l.route("services.index")))},{default:n(()=>a[4]||(a[4]=[_("Reset ")])),_:1,__:[4]},512),[[h,e(p)]])])])],64)}}}),ie=k({__name:"AdvertisedServicesV",props:{itemsClass:{}},setup(y){const s=Z({delay:5e3,stopOnMouseEnter:!0,stopOnInteraction:!1}),p=y,g=b([]),l=b(!1);z(async()=>{l.value=!0,g.value=(await ae()).services,l.value=!1});const a=b(!1),o=r=>{a.value=r},u=()=>{if(a.value)s.stop();else try{s.reset(),s.play()}catch{}};return(r,$)=>g.value.length?(c(),v(e(ee),{key:0,plugins:[e(s)],onMouseenter:e(s).stop,onMouseleave:u,opts:{loop:!0},orientation:"vertical"},{default:n(()=>[t(e(Y),{class:E(e(L)("mb-5",p.itemsClass))},{default:n(()=>[(c(!0),d(m,null,f(g.value,S=>(c(),v(e(se),{class:"basis-1/3",key:S.id},{default:n(()=>[t(A,{class:"border border-secondary",service:S,"carousel-plugin":e(s),onPopoverOpen:o},null,8,["service","carousel-plugin"]),l.value?(c(),d(m,{key:0},f([1,2,3],O=>t(B,{key:O})),64)):w("",!0)]),_:2},1024))),128))]),_:1},8,["class"])]),_:1},8,["plugins","onMouseenter"])):w("",!0)}}),ne={class:"w-full"},ce={class:"relative grid grid-cols-5 w-full gap-15"},ue={class:"lg:block col-span-5 lg:col-span-1"},de={class:"sticky top-40"},me={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},pe={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},ge={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},fe={class:"hidden lg:block lg:col-span-1"},_e={class:"sticky top-40"},ve={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},He=k({__name:"Services",props:{servicesData:{},categories:{},regions:{}},setup(y){const s=y,{items:p,loading:g,nextPage:l}=G({initialData:s.servicesData.data,nextPageUrl:s.servicesData.next_page_url,extractResponseData:a=>a.props.servicesData,preserveKeys:["servicesData"]});return z(()=>{l.value=s.servicesData.next_page_url,p.value=s.servicesData.data}),(a,o)=>(c(),d(m,null,[t(e(I),{title:"Service Providers"}),t(Q,null,{default:n(()=>[i("div",ne,[o[2]||(o[2]=i("div",{class:"w-full my-10 text-center"},[i("div",{class:"text-fade text-2xl font-semibold"},"Browse Service Providers")],-1)),i("div",ce,[i("div",ue,[i("div",de,[t(oe,{categories:a.categories,regions:a.regions},null,8,["categories","regions"])])]),i("div",me,[i("div",pe,[(c(!0),d(m,null,f(e(X)(e(p),15),(u,r)=>(c(),d(m,{key:`chunk-${r}`},[(c(!0),d(m,null,f(u,$=>(c(),v(A,{key:$.id,service:$},null,8,["service"]))),128)),x(t(H,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:n(()=>[i("div",ge,[t(e(M),{size:25,class:"text-primary"}),o[0]||(o[0]=i("span",null,"Trending Service Providers",-1)),t(e(te),{size:25,class:"text-primary"})])]),_:2},1536),[[h,u.length>14]])],64))),128)),(c(),d(m,null,f([1,2,3,4],u=>x(t(B,{key:u,class:"shadow-2xl"}),[[h,e(g)]])),64))])]),i("div",fe,[i("div",_e,[i("div",ve,[o[1]||(o[1]=_(" Trending Service Providers ")),t(e(M),{size:22,class:"text-primary"})]),t(ie,{"items-class":"h-screen",class:""})])])])]),t(J)]),_:1})],64))}});export{He as default};

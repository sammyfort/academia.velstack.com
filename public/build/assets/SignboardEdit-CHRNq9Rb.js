import{d as c,x as _,f as y,q as f,c as v,o as S,a as s,u as o,g as w,w as m,b as a,F as h}from"./app-BkDkBhlt.js";import{t as k,a as x}from"./helpers-BKyd-1vD.js";import{_ as q}from"./Layout.vue_vue_type_script_setup_true_lang-BbLQ4M_v.js";import{_ as $}from"./PageHeader.vue_vue_type_script_setup_true_lang-B_oInwCA.js";import{_ as B,a as E}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-BMjonZdr.js";import{_ as d}from"./InputSelect.vue_vue_type_script_setup_true_lang-q5uh6xrl.js";import{d as n}from"./DialogTitle.vue_vue_type_script_setup_true_lang-oZgQ1A81.js";import{_ as N}from"./GalleryFilesUpload.vue_vue_type_script_setup_true_lang-DQvh9S0W.js";import{P as U}from"./pen-line-Cp9tmvya.js";import"./Input.vue_vue_type_script_setup_true_lang-C9G1tTlK.js";import"./createLucideIcon-BVQtbP85.js";import"./map-pin-DWkxlGG8.js";import"./check-tlEcGdBE.js";import"./upload-B0wvrMiM.js";import"./plus-CWDoun9E.js";const C={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},F={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={class:"md:col-span-2"},I={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y=c({__name:"SignboardEdit",props:{signboard:{},categories:{},regions:{},businesses:{},countries:{}},setup(p){const i=p,e=_({country_id:"",business_id:"",name:"",region_id:"",categories:[],town:"",street:"",landmark:"",blk_number:"",gps:"",featured:null,gallery:[],removed_gallery_urls:[]});y(()=>{var l;const r=i.signboard;e.country_id=r.country_id,e.business_id=String(r.business_id),e.name=r.name,e.region_id=String(r.region_id),e.categories=((l=r.categories)==null?void 0:l.map(t=>t.id))||[],e.town=r.town,e.street=r.street,e.landmark=r.landmark,e.blk_number=r.blk_number,e.gps=r.gps});const g=f(()=>i.signboard.gallery?Array.from(i.signboard.gallery).map((l,t)=>({url:l,isOriginal:!0,originalIndex:t})):[]),u=f(()=>Object.keys(e.errors).filter(r=>r.startsWith("gallery_images.")).map(r=>e.errors[r])),b=()=>{e.post(route("my-signboards.update",i.signboard.id),{forceFormData:!0,preserveScroll:!0,onSuccess:r=>{r.props.success?(k(r.props.message),e.removed_gallery_urls=[]):x(r.props.message)}})};return(r,l)=>(S(),v(h,null,[s(o(w),{title:"Edit Signboard"}),s(q,null,{default:m(()=>[a("div",C,[s($,{title:"Edit Signboard",subtitle:"Update your signboard listing information",icon:o(U)},null,8,["icon"]),s(B,{form:o(e),"featured-preview":i.signboard.featured,"gallery-items":g.value,"gallery-errors":u.value,"submit-text":"Update Signboard","processing-text":"Updating Signboard...",onSubmit:b},{"form-sections":m(()=>[a("div",F,[l[2]||(l[2]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Signboard Information",-1)),a("div",O,[s(d,{label:"Select Country",form:o(e),model:"country_id",options:i.countries,required:"",searchable:""},null,8,["form","options"]),s(d,{label:"Select Business",form:o(e),model:"business_id",disabled:!0,options:r.businesses,required:"",searchable:""},null,8,["form","options"]),s(n,{form:o(e),label:"Name/Title",model:"name",required:""},null,8,["form"]),a("div",A,[s(d,{label:"Fields Of Operation",form:o(e),model:"categories",options:r.categories,taggable:"",required:"",searchable:""},null,8,["form","options"])]),s(d,{label:"Region",form:o(e),model:"region_id",options:r.regions,required:"",searchable:""},null,8,["form","options"]),s(n,{form:o(e),label:"Town",model:"town",required:""},null,8,["form"])])]),a("div",I,[l[3]||(l[3]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Location Details",-1)),a("div",L,[s(n,{form:o(e),label:"Street Address",model:"street",placeholder:"e.g., Main Street"},null,8,["form"]),s(n,{form:o(e),label:"Landmark",model:"landmark",required:"",placeholder:"e.g., Near Central Mall"},null,8,["form"]),s(n,{form:o(e),label:"Block Number",model:"blk_number",placeholder:"e.g., Block A"},null,8,["form"]),s(n,{form:o(e),label:"GPS",model:"gps",placeholder:"e.g., 5.6037, -0.1870"},null,8,["form"])])])]),"media-section":m(()=>[s(E,{form:o(e),"featured-preview":i.signboard.featured,file:o(e).featured,"onUpdate:file":l[0]||(l[0]=t=>o(e).featured=t)},null,8,["form","featured-preview","file"]),s(N,{form:o(e),files:o(e).gallery,"onUpdate:files":l[1]||(l[1]=t=>o(e).gallery=t),"gallery-errors":u.value,"gallery-items":g.value},null,8,["form","files","gallery-errors","gallery-items"])]),_:1},8,["form","featured-preview","gallery-items","gallery-errors"])])]),_:1})],64))}});export{Y as default};

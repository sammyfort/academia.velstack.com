import{d as c,x as _,f as y,p as f,c as v,o as w,a as s,u as o,g as S,w as d,b as a,F as h}from"./app-C9ZopDta.js";import{t as k,a as x}from"./helpers-D3nVrpGb.js";import{_ as B}from"./Layout.vue_vue_type_script_setup_true_lang-CqAiJcpj.js";import{_ as $}from"./PageHeader.vue_vue_type_script_setup_true_lang-D3m0rvZp.js";import{_ as q,a as E,b as N}from"./GalleryFilesUpload.vue_vue_type_script_setup_true_lang-1KfT6Roc.js";import{_ as m}from"./InputSelect.vue_vue_type_script_setup_true_lang-CP5T3tOn.js";import{_ as n}from"./InputText.vue_vue_type_script_setup_true_lang-E8GVBOck.js";import{P as U}from"./pen-line-4R5ha48j.js";import"./Input.vue_vue_type_script_setup_true_lang-CbC4zl6P.js";import"./createLucideIcon-DIBFlSSA.js";import"./map-pin-CK7IbtDr.js";import"./check-B3-fkeyX.js";import"./upload-CCV0WSpW.js";import"./plus-BtE-R8ve.js";const F={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},O={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={class:"md:col-span-2"},I={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X=c({__name:"SignboardEdit",props:{signboard:{},categories:{},regions:{},businesses:{}},setup(p){const t=p,e=_({business_id:"",name:"",region_id:"",categories:[],town:"",street:"",landmark:"",blk_number:"",gps:"",featured:null,gallery:[],removed_gallery_urls:[]});y(()=>{var l;const r=t.signboard;e.business_id=String(r.business_id),e.name=r.name,e.region_id=String(r.region_id),e.categories=((l=r.categories)==null?void 0:l.map(i=>i.id))||[],e.town=r.town,e.street=r.street,e.landmark=r.landmark,e.blk_number=r.blk_number,e.gps=r.gps});const g=f(()=>t.signboard.gallery?Array.from(t.signboard.gallery).map((l,i)=>({url:l,isOriginal:!0,originalIndex:i})):[]),u=f(()=>Object.keys(e.errors).filter(r=>r.startsWith("gallery_images.")).map(r=>e.errors[r])),b=()=>{e.post(route("my-signboards.update",t.signboard.id),{forceFormData:!0,preserveScroll:!0,onSuccess:r=>{r.props.success?(k(r.props.message),e.removed_gallery_urls=[]):x(r.props.message)}})};return(r,l)=>(w(),v(h,null,[s(o(S),{title:"Edit Signboard"}),s(B,null,{default:d(()=>[a("div",F,[s($,{title:"Edit Signboard",subtitle:"Update your signboard listing information",icon:o(U)},null,8,["icon"]),s(q,{form:o(e),"featured-preview":t.signboard.featured,"gallery-items":g.value,"gallery-errors":u.value,"submit-text":"Update Signboard","processing-text":"Updating Signboard...",onSubmit:b},{"form-sections":d(()=>[a("div",O,[l[2]||(l[2]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Business Information",-1)),a("div",A,[s(m,{label:"Select Business",form:o(e),model:"business_id",disabled:!0,options:r.businesses,required:"",searchable:""},null,8,["form","options"]),s(n,{form:o(e),label:"Name/Title",model:"name",required:""},null,8,["form"]),a("div",C,[s(m,{label:"Fields Of Operation",form:o(e),model:"categories",options:r.categories,taggable:"",required:"",searchable:""},null,8,["form","options"])]),s(m,{label:"Region",form:o(e),model:"region_id",options:r.regions,required:"",searchable:""},null,8,["form","options"]),s(n,{form:o(e),label:"Town",model:"town",required:""},null,8,["form"])])]),a("div",I,[l[3]||(l[3]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Location Details",-1)),a("div",L,[s(n,{form:o(e),label:"Street Address",model:"street",placeholder:"e.g., Main Street"},null,8,["form"]),s(n,{form:o(e),label:"Landmark",model:"landmark",required:"",placeholder:"e.g., Near Central Mall"},null,8,["form"]),s(n,{form:o(e),label:"Block Number",model:"blk_number",placeholder:"e.g., Block A"},null,8,["form"]),s(n,{form:o(e),label:"GPS",model:"gps",placeholder:"e.g., 5.6037, -0.1870"},null,8,["form"])])])]),"media-section":d(()=>[s(E,{form:o(e),"featured-preview":t.signboard.featured,file:o(e).featured,"onUpdate:file":l[0]||(l[0]=i=>o(e).featured=i)},null,8,["form","featured-preview","file"]),s(N,{form:o(e),files:o(e).gallery,"onUpdate:files":l[1]||(l[1]=i=>o(e).gallery=i),"gallery-errors":u.value,"gallery-items":g.value},null,8,["form","files","gallery-errors","gallery-items"])]),_:1},8,["form","featured-preview","gallery-items","gallery-errors"])])]),_:1})],64))}});export{X as default};

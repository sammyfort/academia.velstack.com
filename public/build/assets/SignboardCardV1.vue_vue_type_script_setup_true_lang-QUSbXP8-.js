import{l as P,P as V,y as J,z as U,m as G,A as W,n as Z,v as I,B as ee,h as te,u as H,w as oe,s as ae,t as se,c as ne,r as re,a as Y,_ as ie}from"./index-DXqP5nYb.js";import{d as _,h as b,o as g,w as f,i as w,c as L,n as $,u as s,m as x,a as y,O as le,r as D,H as K,p as M,q as F,B as de,C as ue,P as ce,Q as pe,v as X,f as R,t as O,j as fe,R as ge,T as ve,A as N,e as he,b as h,W as me,F as ye,k as be,S as j}from"./app-Di8VnOLP.js";import{i as _e,d as we,e as Ce,f as xe}from"./Layout.vue_vue_type_script_setup_true_lang-CBTGFaPW.js";import{_ as Te}from"./VisuallyHidden-CPtUT5Zq.js";import{H as Be,M as Pe,P as $e,S as De,_ as ke}from"./SignboardRating.vue_vue_type_script_setup_true_lang-Bg5MRMHK.js";import{M as Oe}from"./map-pin-GCNAs_DE.js";const Le={key:0,d:"M0 0L6 6L12 0"},Se={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"},Ae=_({__name:"Arrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(t){const o=t;return P(),(e,n)=>(g(),b(s(V),$(o,{width:e.width,height:e.height,viewBox:e.asChild?void 0:"0 0 12 6",preserveAspectRatio:e.asChild?void 0:"none"}),{default:f(()=>[w(e.$slots,"default",{},()=>[e.rounded?(g(),L("path",Se)):(g(),L("path",Le))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),Re={top:"bottom",right:"left",bottom:"top",left:"right"},Ee=_({inheritAttrs:!1,__name:"PopperArrow",props:{width:{},height:{},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(t){const{forwardRef:o}=P(),e=_e(),n=x(()=>Re[e.placedSide.value]);return(a,d)=>{var l,r,u,p;return g(),L("span",{ref:i=>{s(e).onArrowChange(i)},style:le({position:"absolute",left:(l=s(e).arrowX)!=null&&l.value?`${(r=s(e).arrowX)==null?void 0:r.value}px`:void 0,top:(u=s(e).arrowY)!=null&&u.value?`${(p=s(e).arrowY)==null?void 0:p.value}px`:void 0,[n.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s(e).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s(e).placedSide.value],visibility:s(e).shouldHideArrow.value?"hidden":void 0})},[y(Ae,$(a.$attrs,{ref:s(o),style:{display:"block"},as:a.as,"as-child":a.asChild,rounded:a.rounded,width:a.width,height:a.height}),{default:f(()=>[w(a.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4)}}});function He(t,o){const e=J(!1,300),n=D(null),a=U();function d(){n.value=null,e.value=!1}function l(r,u){const p=r.currentTarget,i={x:r.clientX,y:r.clientY},c=Me(i,p.getBoundingClientRect()),v=Fe(i,c),m=ze(u.getBoundingClientRect()),T=Ke([...v,...m]);n.value=T,e.value=!0}return K(r=>{if(t.value&&o.value){const u=i=>l(i,o.value),p=i=>l(i,t.value);t.value.addEventListener("pointerleave",u),o.value.addEventListener("pointerleave",p),r(()=>{var i,c;(i=t.value)==null||i.removeEventListener("pointerleave",u),(c=o.value)==null||c.removeEventListener("pointerleave",p)})}}),K(r=>{var u;if(n.value){const p=i=>{var C,B;if(!n.value||!(i.target instanceof HTMLElement))return;const c=i.target,v={x:i.clientX,y:i.clientY},m=((C=t.value)==null?void 0:C.contains(c))||((B=o.value)==null?void 0:B.contains(c)),T=!Ie(v,n.value),k=!!c.closest("[data-grace-area-trigger]");m?d():(T||k)&&(d(),a.trigger())};(u=t.value)==null||u.ownerDocument.addEventListener("pointermove",p),r(()=>{var i;return(i=t.value)==null?void 0:i.ownerDocument.removeEventListener("pointermove",p)})}}),{isPointerInTransit:e,onPointerExit:a.on}}function Me(t,o){const e=Math.abs(o.top-t.y),n=Math.abs(o.bottom-t.y),a=Math.abs(o.right-t.x),d=Math.abs(o.left-t.x);switch(Math.min(e,n,a,d)){case d:return"left";case a:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Fe(t,o,e=5){const n=[];switch(o){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function ze(t){const{top:o,right:e,bottom:n,left:a}=t;return[{x:a,y:o},{x:e,y:o},{x:e,y:n},{x:a,y:n}]}function Ie(t,o){const{x:e,y:n}=t;let a=!1;for(let d=0,l=o.length-1;d<o.length;l=d++){const r=o[d].x,u=o[d].y,p=o[l].x,i=o[l].y;u>n!=i>n&&e<(p-r)*(n-u)/(i-u)+r&&(a=!a)}return a}function Ke(t){const o=t.slice();return o.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),Ne(o)}function Ne(t){if(t.length<=1)return t.slice();const o=[];for(let n=0;n<t.length;n++){const a=t[n];for(;o.length>=2;){const d=o[o.length-1],l=o[o.length-2];if((d.x-l.x)*(a.y-l.y)>=(d.y-l.y)*(a.x-l.x))o.pop();else break}o.push(a)}o.pop();const e=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;e.length>=2;){const d=e[e.length-1],l=e[e.length-2];if((d.x-l.x)*(a.y-l.y)>=(d.y-l.y)*(a.x-l.x))e.pop();else break}e.push(a)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}const je=_({__name:"TooltipArrow",props:{width:{default:10},height:{default:5},asChild:{type:Boolean},as:{default:"svg"}},setup(t){const o=t;return P(),(e,n)=>(g(),b(s(Ee),M(F(o)),{default:f(()=>[w(e.$slots,"default")]),_:3},16))}}),q="tooltip.open",[z,Ve]=G("TooltipProvider"),Ge=_({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{default:700},skipDelayDuration:{default:300},disableHoverableContent:{type:Boolean,default:!1},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean,default:!1}},setup(t){const o=t,{delayDuration:e,skipDelayDuration:n,disableHoverableContent:a,disableClosingTrigger:d,ignoreNonKeyboardFocus:l,disabled:r}=de(o);P();const u=D(!0),p=D(!1),{start:i,stop:c}=W(()=>{u.value=!0},n,{immediate:!1});return Ve({isOpenDelayed:u,delayDuration:e,onOpen(){c(),u.value=!1},onClose(){i()},isPointerInTransitRef:p,disableHoverableContent:a,disableClosingTrigger:d,disabled:r,ignoreNonKeyboardFocus:l}),(v,m)=>w(v.$slots,"default")}}),[E,We]=G("TooltipRoot"),Ye=_({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:o}){const e=t,n=o;P();const a=z(),d=x(()=>e.disableHoverableContent??a.disableHoverableContent.value),l=x(()=>e.disableClosingTrigger??a.disableClosingTrigger.value),r=x(()=>e.disabled??a.disabled.value),u=x(()=>e.delayDuration??a.delayDuration.value),p=x(()=>e.ignoreNonKeyboardFocus??a.ignoreNonKeyboardFocus.value),i=Z(e,"open",n,{defaultValue:e.defaultOpen,passive:e.open===void 0});ue(i,S=>{a.onClose&&(S?(a.onOpen(),document.dispatchEvent(new CustomEvent(q))):a.onClose())});const c=D(!1),v=D(),m=x(()=>i.value?c.value?"delayed-open":"instant-open":"closed"),{start:T,stop:k}=W(()=>{c.value=!0,i.value=!0},u,{immediate:!1});function C(){k(),c.value=!1,i.value=!0}function B(){k(),i.value=!1}function A(){T()}return We({contentId:"",open:i,stateAttribute:m,trigger:v,onTriggerChange(S){v.value=S},onTriggerEnter(){a.isOpenDelayed.value?A():C()},onTriggerLeave(){d.value?B():k()},onOpen:C,onClose:B,disableHoverableContent:d,disableClosingTrigger:l,disabled:r,ignoreNonKeyboardFocus:p}),(S,vt)=>(g(),b(s(we),null,{default:f(()=>[w(S.$slots,"default",{open:s(i)})]),_:3}))}}),Q=_({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,n=o,a=E(),{forwardRef:d}=P(),l=ce(),r=x(()=>{var i;return(i=l.default)==null?void 0:i.call(l,{})}),u=x(()=>{var v;if(e.ariaLabel)return e.ariaLabel;let i="";function c(m){typeof m.children=="string"&&m.type!==pe?i+=m.children:Array.isArray(m.children)&&m.children.forEach(T=>c(T))}return(v=r.value)==null||v.forEach(m=>c(m)),i}),p=x(()=>{const{ariaLabel:i,...c}=e;return c});return X(()=>{I(window,"scroll",i=>{const c=i.target;c!=null&&c.contains(a.trigger.value)&&a.onClose()}),I(window,q,a.onClose)}),(i,c)=>(g(),b(s(ee),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:c[0]||(c[0]=v=>n("escapeKeyDown",v)),onPointerDownOutside:c[1]||(c[1]=v=>{var m;s(a).disableClosingTrigger.value&&((m=s(a).trigger.value)!=null&&m.contains(v.target))&&v.preventDefault(),n("pointerDownOutside",v)}),onFocusOutside:c[2]||(c[2]=fe(()=>{},["prevent"])),onDismiss:c[3]||(c[3]=v=>s(a).onClose())},{default:f(()=>[y(s(Ce),$({ref:s(d),"data-state":s(a).stateAttribute.value},{...i.$attrs,...p.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:f(()=>[w(i.$slots,"default"),y(s(Te),{id:s(a).contentId,role:"tooltip"},{default:f(()=>[R(O(u.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Xe=_({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(t){const e=te(t),{forwardRef:n,currentElement:a}=P(),{trigger:d,onClose:l}=E(),r=z(),{isPointerInTransit:u,onPointerExit:p}=He(d,a);return r.isPointerInTransitRef=u,p(()=>{l()}),(i,c)=>(g(),b(Q,$({ref:s(n)},s(e)),{default:f(()=>[w(i.$slots,"default")]),_:3},16))}}),qe=_({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,n=o,a=E(),d=H(e,n),{forwardRef:l}=P();return(r,u)=>(g(),b(s(oe),{present:r.forceMount||s(a).open.value},{default:f(()=>[(g(),b(ge(s(a).disableHoverableContent.value?Q:Xe),$({ref:s(l)},s(d)),{default:f(()=>[w(r.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Qe=_({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const o=t;return(e,n)=>(g(),b(s(ae),M(F(o)),{default:f(()=>[w(e.$slots,"default")]),_:3},16))}}),Je=_({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const o=t,e=E(),n=z();e.contentId||(e.contentId=se(void 0,"reka-tooltip-content"));const{forwardRef:a,currentElement:d}=P(),l=D(!1),r=D(!1),u=x(()=>e.disabled.value?{}:{click:k,focus:m,pointermove:c,pointerleave:v,pointerdown:i,blur:T});X(()=>{e.onTriggerChange(d.value)});function p(){setTimeout(()=>{l.value=!1},1)}function i(){e.open&&!e.disableClosingTrigger.value&&e.onClose(),l.value=!0,document.addEventListener("pointerup",p,{once:!0})}function c(C){C.pointerType!=="touch"&&!r.value&&!n.isPointerInTransitRef.value&&(e.onTriggerEnter(),r.value=!0)}function v(){e.onTriggerLeave(),r.value=!1}function m(C){var B,A;l.value||e.ignoreNonKeyboardFocus.value&&!((A=(B=C.target).matches)!=null&&A.call(B,":focus-visible"))||e.onOpen()}function T(){e.onClose()}function k(){e.disableClosingTrigger.value||e.onClose()}return(C,B)=>(g(),b(s(xe),{"as-child":"",reference:C.reference},{default:f(()=>[y(s(V),$({ref:s(a),"aria-describedby":s(e).open.value?s(e).contentId:void 0,"data-state":s(e).stateAttribute.value,as:C.as,"as-child":o.asChild,"data-grace-area-trigger":""},ve(u.value)),{default:f(()=>[w(C.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ne("DotIcon",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]),Ze=_({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:o}){const a=H(t,o);return(d,l)=>(g(),b(s(Ye),$({"data-slot":"tooltip"},s(a)),{default:f(()=>[w(d.$slots,"default")]),_:3},16))}}),et=_({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,n=o,a=re(e,"class"),d=H(a,n);return(l,r)=>(g(),b(s(Qe),null,{default:f(()=>[y(s(qe),$({"data-slot":"tooltip-content"},{...s(d),...l.$attrs},{class:s(Y)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",e.class)}),{default:f(()=>[w(l.$slots,"default"),y(s(je),{class:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]),_:3},16,["class"])]),_:3}))}}),tt=_({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(t){const o=t;return(e,n)=>(g(),b(s(Ge),M(F(o)),{default:f(()=>[w(e.$slots,"default")]),_:3},16))}}),ot=_({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(t){const o=t;return(e,n)=>(g(),b(s(Je),$({"data-slot":"tooltip-trigger"},o),{default:f(()=>[w(e.$slots,"default")]),_:3},16))}}),at={class:"absolute top-3 p-1 rounded-[50%] bg-secondary right-3 text-white"},st={class:"p-4 flex flex-col gap-3"},nt={class:"flex flex-wrap gap-x-2 gap-y-0 text-xs"},rt={class:"flex items-center gap-1"},it={class:"truncate text-lg leading-tight font-semibold"},lt={class:"mt-1 flex gap-2 items-center text-sm"},dt={class:"mt-1 flex gap-2 items-center text-sm"},ut={class:"mt-1 flex gap-2 items-center text-sm"},ct={class:"flex flex-wrap items-center"},pt={class:"w-1/3 ms-auto text-center text-sm text-gray-600"},ft={class:"mt-auto ms-auto w-full flex items-baseline"},gt={class:"flex flex-wrap items-center"},Ct=_({__name:"SignboardCardV1",props:{class:{},imageHeight:{default:"48"},signboard:{},isAdvertised:{type:Boolean,default:!1},carouselPlugin:{}},emits:["popoverOpen"],setup(t,{emit:o}){const e=o,n=r=>{e("popoverOpen",r)},a=t,d=D(a.signboard),l=r=>{d.value=r};return(r,u)=>(g(),L("div",{class:N(s(Y)("overflow-hidden relative  rounded-lg bg-white shadow cursor-pointer transform transition-transform duration-300 hover:scale-99",a.class))},[r.isAdvertised?(g(),b(s(tt),{key:0},{default:f(()=>[y(s(Ze),null,{default:f(()=>[y(s(ot),{"as-child":""},{default:f(()=>[h("div",at,[y(s(Be),{size:15})])]),_:1}),y(s(et),{side:"bottom"},{default:f(()=>u[1]||(u[1]=[R(" Trusted Business ")])),_:1,__:[1]})]),_:1})]),_:1})):he("",!0),h("img",{class:N(["object-end w-full object-cover","h-"+r.imageHeight]),src:"https://images.unsplash.com/photo-1570797197190-8e003a00c846?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=968&q=80",alt:"Home in Countryside",onClick:u[0]||(u[0]=p=>s(me).visit(r.route("signboards.show",r.signboard.slug)))},null,2),h("div",st,[h("div",nt,[(g(!0),L(ye,null,be(r.signboard.categories,p=>(g(),L("div",{class:"flex items-center truncate",key:p.id},[y(s(Ue),{class:"text-primary h-5 w-5",size:35}),h("div",null,O(p.name),1)]))),128))]),h("div",null,[h("div",rt,[h("h4",it,[y(s(j),{href:r.route("signboards.show",r.signboard.slug),class:"hover:underline hover:text-secondary"},{default:f(()=>[R(O(r.signboard.business.name),1)]),_:1},8,["href"])])]),h("div",lt,[y(s(Oe),{size:15,class:"text-primary"}),h("div",null,O(r.signboard.region.name)+" Region",1)]),h("div",dt,[y(s(Pe),{size:15,class:"text-primary"}),h("div",null,O(r.signboard.town),1)]),h("div",ut,[y(s($e),{size:15,class:"text-primary"}),h("div",null,O(r.signboard.street),1)])]),h("div",ct,[h("span",null,[(g(),b(s(De),{"star-size":17,"show-rating":!1,rating:d.value.total_average_rating,"read-only":"","active-color":"#009689","rounded-corners":!0,padding:3,class:"md:w-1/3 w-full",key:`rating-card-${r.signboard.id}`,increment:.01},null,8,["rating"]))]),h("span",pt,O(d.value.reviews_count)+" reviews",1)]),h("div",ft,[h("div",gt,[y(ke,{signboard:d.value,id:`rating-pop-${r.signboard.id}`,"carousel-plugin":r.carouselPlugin,onPopoverOpen:n,onRated:l},{default:f(()=>u[2]||(u[2]=[h("span",{class:"md:w-1/3 w-full text-primary underline text-sm font-semibold hover:text-secondary"},"Review",-1)])),_:1,__:[2]},8,["signboard","id","carousel-plugin"])]),y(s(ie),{size:"sm",variant:"secondary","as-child":"",class:"ms-auto mt-auto"},{default:f(()=>[y(s(j),{href:r.route("signboards.show",r.signboard.slug),class:"text-primary",size:"sm"},{default:f(()=>u[3]||(u[3]=[R("View Signboard")])),_:1,__:[3]},8,["href"])]),_:1})])])],2))}});export{Ct as _};

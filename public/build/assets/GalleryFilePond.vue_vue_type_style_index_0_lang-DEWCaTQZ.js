import{d as b,c as t,o as a,b as s,a as n,u as d,t as x,i as g,F as w,h as V,C as F,D as k}from"./app-D0VPxvAd.js";import{v as C,p as D,b as P}from"./FeaturedFilePond.vue_vue_type_script_setup_true_lang-CGg663bk.js";import{d as $}from"./Input.vue_vue_type_script_setup_true_lang-CKI53H0c.js";import{P as B}from"./plus-DfX49A_Q.js";import{X as G}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BweDTEUf.js";const N={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},j={class:"flex items-center justify-between mb-4"},A={class:"flex items-center space-x-3"},I={class:"p-2 bg-primary rounded-lg"},R={class:"inline-flex items-center whitespace-nowrap px-3 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full"},S={class:"space-y-4"},E={class:"relative rounded-lg border-2 border-dashed border-gray-300 p-4 transition-all duration-200 hover:border-primary hover:bg-indigo-50/50 group"},L={key:0,class:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto"},O=["src","alt"],X=["onClick"],q={key:1,class:"space-y-1 mt-2"},T=b({__name:"GalleryFilePond",props:{modelValue:{},form:{},existing:{},error:{}},emits:["update:modelValue"],setup(p,{emit:_}){const f=C(P,D),e=p,c=_,h=(r,o)=>{!r&&o.file instanceof File&&c("update:modelValue",[...e.modelValue,o.file])},v=(r,o)=>{c("update:modelValue",e.modelValue.filter(i=>i.name!==o.file.name))},y=r=>{e.form.removed_gallery_urls.includes(r)||e.form.removed_gallery_urls.push(r)};return(r,o)=>{var i,m;return a(),t("div",N,[s("div",j,[s("div",A,[s("div",I,[n(d(B),{class:"h-5 w-5 text-white"})]),o[0]||(o[0]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Gallery Images",-1))]),s("span",R,x((((i=e.existing)==null?void 0:i.filter(l=>!e.form.removed_gallery_urls.includes(l.url)).length)??0)+e.modelValue.length)+" images ",1)]),s("div",S,[s("div",E,[n(d(f),{name:"gallery","allow-multiple":"","accepted-file-types":"image/*","label-idle":'Drag & Drop or <span class="filepond--label-action">Browse</span>',onAddfile:h,onRemovefile:v})]),(m=e.existing)!=null&&m.length?(a(),t("div",L,[(a(!0),t(w,null,V(e.existing,(l,u)=>F((a(),t("div",{key:`existing-${u}`,class:"relative group"},[s("img",{src:l.url,alt:`Gallery image ${u+1}`,class:"w-full h-24 object-cover rounded border"},null,8,O),s("button",{type:"button",onClick:z=>y(l.url),class:"absolute top-1 right-1 bg-red-500 text-white rounded p-1 text-xs hover:bg-red-600 transition-colors"},[n(d(G),{class:"h-3 w-3"})],8,X)])),[[k,l.url&&!e.form.removed_gallery_urls.includes(l.url)]])),128))])):g("",!0),e.error?(a(),t("div",q,[n($,{message:e.error},null,8,["message"])])):g("",!0)])])}}});export{T as _};

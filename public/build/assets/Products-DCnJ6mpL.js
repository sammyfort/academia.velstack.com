import{d as A,p as le,r as q,q as w,j as x,o as m,w as f,k as z,G as oe,u as e,m as ke,y as W,i as Q,K as qe,f as G,L as ve,a as g,c as K,F as B,h as I,x as Ke,E as Ae,b as _,e as F,t as O,C as te,D as ae,W as ge,n as Be,g as Me}from"./app-C08sUrqi.js";import{u as Re,_ as Ie}from"./Layout.vue_vue_type_script_setup_true_lang-BDquMtOD.js";import{b as ie,c as ze}from"./helpers-DiqNEN_e.js";import{u as Te,_ as Fe}from"./BackToTop.vue_vue_type_script_setup_true_lang-Bu2GPiNl.js";import{c as ye,a as Ne,_ as He}from"./InputText.vue_vue_type_script_setup_true_lang-CRcMAOW1.js";import{a as N,u as Oe,P as J,e as Le,r as Ue,c as _e,_ as ue}from"./Input.vue_vue_type_script_setup_true_lang-CwRYwVV6.js";import{e as he,_ as de,a as ce,b as pe,c as me,d as fe}from"./SelectValue.vue_vue_type_script_setup_true_lang-Cp8jDjOM.js";import{_ as Ye}from"./SelectGroup.vue_vue_type_script_setup_true_lang-Bv0L7rv-.js";import{u as je}from"./useDirection-CM4WwNix.js";import{u as We}from"./useFormControl-CGhZBuTf.js";import{u as ne}from"./Collection-SFemdJEy.js";import{V as Xe}from"./VisuallyHiddenInput-DIDE__Nw.js";import{a as be,b as Se,_ as Qe}from"./AdvertisedProductsH.vue_vue_type_script_setup_true_lang-BXT5hqan.js";import{a as Ge,A as Je,_ as Ze,b as et}from"./CarouselItem.vue_vue_type_script_setup_true_lang-Bw1htaIv.js";import{a as tt}from"./api-CVD3sDdL.js";import{S as at}from"./store-HaQYqxKY.js";import"./map-pin-DVYHk9Lb.js";import"./createLucideIcon-Cm3d7vJH.js";import"./check-hDbsyISF.js";import"./nullish-CtH4V8ap.js";import"./VisuallyHidden-BjYBNjsM.js";import"./CardContent.vue_vue_type_script_setup_true_lang-ho7nk2bq.js";import"./VueStarRating.common-Dpvn2ZxB.js";import"./index-C-HMEJGd.js";import"./eye-RaPHpUZL.js";import"./locate-fixed-CNF6AP0G.js";function lt(s=[],l,t){const n=[...s];return n[t]=l,n.sort((u,r)=>u-r)}function we(s,l,t){const r=100/(t-l)*(s-l);return he(r,0,100)}function ot(s,l){return l>2?`Value ${s+1} of ${l}`:l===2?["Minimum","Maximum"][s]:void 0}function nt(s,l){if(s.length===1)return 0;const t=s.map(u=>Math.abs(u-l)),n=Math.min(...t);return t.indexOf(n)}function rt(s,l,t){const n=s/2,r=re([0,50],[0,n]);return(n-r(l)*t)*t}function st(s){return s.slice(0,-1).map((l,t)=>s[t+1]-l)}function it(s,l){if(l>0){const t=st(s);return Math.min(...t)>=l}return!0}function re(s,l){return t=>{if(s[0]===s[1]||l[0]===l[1])return l[0];const n=(l[1]-l[0])/(s[1]-s[0]);return l[0]+n*(t-s[0])}}function ut(s){return(String(s).split(".")[1]||"").length}function dt(s,l){const t=10**l;return Math.round(s*t)/t}const xe=["PageUp","PageDown"],Ce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[De,Ee]=ye(["SliderVertical","SliderHorizontal"]);var ct=A({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(s,{emit:l}){const t=s,n=l,{max:u,min:r,dir:a,inverted:o}=le(t),{forwardRef:c,currentElement:i}=N(),y=L(),P=q(),V=q(),$=w(()=>(a==null?void 0:a.value)!=="rtl"&&!o.value||(a==null?void 0:a.value)!=="ltr"&&o.value);function h(p,d){const v=V.value||i.value.getBoundingClientRect(),E=[...y.thumbElements.value][y.valueIndexToChangeRef.value],R=y.thumbAlignment.value==="contain"?E.clientWidth:0;!P.value&&!d&&y.thumbAlignment.value==="contain"&&(P.value=p.clientX-E.getBoundingClientRect().left);const Y=[0,v.width-R],M=$.value?[r.value,u.value]:[u.value,r.value],H=re(Y,M);V.value=v;const b=d?p.clientX-v.left-R/2:p.clientX-v.left-(P.value??0);return H(b)}const C=w(()=>$.value?"left":"right"),U=w(()=>$.value?"right":"left"),D=w(()=>$.value?1:-1);return Ee({startEdge:C,endEdge:U,direction:D,size:"width"}),(p,d)=>(m(),x(Ve,{ref:e(c),dir:e(a),"data-orientation":"horizontal",style:oe({"--reka-slider-thumb-transform":!$.value&&e(y).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:d[0]||(d[0]=v=>{const E=h(v,!0);n("slideStart",E)}),onSlideMove:d[1]||(d[1]=v=>{const E=h(v);n("slideMove",E)}),onSlideEnd:d[2]||(d[2]=()=>{V.value=void 0,P.value=void 0,n("slideEnd")}),onStepKeyDown:d[3]||(d[3]=v=>{const E=$.value?"from-left":"from-right",R=e(Pe)[E].includes(v.key);n("stepKeyDown",v,R?-1:1)}),onEndKeyDown:d[4]||(d[4]=v=>n("endKeyDown",v)),onHomeKeyDown:d[5]||(d[5]=v=>n("homeKeyDown",v))},{default:f(()=>[z(p.$slots,"default")]),_:3},8,["dir","style"]))}}),pt=ct,mt=A({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(s,{emit:l}){const t=s,n=l,{max:u,min:r,inverted:a}=le(t),o=L(),{forwardRef:c,currentElement:i}=N(),y=q(),P=q(),V=w(()=>!a.value);function $(D,p){const d=P.value||i.value.getBoundingClientRect(),v=[...o.thumbElements.value][o.valueIndexToChangeRef.value],E=o.thumbAlignment.value==="contain"?v.clientHeight:0;!y.value&&!p&&o.thumbAlignment.value==="contain"&&(y.value=D.clientY-v.getBoundingClientRect().top);const R=[0,d.height-E],Y=V.value?[u.value,r.value]:[r.value,u.value],M=re(R,Y),H=p?D.clientY-d.top-E/2:D.clientY-d.top-(y.value??0);return P.value=d,M(H)}const h=w(()=>V.value?"bottom":"top"),C=w(()=>V.value?"top":"bottom"),U=w(()=>V.value?1:-1);return Ee({startEdge:h,endEdge:C,direction:U,size:"height"}),(D,p)=>(m(),x(Ve,{ref:e(c),"data-orientation":"vertical",style:oe({"--reka-slider-thumb-transform":!V.value&&e(o).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:p[0]||(p[0]=d=>{const v=$(d,!0);n("slideStart",v)}),onSlideMove:p[1]||(p[1]=d=>{const v=$(d);n("slideMove",v)}),onSlideEnd:p[2]||(p[2]=()=>{P.value=void 0,y.value=void 0,n("slideEnd")}),onStepKeyDown:p[3]||(p[3]=d=>{const v=V.value?"from-bottom":"from-top",E=e(Pe)[v].includes(d.key);n("stepKeyDown",d,E?-1:1)}),onEndKeyDown:p[4]||(p[4]=d=>n("endKeyDown",d)),onHomeKeyDown:p[5]||(p[5]=d=>n("homeKeyDown",d))},{default:f(()=>[z(D.$slots,"default")]),_:3},8,["style"]))}}),ft=mt;const[L,vt]=ye("SliderRoot");var gt=A({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(s,{emit:l}){const t=s,n=l,{min:u,max:r,step:a,minStepsBetweenThumbs:o,orientation:c,disabled:i,thumbAlignment:y,dir:P}=le(t),V=je(P),{forwardRef:$,currentElement:h}=N(),C=We(h),{CollectionSlot:U}=ne({isProvider:!0}),D=Oe(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),p=w(()=>Array.isArray(D.value)?[...D.value]:[]),d=q(0),v=q(p.value);function E(b){const S=nt(p.value,b);M(b,S)}function R(b){M(b,d.value)}function Y(){const b=v.value[d.value];p.value[d.value]!==b&&n("valueCommit",qe(p.value))}function M(b,S,{commit:k}={commit:!1}){var j;const Z=ut(a.value),se=dt(Math.round((b-u.value)/a.value)*a.value+u.value,Z),ee=he(se,u.value,r.value),T=lt(p.value,ee,S);if(it(T,o.value*a.value)){d.value=T.indexOf(ee);const X=String(T)!==String(D.value);X&&k&&n("valueCommit",T),X&&((j=H.value[d.value])==null||j.focus(),D.value=T)}}const H=q([]);return vt({modelValue:D,currentModelValue:p,valueIndexToChangeRef:d,thumbElements:H,orientation:c,min:u,max:r,disabled:i,thumbAlignment:y}),(b,S)=>(m(),x(e(U),null,{default:f(()=>[(m(),x(ke(e(c)==="horizontal"?pt:ft),W(b.$attrs,{ref:e($),"as-child":b.asChild,as:b.as,min:e(u),max:e(r),dir:e(V),inverted:b.inverted,"aria-disabled":e(i),"data-disabled":e(i)?"":void 0,onPointerdown:S[0]||(S[0]=()=>{e(i)||(v.value=p.value)}),onSlideStart:S[1]||(S[1]=k=>!e(i)&&E(k)),onSlideMove:S[2]||(S[2]=k=>!e(i)&&R(k)),onSlideEnd:S[3]||(S[3]=k=>!e(i)&&Y()),onHomeKeyDown:S[4]||(S[4]=k=>!e(i)&&M(e(u),0,{commit:!0})),onEndKeyDown:S[5]||(S[5]=k=>!e(i)&&M(e(r),p.value.length-1,{commit:!0})),onStepKeyDown:S[6]||(S[6]=(k,Z)=>{if(!e(i)){const T=e(xe).includes(k.key)||k.shiftKey&&e(Ce).includes(k.key)?10:1,j=d.value,X=p.value[j],$e=e(a)*T*Z;M(X+$e,j,{commit:!0})}})}),{default:f(()=>[z(b.$slots,"default",{modelValue:e(D)}),e(C)&&b.name?(m(),x(e(Xe),{key:0,type:"number",value:e(D),name:b.name,required:b.required,disabled:e(i),step:e(a)},null,8,["value","name","required","disabled","step"])):Q("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),yt=gt,_t=A({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(s,{emit:l}){const t=s,n=l,u=L();return(r,a)=>(m(),x(e(J),W({"data-slider-impl":""},t,{onKeydown:a[0]||(a[0]=o=>{o.key==="Home"?(n("homeKeyDown",o),o.preventDefault()):o.key==="End"?(n("endKeyDown",o),o.preventDefault()):e(xe).concat(e(Ce)).includes(o.key)&&(n("stepKeyDown",o),o.preventDefault())}),onPointerdown:a[1]||(a[1]=o=>{const c=o.target;c.setPointerCapture(o.pointerId),o.preventDefault(),e(u).thumbElements.value.includes(c)?c.focus():n("slideStart",o)}),onPointermove:a[2]||(a[2]=o=>{o.target.hasPointerCapture(o.pointerId)&&n("slideMove",o)}),onPointerup:a[3]||(a[3]=o=>{const c=o.target;c.hasPointerCapture(o.pointerId)&&(c.releasePointerCapture(o.pointerId),n("slideEnd",o))})}),{default:f(()=>[z(r.$slots,"default")]),_:3},16))}}),Ve=_t,ht=A({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const l=L(),t=De();N();const n=w(()=>l.currentModelValue.value.map(a=>we(a,l.min.value,l.max.value))),u=w(()=>l.currentModelValue.value.length>1?Math.min(...n.value):0),r=w(()=>100-Math.max(...n.value,0));return(a,o)=>(m(),x(e(J),{"data-disabled":e(l).disabled.value?"":void 0,"data-orientation":e(l).orientation.value,"as-child":a.asChild,as:a.as,style:oe({[e(t).startEdge.value]:`${u.value}%`,[e(t).endEdge.value]:`${r.value}%`})},{default:f(()=>[z(a.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),bt=ht,St=A({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(s){const l=s,t=L(),n=De(),{forwardRef:u,currentElement:r}=N(),{CollectionItem:a}=ne(),o=w(()=>{var h,C;return(C=(h=t.modelValue)==null?void 0:h.value)==null?void 0:C[l.index]}),c=w(()=>o.value===void 0?0:we(o.value,t.min.value??0,t.max.value??100)),i=w(()=>{var h,C;return ot(l.index,((C=(h=t.modelValue)==null?void 0:h.value)==null?void 0:C.length)??0)}),y=Re(r),P=w(()=>y[n.size].value),V=w(()=>t.thumbAlignment.value==="overflow"||!P.value?0:rt(P.value,c.value,n.direction.value)),$=Le();return G(()=>{t.thumbElements.value.push(r.value)}),ve(()=>{const h=t.thumbElements.value.findIndex(C=>C===r.value)??-1;t.thumbElements.value.splice(h,1)}),(h,C)=>(m(),x(e(a),null,{default:f(()=>[g(e(J),W(h.$attrs,{ref:e(u),role:"slider",tabindex:e(t).disabled.value?void 0:0,"aria-label":h.$attrs["aria-label"]||i.value,"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value,"aria-valuenow":o.value,"aria-valuemin":e(t).min.value,"aria-valuemax":e(t).max.value,"aria-orientation":e(t).orientation.value,"as-child":h.asChild,as:h.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[e(n).startEdge.value]:`calc(${c.value}% + ${V.value}px)`,display:!e($)&&o.value===void 0?"none":void 0},onFocus:C[0]||(C[0]=()=>{e(t).valueIndexToChangeRef.value=h.index})}),{default:f(()=>[z(h.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),wt=St,xt=A({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const l=s,{getItems:t}=ne(),{forwardRef:n,currentElement:u}=N(),r=w(()=>u.value?t(!0).findIndex(a=>a.ref===u.value):-1);return(a,o)=>(m(),x(wt,W({ref:e(n)},l,{index:r.value}),{default:f(()=>[z(a.$slots,"default")]),_:3},16,["index"]))}}),Ct=xt,Pt=A({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const l=L();return N(),(t,n)=>(m(),x(e(J),{"as-child":t.asChild,as:t.as,"data-disabled":e(l).disabled.value?"":void 0,"data-orientation":e(l).orientation.value},{default:f(()=>[z(t.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),Dt=Pt;const Et=A({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(s,{emit:l}){const t=s,n=l,u=Ue(t,"class"),r=Ne(u,n);return(a,o)=>(m(),x(e(yt),W({"data-slot":"slider",class:e(_e)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t.class)},e(r)),{default:f(({modelValue:c})=>[g(e(Dt),{"data-slot":"slider-track",class:"bg-gray-300 relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"},{default:f(()=>[g(e(bt),{"data-slot":"slider-range",class:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})]),_:1}),(m(!0),K(B,null,I(c,(i,y)=>(m(),x(e(Ct),{key:y,"data-slot":"slider-thumb",class:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"}))),128))]),_:1},16,["class"]))}}),Vt={class:"grid grid-cols-2 gap-4"},$t={class:"flex flex-col gap-3 w-full col-span-2 md:col-span-1 lg:col-span-2"},kt={class:"flex justify-between"},qt={class:"text-xs"},Kt={class:"text-xs"},At={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},Bt=A({__name:"ProductsFilter",props:{categories:{},regions:{},highestPrice:{}},setup(s){const t=Ke({q:"",categories:null,region:null,price:`0,${s.highestPrice}`}),{filteredQuery:n,runFilter:u}=Te({form:t,routeName:"products.index",preserveKeys:["productsData"],buildQuery:r=>{var a;t.q&&r.filter("q",t.q),t.region&&r.filter("region",t.region.toString()),t.price&&r.filter("price",t.price),(a=t.categories)!=null&&a.length&&t.categories.forEach(o=>{r.filter("categories",o.toString())})}});return Ae(()=>{const r=new URLSearchParams(window.location.search),a=r.get("filter[q]"),o=r.get("filter[categories]"),c=r.get("filter[region]"),i=r.get("filter[price]");t.categories=o?o.split(",").map(y=>Number(y)):[],t.region=c?Number(c):null,t.q=a||"",t.price=i||t.price,r.size>0&&(n.value="&"+r.toString())}),(r,a)=>{var o,c;return m(),K(B,null,[a[7]||(a[7]=_("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),_("div",Vt,[g(He,{placeholder:"Search products...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(t)},null,8,["form"]),g(e(de),{modelValue:e(t).categories,"onUpdate:modelValue":a[0]||(a[0]=i=>e(t).categories=i),"default-value":e(t).categories,multiple:!0},{default:f(()=>[g(e(ce),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:f(()=>[g(e(pe),{placeholder:"Category"})]),_:1}),g(e(me),null,{default:f(()=>[(m(!0),K(B,null,I(r.categories,i=>(m(),x(e(fe),{key:i.id,value:i.id},{default:f(()=>[F(O(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","default-value"]),g(e(de),{modelValue:e(t).region,"onUpdate:modelValue":a[1]||(a[1]=i=>e(t).region=i),"default-value":e(t).region},{default:f(()=>[g(e(ce),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:f(()=>[g(e(pe),{placeholder:"Region"})]),_:1}),g(e(me),null,{default:f(()=>[g(e(Ye),null,{default:f(()=>[(m(!0),K(B,null,I(r.regions,i=>(m(),x(e(fe),{key:i.id,value:i.id},{default:f(()=>[F(O(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","default-value"]),_("div",$t,[a[4]||(a[4]=_("div",{class:"w-full"},"Price",-1)),g(e(Et),{"default-value":[e(t).price.split(",")[0],e(t).price.split(",")[1]],max:r.highestPrice??100,step:1,"onUpdate:modelValue":a[2]||(a[2]=i=>{e(t).price=`${i==null?void 0:i[0]},${i==null?void 0:i[1]}`}),class:"bg-gray-300"},null,8,["default-value","max"]),_("div",kt,[_("span",null,[_("span",qt,O(e(ie)()),1),F(O((o=e(t).price)!=null&&o.length?e(t).price.split(",")[0]:0),1)]),_("span",null,[_("span",Kt,O(e(ie)()),1),F(O((c=e(t).price)!=null&&c.length?e(t).price.split(",")[1]:100),1)])])]),_("div",At,[g(e(ue),{onClick:e(u),processing:e(t).processing},{default:f(()=>a[5]||(a[5]=[F("Apply Filter ")])),_:1,__:[5]},8,["onClick","processing"]),te(g(e(ue),{variant:"secondary",onClick:a[3]||(a[3]=i=>e(ge).visit(r.route("products.index")))},{default:f(()=>a[6]||(a[6]=[F("Reset ")])),_:1,__:[6]},512),[[ae,e(n)]])])])],64)}}});function Mt({initialData:s,nextPageUrl:l,resourceKey:t,preserveKeys:n=[]}){const u=q(s),r=q(!1),a=q(l),o=()=>{r.value||!a.value||window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&c()},c=()=>{ge.get(a.value,{},{preserveState:!0,preserveScroll:!0,preserveUrl:!0,only:n,onStart:()=>r.value=!0,onFinish:()=>r.value=!1,onSuccess:i=>{const y=i.props[t];y?(u.value=[...u.value,...y.data],a.value=y.next_page_url):console.warn(`Key "${t}" not found in page.props`)}})};return G(()=>{window.addEventListener("scroll",o)}),ve(()=>{window.removeEventListener("scroll",o)}),{items:u,loading:r,nextPage:a,fetchMore:c}}const Rt=A({__name:"AdvertisedProductsV",props:{itemsClass:{}},setup(s){const l=Je({delay:5e3,stopOnMouseEnter:!0,stopOnInteraction:!1}),t=s,n=q([]),u=q(!1);G(async()=>{u.value=!0,n.value=(await tt()).products,u.value=!1});const r=q(!1),a=c=>{r.value=c},o=()=>{if(r.value)l.stop();else try{l.reset(),l.play()}catch{}};return(c,i)=>n.value.length?(m(),x(e(Ze),{key:0,plugins:[e(l)],onMouseenter:e(l).stop,onMouseleave:o,opts:{loop:!0},orientation:"vertical"},{default:f(()=>[g(e(Ge),{class:Be(e(_e)("mb-5",t.itemsClass))},{default:f(()=>[(m(!0),K(B,null,I(n.value,y=>(m(),x(e(et),{class:"basis-1/3",key:y.id},{default:f(()=>[g(be,{product:y,"carousel-plugin":e(l),onPopoverOpen:a},null,8,["product","carousel-plugin"]),u.value?(m(),K(B,{key:0},I([1,2,3],P=>g(Se,{key:P})),64)):Q("",!0)]),_:2},1024))),128))]),_:1},8,["class"])]),_:1},8,["plugins","onMouseenter"])):Q("",!0)}}),It={class:"w-full"},zt={class:"relative grid grid-cols-5 w-full gap-15"},Tt={class:"lg:block col-span-5 lg:col-span-1"},Ft={class:"sticky top-40"},Nt={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},Ht={class:"grid items-stretch gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},Ot={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},Lt={class:"hidden lg:block lg:col-span-1"},Ut={class:"sticky top-40"},Yt={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},ha=A({__name:"Products",props:{productsData:{},categories:{},regions:{},highestPrice:{}},setup(s){const l=s,{items:t,loading:n,nextPage:u}=Mt({initialData:l.productsData.data,nextPageUrl:l.productsData.next_page_url,resourceKey:"productsData",preserveKeys:["productsData"]});return G(()=>{u.value=l.productsData.next_page_url,t.value=l.productsData.data}),(r,a)=>(m(),K(B,null,[g(e(Me),{title:"Products"}),g(Ie,null,{default:f(()=>[_("div",It,[a[2]||(a[2]=_("div",{class:"w-full my-10 text-center"},[_("div",{class:"text-fade text-2xl font-semibold"},"Shop")],-1)),_("div",zt,[_("div",Tt,[_("div",Ft,[g(Bt,{regions:r.regions,categories:r.categories,highestPrice:r.highestPrice},null,8,["regions","categories","highestPrice"])])]),_("div",Nt,[_("div",Ht,[(m(!0),K(B,null,I(e(ze)(e(t),15),(o,c)=>(m(),K(B,{key:`chunk-${c}`},[(m(!0),K(B,null,I(o,i=>(m(),x(be,{key:`product-${i.id}`,product:i},null,8,["product"]))),128)),te(g(Qe,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:f(()=>a[0]||(a[0]=[_("div",{class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},[_("span",null,"Popular Sellers")],-1)])),_:2,__:[0]},1536),[[ae,o.length>14]])],64))),128)),(m(),K(B,null,I([1,2,3,4],o=>te(g(Se,{key:o,class:"shadow-2xl"}),[[ae,e(n)]])),64))]),e(t).length?Q("",!0):(m(),K("div",Ot," No results found, broaden your search... "))]),_("div",Lt,[_("div",Ut,[_("div",Yt,[a[1]||(a[1]=F(" Popular Sellers ")),g(e(at),{size:22,class:"text-primary"})]),g(Rt,{"items-class":"h-screen",class:""})])])])]),g(Fe)]),_:1})],64))}});export{ha as default};

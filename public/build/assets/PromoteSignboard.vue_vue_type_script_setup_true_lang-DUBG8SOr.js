import{d as u,r as y,x as f,c as i,o as r,b as t,j as v,i as b,t as l,F as x,h as w,a as c,u as m,w as h,e as g,f as k,n as P,O as $}from"./app-C9ZopDta.js";import{a as S,n as T}from"./helpers-D3nVrpGb.js";import{_ as N}from"./InputSelect.vue_vue_type_script_setup_true_lang-CP5T3tOn.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-CbC4zl6P.js";import{R as C}from"./rocket-k9ehBJJj.js";import{c as z}from"./createLucideIcon-DIBFlSSA.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=z("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),V={class:"mt-6 mb-4 border-t border-gray-100 pt-4"},B={class:"mb-3 flex items-center justify-between"},F={key:0,class:"space-y-2"},E={class:"text-gray-600"},L={class:"font-semibold text-primary"},R={key:1,class:"relative"},U=u({__name:"PromoteNow",props:{promotable:{},plans:{},promotableType:{}},setup(_){const o=_,d=y(!1),e=f({plan_id:null,promotable_id:o.promotable.id,promotable_type:o.promotableType}),s=()=>{e.post(route("promotions.payment.initialize"),{replace:!0,onSuccess:p=>{const a=p.props.data.authorization_url;a?window.location=a:S("Payment initialization failed, pleased reload the page and try again")}})};return(p,a)=>(r(),i("div",V,[t("div",B,[a[1]||(a[1]=t("h4",{class:"font-semibold text-gray-900"},"Promote Now",-1)),t("button",{onClick:a[0]||(a[0]=n=>d.value=!d.value),class:"text-sm font-medium text-primary transition-colors hover:text-primary/80"},l(d.value?"Select Plan":"View Plans"),1)]),d.value?(r(),i("div",F,[(r(!0),i(x,null,w(o.plans.slice(0,3),n=>(r(),i("div",{key:n.id,class:"flex items-center justify-between text-sm"},[t("span",E,l(n.number_of_days)+" Days",1),t("span",L,l(n.price),1)]))),128))])):(r(),i("div",R,[c(N,{label:"Select Plan",form:m(e),model:"plan_id",options:o.plans.map(n=>({label:`${n.name} - ${n.number_of_days} Days - â‚µ${n.price}`,value:n.id})),required:"",searchable:""},null,8,["form","options"])])),m(e).plan_id?(r(),v(m(j),{key:2,onClick:s,processing:m(e).processing,class:"mt-4 w-full"},{default:h(()=>[c(m(C),{class:"h-4 w-4"}),a[2]||(a[2]=g(" Promote Now "))]),_:1,__:[2]},8,["processing"])):b("",!0)]))}}),I={class:"mb-6 rounded-2xl border border-gray-100 bg-white p-6 shadow-xl"},q={class:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-900"},M={class:"mb-6"},O={class:"mb-3 flex items-center justify-between"},A={key:0,class:"flex flex-col w-full gap-1 mb-3"},G={class:"text-fade ms-auto text-sm"},H={class:"h-2 w-full rounded-full bg-gray-200"},J={class:"space-y-2 text-sm"},K={class:"flex justify-between"},Q={class:"font-semibold"},W={class:"flex justify-between"},X={class:"font-semibold"},Y={key:0,class:"flex justify-between"},Z={class:"font-semibold text-orange-600"},rt=u({__name:"PromoteSignboard",props:{signboard:{},plans:{},promotableType:{}},setup(_){const o=_,d=y(0);return f({plan_id:null,promotable_id:o.signboard.id,promotable_type:o.promotableType}),k(()=>{const e=o.signboard.active_promotion;if(e&&e.total_days>0&&e.days_left>0){const s=e.total_days-e.days_left;s>0&&(d.value=T(100*s/e.total_days,0))}}),(e,s)=>{var p;return r(),i("div",I,[t("h3",q,[c(m(D),{class:"h-5 w-5 text-primary"}),s[0]||(s[0]=g(" Promote Signboard "))]),t("div",M,[t("div",O,[s[1]||(s[1]=t("span",{class:"font-medium text-gray-600"},"Current Status",-1)),t("span",{class:P(["rounded-full px-3 py-1 text-sm font-medium",o.signboard.active_promotion?"bg-green-600 text-white":"bg-red-600 text-white"])},l(o.signboard.active_promotion?"Promoted":"Not Promoted"),3)]),e.signboard.active_promotion?(r(),i("div",A,[t("div",G,l((p=o.signboard.active_promotion)==null?void 0:p.days_left)+" Day(s) Left",1),t("div",H,[t("div",{class:"h-2 rounded-full bg-primary transition-all duration-300",style:$({width:`${d.value}%`})},null,4)])])):b("",!0),t("div",J,[t("div",K,[s[2]||(s[2]=t("span",{class:"text-gray-600"},"Reviews",-1)),t("span",Q,l(o.signboard.reviews_count||0),1)]),t("div",W,[s[3]||(s[3]=t("span",{class:"text-gray-600"},"Total Views",-1)),t("span",X,l(o.signboard.views_count||0),1)]),o.signboard.active_promotion?(r(),i("div",Y,[s[4]||(s[4]=t("span",{class:"text-gray-600"},"Expires",-1)),t("span",Z,l(new Date(o.signboard.active_promotion.ends_at).toDateString()),1)])):b("",!0)])]),c(U,{promotable:e.signboard,plans:e.plans,"promotable-type":e.promotableType},null,8,["promotable","plans","promotable-type"])])}}});export{rt as _};

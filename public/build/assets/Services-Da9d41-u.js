import{d as S,x as O,E as R,c as d,o as c,F as m,b as i,a,u as e,w as n,h as f,C as x,D as h,e as _,W as T,j as v,t as w,r as b,f as z,i as k,n as U,g as Q}from"./app-C08sUrqi.js";import{_ as H}from"./Layout.vue_vue_type_script_setup_true_lang-BDquMtOD.js";import{a as A,_ as I}from"./AdvertisedServicesH.vue_vue_type_script_setup_true_lang-By6Y_Q6-.js";import{_ as K}from"./InputText.vue_vue_type_script_setup_true_lang-CRcMAOW1.js";import{_ as D,c as L}from"./Input.vue_vue_type_script_setup_true_lang-CwRYwVV6.js";import{_ as C,a as V,b as F,c as N,d as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-Cp8jDjOM.js";import{_ as W}from"./SelectGroup.vue_vue_type_script_setup_true_lang-Bv0L7rv-.js";import{u as j,_ as G}from"./BackToTop.vue_vue_type_script_setup_true_lang-Bu2GPiNl.js";import{u as J}from"./useScrollPagination-Bp1rHfqW.js";import{c as X}from"./helpers-DiqNEN_e.js";import{a as Y,A as Z,_ as ee,b as se}from"./CarouselItem.vue_vue_type_script_setup_true_lang-Bw1htaIv.js";import{c as te}from"./api-CVD3sDdL.js";import{_ as B}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-BhLhjcSp.js";import{H as M}from"./hammer-BxWW_WrZ.js";import{S as ae}from"./star-C80Jaa7u.js";import"./map-pin-DVYHk9Lb.js";import"./createLucideIcon-Cm3d7vJH.js";import"./CardContent.vue_vue_type_script_setup_true_lang-ho7nk2bq.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-BN9cdVoU.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CLLn8H5h.js";import"./VisuallyHidden-BjYBNjsM.js";import"./VueStarRating.common-Dpvn2ZxB.js";import"./eye-RaPHpUZL.js";import"./Collection-SFemdJEy.js";import"./check-hDbsyISF.js";import"./nullish-CtH4V8ap.js";import"./useDirection-CM4WwNix.js";import"./useFormControl-CGhZBuTf.js";const re={class:"grid grid-cols-2 gap-4"},oe={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},le=S({__name:"ServicesFilter",props:{categories:{},regions:{}},setup(y){const s=O({q:"",categories:null,region:null}),{filteredQuery:p,runFilter:g}=j({form:s,routeName:"services.index",preserveKeys:["servicesData"],buildQuery:o=>{var t;s.q&&o.filter("q",s.q),s.region&&o.filter("region",s.region.toString()),(t=s.categories)!=null&&t.length&&s.categories.forEach(l=>{o.filter("categories",l.toString())})}});return R(()=>{const o=new URLSearchParams(window.location.search),t=o.get("filter[q]"),l=o.get("filter[categories]"),u=o.get("filter[region]");s.categories=l?l.split(",").map(r=>Number(r)):[],s.region=u?Number(u):null,s.q=t||"",o.size>0&&(p.value="&"+o.toString())}),(o,t)=>{var l,u;return c(),d(m,null,[t[5]||(t[5]=i("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),i("div",re,[a(K,{placeholder:"Search service providers...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),a(e(C),{modelValue:e(s).categories,"onUpdate:modelValue":t[0]||(t[0]=r=>e(s).categories=r),"default-value":e(s).categories,multiple:!0},{default:n(()=>[a(e(V),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[a(e(F),{placeholder:"Type of artisan"})]),_:1}),a(e(N),null,{default:n(()=>[(c(!0),d(m,null,f(o.categories,r=>(c(),v(e(q),{key:r.id,value:r.id},{default:n(()=>[_(w(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","default-value"]),a(e(C),{modelValue:e(s).region,"onUpdate:modelValue":t[1]||(t[1]=r=>e(s).region=r),"default-value":e(s).region},{default:n(()=>[a(e(V),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[a(e(F),{placeholder:"Region"})]),_:1}),a(e(N),null,{default:n(()=>[a(e(W),null,{default:n(()=>[(c(!0),d(m,null,f(o.regions,r=>(c(),v(e(q),{key:r.id,value:r.id},{default:n(()=>[_(w(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","default-value"]),i("div",oe,[x(a(e(D),{processing:e(s).processing,onClick:e(g)},{default:n(()=>t[3]||(t[3]=[_("Apply Filter ")])),_:1,__:[3]},8,["processing","onClick"]),[[h,e(s).region||((l=e(s).categories)==null?void 0:l.length)||((u=e(s).q)==null?void 0:u.length)]]),x(a(e(D),{variant:"secondary",onClick:t[2]||(t[2]=r=>e(T).visit(o.route("services.index")))},{default:n(()=>t[4]||(t[4]=[_("Reset ")])),_:1,__:[4]},512),[[h,e(p)]])])])],64)}}}),ie=S({__name:"AdvertisedServicesV",props:{itemsClass:{}},setup(y){const s=Z({delay:5e3,stopOnMouseEnter:!0,stopOnInteraction:!1}),p=y,g=b([]),o=b(!1);z(async()=>{o.value=!0,g.value=(await te()).services,o.value=!1});const t=b(!1),l=r=>{t.value=r},u=()=>{if(t.value)s.stop();else try{s.reset(),s.play()}catch{}};return(r,$)=>g.value.length?(c(),v(e(ee),{key:0,plugins:[e(s)],onMouseenter:e(s).stop,onMouseleave:u,opts:{loop:!0},orientation:"vertical"},{default:n(()=>[a(e(Y),{class:U(e(L)("mb-5",p.itemsClass))},{default:n(()=>[(c(!0),d(m,null,f(g.value,P=>(c(),v(e(se),{class:"basis-1/3",key:P.id},{default:n(()=>[a(A,{class:"border border-secondary",service:P,"carousel-plugin":e(s),onPopoverOpen:l},null,8,["service","carousel-plugin"]),o.value?(c(),d(m,{key:0},f([1,2,3],E=>a(B,{key:E})),64)):k("",!0)]),_:2},1024))),128))]),_:1},8,["class"])]),_:1},8,["plugins","onMouseenter"])):k("",!0)}}),ne={class:"w-full"},ce={class:"relative grid grid-cols-5 w-full gap-15"},ue={class:"lg:block col-span-5 lg:col-span-1"},de={class:"sticky top-40"},me={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},pe={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},ge={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},fe={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},_e={class:"hidden lg:block lg:col-span-1"},ve={class:"sticky top-40"},ye={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},We=S({__name:"Services",props:{servicesData:{},categories:{},regions:{}},setup(y){const s=y,{items:p,loading:g,nextPage:o}=J({initialData:s.servicesData.data,nextPageUrl:s.servicesData.next_page_url,extractResponseData:t=>t.props.servicesData,preserveKeys:["servicesData"]});return z(()=>{o.value=s.servicesData.next_page_url,p.value=s.servicesData.data}),(t,l)=>(c(),d(m,null,[a(e(Q),{title:"Service Providers"}),a(H,null,{default:n(()=>[i("div",ne,[l[2]||(l[2]=i("div",{class:"w-full my-10 text-center"},[i("div",{class:"text-fade text-2xl font-semibold"},"Browse Service Providers")],-1)),i("div",ce,[i("div",ue,[i("div",de,[a(le,{categories:t.categories,regions:t.regions},null,8,["categories","regions"])])]),i("div",me,[i("div",pe,[(c(!0),d(m,null,f(e(X)(e(p),15),(u,r)=>(c(),d(m,{key:`chunk-${r}`},[(c(!0),d(m,null,f(u,$=>(c(),v(A,{key:$.id,service:$},null,8,["service"]))),128)),x(a(I,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:n(()=>[i("div",ge,[a(e(M),{size:25,class:"text-primary"}),l[0]||(l[0]=i("span",null,"Trending Service Providers",-1)),a(e(ae),{size:25,class:"text-primary"})])]),_:2},1536),[[h,u.length>14]])],64))),128)),(c(),d(m,null,f([1,2,3,4],u=>x(a(B,{key:u,class:"shadow-2xl"}),[[h,e(g)]])),64))]),e(p).length?k("",!0):(c(),d("div",fe," No results found, broaden your search... "))]),i("div",_e,[i("div",ve,[i("div",ye,[l[1]||(l[1]=_(" Trending Service Providers ")),a(e(M),{size:22,class:"text-primary"})]),a(ie,{"items-class":"h-screen",class:""})])])])]),a(G)]),_:1})],64))}});export{We as default};

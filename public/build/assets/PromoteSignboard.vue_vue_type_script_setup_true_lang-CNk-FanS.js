import{_ as f}from"./InputSelect.vue_vue_type_script_setup_true_lang-CjQdrc-a.js";import{d as y,r as g,x,c as o,o as i,b as s,a as c,e as m,u as r,n as v,t as n,N as w,h as u,F as h,i as k}from"./app-DkavXA5k.js";import{a as P}from"./helpers-aYKiS03E.js";import{c as S}from"./createLucideIcon-DrSb6WUl.js";import{L as N}from"./Input.vue_vue_type_script_setup_true_lang-B8SU8ehj.js";import{R as j}from"./rocket-DFmmbjg7.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=S("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),V={class:"mb-6 rounded-2xl border border-gray-100 bg-white p-6 shadow-xl"},z={class:"mb-4 flex items-center gap-2 text-xl font-bold text-gray-900"},D={class:"mb-6"},E={class:"mb-3 flex items-center justify-between"},F={class:"mb-3 h-2 w-full rounded-full bg-gray-200"},L={class:"space-y-2 text-sm"},T={class:"flex justify-between"},$={class:"font-semibold"},B={class:"flex justify-between"},R={class:"font-semibold"},U={key:0,class:"flex justify-between"},I={class:"font-semibold text-orange-600"},q={class:"mt-6 mb-4 border-t border-gray-100 pt-4"},A={class:"mb-3 flex items-center justify-between"},G={key:0,class:"space-y-2"},H={class:"text-gray-600"},J={class:"font-semibold text-primary"},K={key:1,class:"relative"},M=["disabled"],O={key:0,class:"flex items-center gap-2"},Q={key:1,class:"flex items-center gap-2"},ts=y({__name:"PromoteSignboard",props:{signboard:{},plans:{}},setup(b){const t=b,d=g(!1),l=x({plan_id:"",signboard_id:t.signboard.id}),_=()=>{l.post(route("payments.signboard-subscription"),{replace:!0,onSuccess:p=>{const e=p.props.data.authorization_url;e?window.location=e:P("Payment initialization failed, pleased reload the page and try again")}})};return(p,e)=>(i(),o("div",V,[s("h3",z,[c(r(C),{class:"h-5 w-5 text-primary"}),e[1]||(e[1]=m(" Promote Signboard "))]),s("div",D,[s("div",E,[e[2]||(e[2]=s("span",{class:"font-medium text-gray-600"},"Current Status",-1)),s("span",{class:v(["rounded-full px-3 py-1 text-sm font-medium",t.signboard.active_subscription>1?"bg-green-600 text-white":"bg-red-600 text-white"])},n(t.signboard.active_subscription>1?"Promoted":"Not Promoted"),3)]),s("div",F,[s("div",{class:"h-2 rounded-full bg-primary transition-all duration-300",style:w([t.signboard.views_count,"%"])},null,4)]),s("div",L,[s("div",T,[e[3]||(e[3]=s("span",{class:"text-gray-600"},"Reviews",-1)),s("span",$,n(t.signboard.reviews_count||0),1)]),s("div",B,[e[4]||(e[4]=s("span",{class:"text-gray-600"},"Total Views",-1)),s("span",R,n(t.signboard.views_count||0),1)]),1<t.signboard.active_subscription?(i(),o("div",U,[e[5]||(e[5]=s("span",{class:"text-gray-600"},"Expires",-1)),s("span",I,n(new Date(t.signboard.active_subscription.ends_at).toDateString()),1)])):u("",!0)])]),s("div",q,[s("div",A,[e[6]||(e[6]=s("h4",{class:"font-semibold text-gray-900"},"Promote Now",-1)),s("button",{onClick:e[0]||(e[0]=a=>d.value=!d.value),class:"text-sm font-medium text-primary transition-colors hover:text-primary/80"},n(d.value?"Select Plan":"View Plans"),1)]),d.value?(i(),o("div",G,[(i(!0),o(h,null,k(t.plans.slice(0,3),a=>(i(),o("div",{key:a.id,class:"flex items-center justify-between text-sm"},[s("span",H,n(a.number_of_days)+" Days",1),s("span",J,n(a.price),1)]))),128))])):(i(),o("div",K,[c(f,{label:"Select Plan",form:r(l),model:"plan_id",options:t.plans.map(a=>({label:`${a.number_of_days} Days - â‚µ${a.price}`,value:a.id})),required:"",searchable:""},null,8,["form","options"])])),r(l).plan_id?(i(),o("button",{key:2,onClick:_,disabled:r(l).processing,class:"mt-4 flex w-full items-center justify-center gap-2 rounded-xl bg-primary px-4 py-3 font-medium text-white transition-all duration-200 hover:scale-105 disabled:cursor-not-allowed disabled:opacity-50"},[r(l).processing?(i(),o("span",O,[c(r(N),{class:"h-4 w-4 animate-spin"}),e[7]||(e[7]=m("Processing..."))])):(i(),o("span",Q,[c(r(j),{class:"h-4 w-4"}),m(" "+n(t.signboard.active_subscription>1?"Extend Promotion":"Promote Now"),1)]))],8,M)):u("",!0)])]))}});export{ts as _};

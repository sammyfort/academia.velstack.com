import{d as P,x as q,E as M,c as u,o as c,F as g,b as a,a as o,u as e,w as p,C as x,D as h,e as $,W as z,r as b,f as C,j as S,i as k,n as A,h as v,g as E}from"./app-wVHDX7b3.js";import{_ as O}from"./Layout.vue_vue_type_script_setup_true_lang-0dXVQfU2.js";import{a as N,_ as T}from"./AdvertisedServicesH.vue_vue_type_script_setup_true_lang-B6iKJi1F.js";import{d as B}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CToo0ylv.js";import{_ as w,c as Q}from"./Input.vue_vue_type_script_setup_true_lang-DG7s7oHy.js";import{_ as R,a as U,b as H,c as I}from"./SelectValue.vue_vue_type_script_setup_true_lang-BCqbA2a8.js";import{u as K,_ as L}from"./BackToTop.vue_vue_type_script_setup_true_lang-B7OKxqpA.js";import{_ as W}from"./CountryRegionSelector.vue_vue_type_script_setup_true_lang-BcyHLWz1.js";import{u as j}from"./useScrollPagination-60Ye9PBq.js";import{c as G}from"./helpers-D16gYOqE.js";import{a as J,A as X,_ as Y,b as Z}from"./CarouselItem.vue_vue_type_script_setup_true_lang-CuUkY8EI.js";import{c as ee}from"./api-DQKpZSFH.js";import{_ as F}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-Bzhp506_.js";import{H as D}from"./hammer-C8l8Uudh.js";import{S as se}from"./star-BJ7j01Eu.js";import"./map-pin-7iaDLS2C.js";import"./createLucideIcon-QzIxZWQP.js";import"./CardContent.vue_vue_type_script_setup_true_lang-D9UqWKDa.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-DMtJmOoZ.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-Df2ThxTF.js";import"./VisuallyHidden-C9twi1Sw.js";import"./VueStarRating.common-DCejQ8ht.js";import"./eye-thhWsS9N.js";import"./check-MJcrbTRP.js";import"./Collection-B5dxH2Rm.js";import"./nullish-CtH4V8ap.js";import"./useDirection-D1P2NgiD.js";import"./useFormControl-BqGtTu23.js";const te={class:"grid grid-cols-2 gap-4"},re={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},oe=P({__name:"ServicesFilter",props:{categories:{},regions:{}},setup(_){const l=_,s=q({q:"",categories:null,country:null,region:null}),{filteredQuery:d,runFilter:f}=K({form:s,routeName:"services.index",preserveKeys:["servicesData"],buildQuery:r=>{var t;s.q&&r.filter("q",s.q),s.region&&r.filter("region",s.region.toString()),s.country&&r.filter("country",s.country.toString()),(t=s.categories)!=null&&t.length&&s.categories.forEach(i=>{r.filter("categories",i.toString())})}});return M(()=>{const r=new URLSearchParams(window.location.search),t=r.get("filter[q]"),i=r.get("filter[categories]"),m=r.get("filter[country]"),n=r.get("filter[region]");s.categories=i?i.split(",").map(y=>Number(y)):[],s.country=m?Number(m):null,s.region=n?Number(n):null,s.q=t||"",r.size>0&&(d.value="&"+r.toString())}),(r,t)=>{var i,m;return c(),u(g,null,[t[4]||(t[4]=a("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),a("div",te,[o(B,{placeholder:"Search service providers...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),o(e(R),{modelValue:e(s).categories,"onUpdate:modelValue":t[0]||(t[0]=n=>e(s).categories=n),"default-value":e(s).categories,multiple:!0},{default:p(()=>[o(e(U),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:p(()=>[o(e(H),{placeholder:"Type of artisan"})]),_:1}),o(e(I),{options:l.categories.map(n=>({label:n.name,value:n.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),o(W,{form:e(s),"region-model":"region","country-model":"country"},null,8,["form"]),a("div",re,[x(o(e(w),{processing:e(s).processing,onClick:e(f)},{default:p(()=>t[2]||(t[2]=[$("Apply Filter ")])),_:1,__:[2]},8,["processing","onClick"]),[[h,e(s).country||e(s).region||((i=e(s).categories)==null?void 0:i.length)||((m=e(s).q)==null?void 0:m.length)]]),x(o(e(w),{variant:"secondary",onClick:t[1]||(t[1]=n=>e(z).visit(r.route("services.index")))},{default:p(()=>t[3]||(t[3]=[$("Reset ")])),_:1,__:[3]},512),[[h,e(d)]])])])],64)}}}),ae=P({__name:"AdvertisedServicesV",props:{itemsClass:{}},setup(_){const l=X({delay:5e3,stopOnMouseEnter:!0,stopOnInteraction:!1}),s=_,d=b([]),f=b(!1);C(async()=>{f.value=!0,d.value=(await ee()).services,f.value=!1});const r=b(!1),t=m=>{r.value=m},i=()=>{if(r.value)l.stop();else try{l.reset(),l.play()}catch{}};return(m,n)=>d.value.length?(c(),S(e(Y),{key:0,plugins:[e(l)],onMouseenter:e(l).stop,onMouseleave:i,opts:{loop:!0},orientation:"vertical"},{default:p(()=>[o(e(J),{class:A(e(Q)("mb-5",s.itemsClass))},{default:p(()=>[(c(!0),u(g,null,v(d.value,y=>(c(),S(e(Z),{class:"basis-1/3",key:y.id},{default:p(()=>[o(N,{class:"border border-secondary",service:y,"carousel-plugin":e(l),onPopoverOpen:t},null,8,["service","carousel-plugin"]),f.value?(c(),u(g,{key:0},v([1,2,3],V=>o(F,{key:V})),64)):k("",!0)]),_:2},1024))),128))]),_:1},8,["class"])]),_:1},8,["plugins","onMouseenter"])):k("",!0)}}),ie={class:"w-full"},le={class:"relative grid grid-cols-5 w-full gap-15"},ne={class:"lg:block col-span-5 lg:col-span-1"},ce={class:"sticky top-40"},me={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},ue={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},pe={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},de={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},ge={class:"hidden lg:block lg:col-span-1"},fe={class:"sticky top-40"},_e={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},Ke=P({__name:"Services",props:{servicesData:{},categories:{},regions:{}},setup(_){const l=_,{items:s,loading:d,nextPage:f}=j({initialData:l.servicesData.data,nextPageUrl:l.servicesData.next_page_url,extractResponseData:r=>r.props.servicesData,preserveKeys:["servicesData"]});return C(()=>{f.value=l.servicesData.next_page_url,s.value=l.servicesData.data}),(r,t)=>(c(),u(g,null,[o(e(E),{title:"Service Providers"}),o(O,null,{default:p(()=>[a("div",ie,[t[2]||(t[2]=a("div",{class:"w-full my-10 text-center"},[a("div",{class:"text-fade text-2xl font-semibold"},"Browse Service Providers")],-1)),a("div",le,[a("div",ne,[a("div",ce,[o(oe,{categories:r.categories,regions:r.regions},null,8,["categories","regions"])])]),a("div",me,[a("div",ue,[(c(!0),u(g,null,v(e(G)(e(s),15),(i,m)=>(c(),u(g,{key:`chunk-${m}`},[(c(!0),u(g,null,v(i,n=>(c(),S(N,{key:n.id,service:n},null,8,["service"]))),128)),x(o(T,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:p(()=>[a("div",pe,[o(e(D),{size:25,class:"text-primary"}),t[0]||(t[0]=a("span",null,"Trending Service Providers",-1)),o(e(se),{size:25,class:"text-primary"})])]),_:2},1536),[[h,i.length>14]])],64))),128)),(c(),u(g,null,v([1,2,3,4],i=>x(o(F,{key:i,class:"shadow-2xl"}),[[h,e(d)]])),64))]),e(s).length?k("",!0):(c(),u("div",de," No results found, broaden your search... "))]),a("div",ge,[a("div",fe,[a("div",_e,[t[1]||(t[1]=$(" Trending Service Providers ")),o(e(D),{size:22,class:"text-primary"})]),o(ae,{"items-class":"h-screen",class:""})])])])]),o(L)]),_:1})],64))}});export{Ke as default};

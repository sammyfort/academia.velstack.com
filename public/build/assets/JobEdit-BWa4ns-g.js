import{d as x,r as k,x as h,f as q,c as _,o as d,a as r,u as e,g as j,w as u,b as s,j as c,i as p,F as v}from"./app-CLl3S2H9.js";import{t as J,a as S}from"./helpers-8GA15I5w.js";import{B as V,_ as U}from"./Layout.vue_vue_type_script_setup_true_lang-UsOI5DRm.js";import{_ as $}from"./PageHeader.vue_vue_type_script_setup_true_lang-DBM3yvel.js";import{_ as f}from"./TextEditor.vue_vue_type_script_setup_true_lang-C7qxhiJo.js";import{_ as C,a as B}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-DwoL7t-J.js";import{_ as i}from"./InputText.vue_vue_type_script_setup_true_lang-BbqDFivA.js";import{_ as n}from"./InputSelect.vue_vue_type_script_setup_true_lang-DkI58gw0.js";import{d as b}from"./Input.vue_vue_type_script_setup_true_lang-CYDReLb2.js";import"./map-pin-erNiW11q.js";import"./createLucideIcon-BqBqbHEQ.js";import"./check-BxLDVZJg.js";import"./upload-Blyo1wof.js";const E={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},N={class:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm"},T={class:"grid grid-cols-2 gap-6 md:grid-cols-2"},D={class:"col-span-1 rounded-xl border border-gray-200 bg-white p-6 shadow-sm md:col-span-2"},M={class:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm"},R={class:"mt-4 grid grid-cols-2 gap-6 md:grid-cols-2"},F={key:0,class:"col-span-1 rounded-xl border border-gray-200 bg-white p-6 shadow-sm md:col-span-2"},Z=x({__name:"JobEdit",props:{job:{},types:{},statuses:{},modes:{},regions:{},categories:{},apply_modes:{},countries:{}},setup(y){const a=y,g=k(),o=h({country_id:"",company_name:"",title:"",categories:[],job_type:"",work_mode:"",status:"",deadline:"",region_id:"",town:"",salary:"",summary:"",description:"",apply_mode:"instruction",how_to_apply:"",application_link:"",company_logo:null});q(()=>{const t=a.job;o.country_id=t.country_id,o.company_name=t.company_name||"",o.title=t.title||"",o.categories=(t.categories||[]).map(l=>l.id),o.job_type=t.job_type||"",o.work_mode=t.work_mode||"",o.status=t.status||"",o.deadline=t.deadline?new Date(t.deadline).toISOString().split("T")[0]:"",o.region_id=t.region_id||"",o.town=t.town||"",o.salary=t.salary||"",o.summary=t.summary||"",o.how_to_apply=t.how_to_apply||"",o.application_link=t.application_link||"",o.description=t.description||""});const w=()=>{o.put(route("my-jobs.update",a.job.id),{preserveScroll:!0,onSuccess:t=>{t.props.success?J(t.props.message):S(t.props.message)}})};return(t,l)=>(d(),_(v,null,[r(e(j),{title:"Update Job"}),r(U,null,{default:u(()=>[s("div",E,[r($,{title:"Edit Job",subtitle:"Update job details",icon:e(V)},null,8,["icon"]),r(C,{form:e(o),"submit-text":"Update Job","processing-text":"Creating Job...",onSubmit:w,"container-width":"max-w-6xl",containerWidth:"w-full"},{"form-sections":u(()=>[s("div",N,[l[3]||(l[3]=s("h2",{class:"mb-6 text-lg font-semibold text-gray-900"},"Job Information",-1)),s("div",T,[r(n,{label:"Select Country",form:e(o),model:"country_id",options:a.countries,required:"",searchable:""},null,8,["form","options"]),r(i,{form:e(o),label:"Company Name",model:"company_name",required:""},null,8,["form"]),r(n,{form:e(o),label:"Job Sector",model:"categories",options:a.categories,taggable:"",required:"",searchable:""},null,8,["form","options"]),r(i,{form:e(o),label:"Title",model:"title",required:""},null,8,["form"]),r(n,{form:e(o),label:"Job Type",model:"job_type",options:a.types,required:""},null,8,["form","options"]),r(n,{form:e(o),label:"Work Mode",model:"work_mode",options:a.modes,required:""},null,8,["form","options"]),r(n,{form:e(o),label:"Region",model:"region_id",options:a.regions,required:"",searchable:""},null,8,["form","options"]),r(i,{form:e(o),label:"Town",model:"town",required:""},null,8,["form"]),r(n,{label:"Job Status",form:e(o),model:"status",options:a.statuses,required:""},null,8,["form","options"]),r(i,{form:e(o),label:"Salary",model:"salary"},null,8,["form"]),r(i,{form:e(o),label:"Summary",model:"summary",required:"",textarea:""},null,8,["form"]),r(i,{form:e(o),label:"Deadline",model:"deadline",type:"date",required:""},null,8,["form"])])]),s("div",D,[l[4]||(l[4]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Job Description",-1)),r(f,{modelValue:e(o).description,"onUpdate:modelValue":l[0]||(l[0]=m=>e(o).description=m)},null,8,["modelValue"]),e(o).errors.description?(d(),c(b,{key:0,message:e(o).errors.description},null,8,["message"])):p("",!0)])]),"media-section":u(()=>[r(B,{ref_key:"featureUploadRef",ref:g,form:e(o),"featured-preview":a.job.company_logo,file:e(o).company_logo,"onUpdate:file":l[1]||(l[1]=m=>e(o).company_logo=m),"model-name":"company_logo",title:"Company Logo"},null,8,["form","featured-preview","file"]),s("div",M,[l[6]||(l[6]=s("h2",{class:"mb-6 text-lg font-semibold text-gray-900"},"How to apply",-1)),r(n,{form:e(o),label:"Mode of application",model:"apply_mode",options:a.apply_modes,required:""},null,8,["form","options"]),s("div",R,[e(o).apply_mode==="instruction"||e(o).apply_mode==="both"?(d(),_("div",F,[l[5]||(l[5]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Provide instructions",-1)),r(f,{modelValue:e(o).how_to_apply,"onUpdate:modelValue":l[2]||(l[2]=m=>e(o).how_to_apply=m)},null,8,["modelValue"]),e(o).errors.how_to_apply?(d(),c(b,{key:0,message:e(o).errors.how_to_apply},null,8,["message"])):p("",!0)])):p("",!0)]),e(o).apply_mode==="external_link"||e(o).apply_mode==="both"?(d(),c(i,{key:0,"container-class":"w-full mt-5",form:e(o),label:"Link to apply",model:"application_link",textarea:"",required:""},null,8,["form"])):p("",!0)])]),_:1},8,["form"])])]),_:1})],64))}});export{Z as default};

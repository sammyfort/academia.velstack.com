var c=t=>{throw TypeError(t)};var p=(t,n,s)=>n.has(t)||c("Cannot "+s);var l=(t,n,s)=>(p(t,n,"read from private field"),s?s.call(t):n.get(t)),f=(t,n,s)=>n.has(t)?c("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,s);function $(t){return typeof t=="string"?`'${t}'`:new g().serialize(t)}const g=function(){var n;class t{constructor(){f(this,n,new Map)}compare(r,e){const i=typeof r,o=typeof e;return i==="string"&&o==="string"?r.localeCompare(e):i==="number"&&o==="number"?r-e:String.prototype.localeCompare.call(this.serialize(r,!0),this.serialize(e,!0))}serialize(r,e){if(r===null)return"null";switch(typeof r){case"string":return e?r:`'${r}'`;case"bigint":return`${r}n`;case"object":return this.$object(r);case"function":return this.$function(r)}return String(r)}serializeObject(r){const e=Object.prototype.toString.call(r);if(e!=="[object Object]")return this.serializeBuiltInType(e.length<10?`unknown:${e}`:e.slice(8,-1),r);const i=r.constructor,o=i===Object||i===void 0?"":i.name;if(o!==""&&globalThis[o]===i)return this.serializeBuiltInType(o,r);if(typeof r.toJSON=="function"){const a=r.toJSON();return o+(a!==null&&typeof a=="object"?this.$object(a):`(${this.serialize(a)})`)}return this.serializeObjectEntries(o,Object.entries(r))}serializeBuiltInType(r,e){const i=this["$"+r];if(i)return i.call(this,e);if(typeof(e==null?void 0:e.entries)=="function")return this.serializeObjectEntries(r,e.entries());throw new Error(`Cannot serialize ${r}`)}serializeObjectEntries(r,e){const i=Array.from(e).sort((a,u)=>this.compare(a[0],u[0]));let o=`${r}{`;for(let a=0;a<i.length;a++){const[u,h]=i[a];o+=`${this.serialize(u,!0)}:${this.serialize(h)}`,a<i.length-1&&(o+=",")}return o+"}"}$object(r){let e=l(this,n).get(r);return e===void 0&&(l(this,n).set(r,`#${l(this,n).size}`),e=this.serializeObject(r),l(this,n).set(r,e)),e}$function(r){const e=Function.prototype.toString.call(r);return e.slice(-15)==="[native code] }"?`${r.name||""}()[native]`:`${r.name}(${r.length})${e.replace(/\s*\n\s*/g,"")}`}$Array(r){let e="[";for(let i=0;i<r.length;i++)e+=this.serialize(r[i]),i<r.length-1&&(e+=",");return e+"]"}$Date(r){try{return`Date(${r.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(r){return`ArrayBuffer[${new Uint8Array(r).join(",")}]`}$Set(r){return`Set${this.$Array(Array.from(r).sort((e,i)=>this.compare(e,i)))}`}$Map(r){return this.serializeObjectEntries("Map",r.entries())}}n=new WeakMap;for(const s of["Error","RegExp","URL"])t.prototype["$"+s]=function(r){return`${s}(${r})`};for(const s of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+s]=function(r){return`${s}[${r.join(",")}]`};for(const s of["BigInt64Array","BigUint64Array"])t.prototype["$"+s]=function(r){return`${s}[${r.join("n,")}${r.length>0?"n":""}]`};return t}();function y(t,n){return t===n||$(t)===$(n)}function z(t){return t==null}function j(t,n){return z(t)?!1:Array.isArray(t)?t.some(s=>y(s,n)):y(t,n)}export{z as a,j as b,y as i};

import{_}from"./InputSelect.vue_vue_type_script_setup_true_lang-Dd3kVDVG.js";import{d as f,r as y,x as b,c as s,o,b as a,j as x,i as v,t as m,F as w,h,a as c,u as r,w as g,e as k}from"./app-CgxblWlw.js";import{a as P}from"./helpers-DaELvCx0.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-Dn0A23WZ.js";import{R as $}from"./rocket-Wlv_2_Di.js";const C={class:"mt-6 mb-4 border-t border-gray-100 pt-4"},V={class:"mb-3 flex items-center justify-between"},z={key:0,class:"space-y-2"},B={class:"text-gray-600"},F={class:"font-semibold text-primary"},S={key:1,class:"relative"},q=f({__name:"PromoteNow",props:{promotable:{},plans:{},promotableType:{}},setup(d){const i=d,n=y(!1),l=b({plan_id:null,promotable_id:i.promotable.id,promotable_type:i.promotableType}),u=()=>{l.post(route("promotions.payment.initialize"),{replace:!0,onSuccess:p=>{const e=p.props.data.authorization_url;e?window.location=e:P("Payment initialization failed, pleased reload the page and try again")}})};return(p,e)=>(o(),s("div",C,[a("div",V,[e[1]||(e[1]=a("h4",{class:"font-semibold text-gray-900"},"Promote Now",-1)),a("button",{onClick:e[0]||(e[0]=t=>n.value=!n.value),class:"text-sm font-medium text-primary transition-colors hover:text-primary/80"},m(n.value?"Select Plan":"View Plans"),1)]),n.value?(o(),s("div",z,[(o(!0),s(w,null,h(i.plans.slice(0,3),t=>(o(),s("div",{key:t.id,class:"flex items-center justify-between text-sm"},[a("span",B,m(t.number_of_days)+" Days",1),a("span",F,m(t.price),1)]))),128))])):(o(),s("div",S,[c(_,{label:"Select Plan",form:r(l),model:"plan_id",options:i.plans.map(t=>({label:`${t.name} - ${t.number_of_days} Days - â‚µ${t.price}`,value:t.id})),required:"",searchable:""},null,8,["form","options"])])),r(l).plan_id?(o(),x(r(N),{key:2,onClick:u,processing:r(l).processing,class:"mt-4 w-full"},{default:g(()=>[c(r($),{class:"h-4 w-4"}),e[2]||(e[2]=k(" Promote Now "))]),_:1,__:[2]},8,["processing"])):v("",!0)]))}});export{q as _};

import{d as b,r as d,x as v,f as y,q as x,c as S,o as u,a as s,u as r,g as w,w as n,b as a,j as V,i as k,F as q}from"./app-Qdjy0wLz.js";import{t as U,a as $}from"./helpers-BfsBHaLv.js";import{B as N,_ as B}from"./Layout.vue_vue_type_script_setup_true_lang-B5Ov6BuD.js";import{_ as E}from"./PageHeader.vue_vue_type_script_setup_true_lang-BiEEJ4MX.js";import{_ as C,a as F}from"./FeaturedFilePond.vue_vue_type_script_setup_true_lang-D5Q0Jxrp.js";import{_ as c}from"./InputSelect.vue_vue_type_script_setup_true_lang-CfHCH-xX.js";import{d as l}from"./DialogTitle.vue_vue_type_script_setup_true_lang-wNEm9B7t.js";import{_ as h}from"./TextEditor.vue_vue_type_script_setup_true_lang-DIPaZqhG.js";import{d as A}from"./Input.vue_vue_type_script_setup_true_lang-DtmTB7AR.js";import{_ as I}from"./GalleryFilePond.vue_vue_type_script_setup_true_lang-DHkUBMeh.js";import{_ as M}from"./TagSelect.vue_vue_type_script_setup_true_lang-IRXPJe0e.js";import"./map-pin-CWU7qI-D.js";import"./createLucideIcon-D6F2skP0.js";import"./check-BUdQmd9L.js";import"./plus-fzuTyZWy.js";import"./index-C-heKCuo.js";import"./search-Dw3AdO1z.js";const R={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},T={class:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm"},P={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Y={class:"md:col-span-2"},ie=b({__name:"ServiceEdit",props:{categories:{},regions:{},service:{},countries:{}},setup(f){const o=f;d();const p=d(),e=v({country_id:o.service.country_id??"",title:o.service.title??"",description:o.service.description??"",first_mobile:o.service.first_mobile??"",business_name:o.service.business_name??"",second_mobile:o.service.second_mobile??"",years_experience:o.service.years_experience??"",video_link:o.service.video_link??"",email:o.service.email??"",address:o.service.address??"",town:o.service.town??"",gps:o.service.gps??"",region_id:o.service.region_id??"",category_id:o.service.category_id??null,featured:null,gallery:[],removed_gallery_urls:[]});y(()=>{console.log(o.service),console.log(o.categories)});const _=x(()=>o.service.gallery?Array.from(o.service.gallery).map((i,m)=>({url:i,isOriginal:!0,originalIndex:m})):[]),g=()=>{console.log("Submitting form data:",{...e.data()}),e.transform(t=>({...t,_method:"PUT"})).post(route("my-services.update",o.service.id),{onSuccess:t=>{t.props.success?U(t.props.message):$(t.props.message)}})};return(t,i)=>(u(),S(q,null,[s(r(w),{title:"Update Service"}),s(B,null,{default:n(()=>[a("div",R,[s(E,{title:"Edit Service",subtitle:"Update service listing for your business",icon:r(N)},null,8,["icon"]),s(C,{form:r(e),"submit-text":"Update Service","processing-text":"Updating Service...",onSubmit:g},{"form-sections":n(()=>[a("div",T,[i[5]||(i[5]=a("h2",{class:"mb-6 text-lg font-semibold text-gray-900"},"Service Information",-1)),a("div",P,[s(c,{label:"Select Country",form:r(e),model:"country_id",options:o.countries,required:"",searchable:""},null,8,["form","options"]),s(c,{label:"Select Region",form:r(e),model:"region_id",options:o.regions,required:"",searchable:""},null,8,["form","options"]),s(l,{form:r(e),label:" Service Name/Title",model:"title",required:""},null,8,["form"]),s(l,{form:r(e),label:"Years of Experience",model:"years_experience",type:"number",required:""},null,8,["form"]),s(l,{form:r(e),label:"Town",model:"town",required:""},null,8,["form"]),s(l,{form:r(e),label:"Address",model:"address",required:""},null,8,["form"]),s(l,{form:r(e),label:"First Mobile No",type:"tel",model:"first_mobile",required:""},null,8,["form"]),s(l,{form:r(e),label:"Second Mobile No",type:"tel",model:"second_mobile"},null,8,["form"]),s(l,{form:r(e),label:"Email address",type:"email",model:"email",required:""},null,8,["form"]),s(l,{form:r(e),label:"Business Name",model:"business_name"},null,8,["form"]),s(l,{form:r(e),label:"GPS Address",model:"gps",required:""},null,8,["form"]),a("div",null,[s(l,{form:r(e),label:"Video Link",model:"video_link"},null,8,["form"]),i[3]||(i[3]=a("span",{class:"font-small text-sm text-gray-500"}," Your video will only be shown to visitors if you have a running promotion",-1))]),s(M,{form:r(e),model:"category_id",label:"Field",options:t.categories,size:1,addable:!0,searchable:!0},null,8,["form","options"]),a("div",Y,[i[4]||(i[4]=a("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Service Description",-1)),s(h,{modelValue:r(e).description,"onUpdate:modelValue":i[0]||(i[0]=m=>r(e).description=m)},null,8,["modelValue"]),r(e).errors.description?(u(),V(A,{key:0,message:r(e).errors.description},null,8,["message"])):k("",!0)])])])]),"media-section":n(()=>[s(F,{ref_key:"featureUploadRef",ref:p,form:r(e),modelValue:r(e).featured,"onUpdate:modelValue":i[1]||(i[1]=m=>r(e).featured=m),preview:o.service.featured,modelName:"featured",error:r(e).errors.featured},null,8,["form","modelValue","preview","error"]),s(I,{modelValue:r(e).gallery,"onUpdate:modelValue":i[2]||(i[2]=m=>r(e).gallery=m),existing:_.value,form:r(e),error:r(e).errors.gallery},null,8,["modelValue","existing","form","error"])]),_:1},8,["form"])])]),_:1})],64))}});export{ie as default};

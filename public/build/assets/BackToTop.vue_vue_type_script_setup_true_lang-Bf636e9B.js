var g=Object.defineProperty;var w=(a,e,r)=>e in a?g(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var c=(a,e,r)=>w(a,typeof e!="symbol"?e+"":e,r);import{r as l,W as f,f as v,I as b,d as P,c as O,o as S,s as U,v as y,a as p,u as m,w as A}from"./app-DRCK7nkC.js";import{_ as Q}from"./index-CFhbb7sd.js";import{c as T}from"./createLucideIcon-DJItMF46.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=T("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var i,E=(i=class{constructor(e){c(this,"_path");c(this,"_params",{});this._path=e}static defineAliases(e){i.aliases=e}filter(e,r){return this.createOrUpdateParams(`filter[${e}]`,[r]),this}sort(...e){return this.createOrUpdateParams("sort",e),this}include(...e){return this.createOrUpdateParams("include",e),this}append(...e){return this.createOrUpdateParams("append",e),this}param(e,...r){return this.createOrUpdateParams(e,r),this}fields(e){return Object.entries(e).forEach(([r,t])=>{this.createOrUpdateParams(`fields[${r}]`,t)}),this}page(e){return this._params.page=[e.toString()],this}when(e,r){return e&&r(this),this}forgetValue(e,r){return this._params[e]||(e=this.parseKeyToAlias(e)),this._params[e]=(this._params[e]||[]).filter(t=>t!==r),this}forget(e){return this._params[e]||(e=this.parseKeyToAlias(e)),delete this._params[e],this}forgets(...e){return e.forEach(r=>{this.forget(r)}),this}createOrUpdateParams(e,r){return e=this.parseKeyToAlias(e),this._params[e]=[...this._params[e]||[],...r],this}parseKeyToAlias(e){return Object.entries(i.aliases).forEach(([r,t])=>{e.includes(r)&&(e=e.replace(r,t))}),e}tap(e){return e(this),this}scopes(...e){return e.forEach(r=>r(this)),this}buildParams(e){const r=this._params[e];return r?`${e}=${r.join(",")}`:""}buildAsArray(e){let r=[];return e!=null&&e.includePath&&r.push(this._path),Object.keys(this._params).map(t=>{var s;(s=e==null?void 0:e.excludes)!=null&&s.includes(t)||!(e!=null&&e.includePagination)&&(t==="page"||t==="limit")||r.push(this.buildParams(t))}),r}build(){const e=Object.keys(this._params).map(t=>this.buildParams(t));let r=this.shouldHaveQmark()?"?":"";return`${this._path}${r}${this.connectQueryString(...e)}`}shouldHaveQmark(){return Object.keys(this._params).length>0}connectQueryString(...e){return e.filter(r=>r.length>0).join("&")}},c(i,"aliases",{}),i),$=E,j=(a="/")=>new $(a);function C(a){const e=l(null);return{filteredQuery:e,runFilter:()=>{const t=j();a.buildQuery(t);const s=t.build().replace("/","");e.value=s==="/"?null:s,f.visit(route(a.routeName)+decodeURIComponent(e.value||""),{preserveScroll:!0,only:a.preserveKeys,onStart:()=>a.form.processing=!0,onFinish:()=>a.form.processing=!1})}}}function H({initialData:a,nextPageUrl:e,extractResponseData:r,preserveKeys:t=["signboardsData"]}){const s=l(a),n=l(!1),u=l(e),o=()=>{n.value||!u.value||window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&h()},h=()=>{f.get(u.value,{},{preserveState:!0,preserveScroll:!0,preserveUrl:!0,only:t,onStart:()=>n.value=!0,onFinish:()=>n.value=!1,onSuccess:_=>{const d=r(_);s.value=[...s.value,...d.data],u.value=d.next_page_url}})};return v(()=>{window.addEventListener("scroll",o)}),b(()=>{window.removeEventListener("scroll",o)}),{items:s,loading:n,nextPage:u,fetchMore:h}}const B={class:"fixed bottom-6 right-6 opacity-100 starting:opacity-0 transition-opacity duration-2000"},I=P({__name:"BackToTop",setup(a){const e=l(!1),r=()=>{e.value=window.scrollY>200},t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v(()=>{window.addEventListener("scroll",r)}),(s,n)=>(S(),O("div",B,[U(p(m(Q),{onClick:t,class:"p-5 rounded-full",size:"icon",variant:"secondary"},{default:A(()=>[p(m(x),{className:"w-5 h-5"})]),_:1},512),[[y,e.value]])]))}});export{I as _,H as a,C as u};

import{n as D,o as L,b as E,a as b,L as G,_ as H}from"./InputText.vue_vue_type_script_setup_true_lang-Da_BX18X.js";import{d as N,ah as K,r as h,s as U,e as Q,K as J,C as V,c as l,o as t,a as u,f as p,u as m,w as A,h as k,q as W,t as c,b as o,v as X,F as x,i as _,n as C,L as Y,l as T,j as F}from"./app-DJmDKI9z.js";import{_ as Z}from"./ImageUpload.vue_vue_type_script_setup_true_lang-BYwVbWpX.js";import{_ as ee}from"./GalleryUpload.vue_vue_type_script_setup_true_lang-DFjkXrTD.js";import{B as oe,M as re}from"./map-pin-DBeNFixs.js";import{C as se}from"./check-BJ2NGuuc.js";const te={class:"grid gap-2"},le={class:"text-destructive"},ne={key:0},ae={class:"flex flex-wrap items-center gap-2"},ie=["onClick"],de={key:0,class:"text-muted-foreground select-none"},ue={class:"ml-auto"},me={key:0,class:"absolute z-50 mt-1 w-full max-h-60 bg-popover border border-border rounded-md shadow-md overflow-hidden"},fe={class:"p-2 border-b border-border"},ce={class:"relative"},pe={class:"max-h-48 overflow-y-auto"},ge=["onClick"],ve={class:"text-foreground"},be={class:"flex items-center"},he={key:0,class:"w-4 h-4 bg-primary rounded-full flex items-center justify-center"},ye={key:1,class:"w-4 h-4 border-2 border-border rounded-full group-hover:border-primary transition-colors"},we={key:0,class:"p-3 text-center"},ke={key:1,class:"p-3 text-center text-muted-foreground"},xe={key:0,class:"text-foreground"},_e={key:1,class:"text-muted-foreground"},Ce={key:0,class:"absolute z-50 mt-1 w-full max-h-60 bg-popover border border-border rounded-md shadow-md overflow-hidden"},$e={key:0,class:"p-2 border-b border-border"},Be={class:"relative"},je={class:"max-h-48 overflow-y-auto"},Ie=["onClick"],Me={class:"text-foreground"},Se={class:"flex items-center"},Le={key:0,class:"w-4 h-4 bg-primary rounded-full flex items-center justify-center"},Ve={key:1,class:"w-4 h-4 border-2 border-border rounded-full group-hover:border-primary transition-colors"},Te={key:0,class:"p-3 text-center text-muted-foreground"},$=N({__name:"InputSelect",props:{form:{},model:{},label:{},options:{},searchable:{type:Boolean},taggable:{type:Boolean}},setup(B){const e=B,f=K(),n=Math.random().toString(36).substring(2,10),s=h(""),d=h(!1),y=h(),R=h(),g=U(()=>!e.searchable||!s.value?e.options:e.options.filter(a=>a.label.toLowerCase().includes(s.value.toLowerCase()))),q=h([]);function j(a){y.value&&!y.value.contains(a.target)&&(d.value=!1)}Q(()=>{document.addEventListener("click",j)}),J(()=>{document.removeEventListener("click",j)}),V(d,a=>{a?a&&e.searchable&&!e.taggable&&setTimeout(()=>{},100):s.value=""}),V(()=>{var a;return(a=e.form)==null?void 0:a[e.model]},a=>{e.taggable&&Array.isArray(a)&&(q.value=a)},{immediate:!0});function P(a){if(!e.form||!e.model)return;const v=e.form[e.model].indexOf(a);v===-1?e.form[e.model].push(a):e.form[e.model].splice(v,1)}function I(){if(!e.form||!e.model)return;const a=s.value.trim();a&&!e.form[e.model].includes(a)&&(e.form[e.model].push(a),s.value="")}function O(a){if(!e.form||!e.model)return;const r=e.form[e.model].indexOf(a);r!==-1&&e.form[e.model].splice(r,1)}function z(a){!e.form||!e.model||(e.form[e.model]=a,d.value=!1)}return(a,r)=>{var v,M;return t(),l("div",te,[u(m(D),{for:m(n)},{default:A(()=>[k(c(e.label)+" ",1),W(o("span",le,"*",512),[[X,e.label&&m(f).hasOwnProperty("required")]])]),_:1},8,["for"]),e.form&&e.model?(t(),l("div",ne,[e.taggable?(t(),l("div",{key:0,class:"relative",ref_key:"dropdownRef",ref:y},[o("div",{class:"flex min-h-10 w-full items-center justify-between rounded-md border border-input bg-gray-50 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer gap-2 flex-wrap",onClick:r[0]||(r[0]=i=>d.value=!d.value)},[o("div",ae,[(t(!0),l(x,null,_(e.form[e.model],i=>{var w;return t(),l("span",{key:i,class:"inline-flex items-center gap-1 bg-primary text-primary-foreground px-2 py-1 rounded-md text-sm font-medium shadow-sm hover:bg-primary/90 transition-colors"},[k(c(((w=e.options.find(S=>S.value===i))==null?void 0:w.label)||i)+" ",1),o("button",{onClick:T(S=>O(i),["stop"]),class:"ml-1 hover:bg-primary-foreground/20 rounded-full p-0.5 transition-colors","aria-label":"Remove tag"},r[5]||(r[5]=[o("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ie)])}),128))]),(v=e.form[e.model])!=null&&v.length?p("",!0):(t(),l("span",de,"Select or add options... ")),o("div",ue,[(t(),l("svg",{class:C(["w-4 h-4 text-muted-foreground transition-transform duration-200",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r[6]||(r[6]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])]),d.value?(t(),l("div",me,[o("div",fe,[o("div",ce,[r[7]||(r[7]=o("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),u(m(L),{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=i=>s.value=i),onKeyup:Y(I,["enter"]),placeholder:"Search or type to add...",class:"pl-10"},null,8,["modelValue"])])]),o("div",pe,[(t(!0),l(x,null,_(g.value,i=>(t(),l("div",{key:i.value,onClick:w=>P(i.value),class:"px-3 py-2 hover:bg-accent cursor-pointer flex items-center justify-between group transition-colors"},[o("span",ve,c(i.label),1),o("div",be,[Array.isArray(e.form[e.model])&&e.form[e.model].includes(i.value)?(t(),l("div",he,r[8]||(r[8]=[o("svg",{class:"w-2.5 h-2.5 text-primary-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)]))):(t(),l("div",ye))])],8,ge))),128)),e.searchable&&g.value.length===0&&s.value.trim()?(t(),l("div",we,[r[10]||(r[10]=o("div",{class:"text-muted-foreground mb-2"},"No results found",-1)),o("button",{onClick:I,class:"inline-flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition-colors text-sm font-medium"},[r[9]||(r[9]=o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),k(' Add "'+c(s.value.trim())+'" ',1)])])):e.searchable&&g.value.length===0&&!s.value.trim()?(t(),l("div",ke," Start typing to search or add new options ")):p("",!0)])])):p("",!0)],512)):(t(),l("div",{key:1,class:"relative",ref_key:"dropdownRef",ref:y},[o("div",{class:C(["flex h-10 w-full items-center justify-between rounded-md border border-input bg-gray-50 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",{"opacity-100 cursor-not-allowed":m(f).disabled}]),onClick:r[2]||(r[2]=i=>!m(f).disabled&&(d.value=!d.value))},[e.form[e.model]&&e.options.length?(t(),l("span",xe,c(((M=e.options.find(i=>i.value===e.form[e.model]))==null?void 0:M.label)||e.form[e.model]),1)):(t(),l("span",_e,c(m(f).placeholder||"Select an option"),1)),(t(),l("svg",{class:C(["w-4 h-4 text-muted-foreground transition-transform duration-200 ml-2",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r[11]||(r[11]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),d.value?(t(),l("div",Ce,[e.searchable?(t(),l("div",$e,[o("div",Be,[r[12]||(r[12]=o("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),u(m(L),{modelValue:s.value,"onUpdate:modelValue":r[3]||(r[3]=i=>s.value=i),ref_key:"searchInput",ref:R,onClick:r[4]||(r[4]=T(()=>{},["stop"])),placeholder:"Search...",class:"pl-10"},null,8,["modelValue"])])])):p("",!0),o("div",je,[(t(!0),l(x,null,_(g.value,i=>(t(),l("div",{key:i.value,onClick:w=>z(i.value),class:"px-3 py-2 hover:bg-accent cursor-pointer flex items-center justify-between group transition-colors"},[o("span",Me,c(i.label),1),o("div",Se,[e.form[e.model]===i.value?(t(),l("div",Le,r[13]||(r[13]=[o("svg",{class:"w-2.5 h-2.5 text-primary-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)]))):(t(),l("div",Ve))])],8,Ie))),128)),e.searchable&&g.value.length===0?(t(),l("div",Te," No results found ")):p("",!0)])])):p("",!0)],512)),u(E,{message:e.form.errors[e.model]},null,8,["message"])])):p("",!0)])}}}),Fe={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ne={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ae={class:"order-1 lg:order-2 space-y-6"},Re={class:"order-2 lg:order-1 lg:col-span-2 space-y-6"},qe={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Pe={class:"flex items-center space-x-3 mb-6"},Oe={class:"p-2 bg-primary rounded-lg"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},De={class:"md:col-span-2"},Ee={class:"md:col-span-2"},Ge={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},He={class:"flex items-center space-x-3 mb-6"},Ke={class:"p-2 bg-primary rounded-lg"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Qe={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Je={class:"flex items-center justify-between"},ro=N({__name:"SignboardForm",props:{form:{},categories:{},regions:{},businesses:{},businessFieldDisabled:{type:Boolean,default:!1},featuredPreview:{},galleryPreviews:{},galleryItems:{default:()=>[]},submitText:{},processingText:{},galleryErrors:{default:()=>[]}},emits:["handleFeaturedImage","removeFeatured","handleGalleryImages","removeGalleryImage","submit"],setup(B,{emit:e}){const f=e;return(n,s)=>(t(),l("div",Fe,[o("div",Ne,[o("div",Ae,[u(Z,{form:n.form,preview:n.featuredPreview,onHandleImage:s[0]||(s[0]=d=>f("handleFeaturedImage",d)),onRemoveImage:s[1]||(s[1]=d=>f("removeFeatured"))},null,8,["form","preview"]),u(ee,{form:n.form,previews:n.galleryPreviews,"gallery-items":n.galleryItems,"gallery-errors":n.galleryErrors,onHandleImages:s[2]||(s[2]=d=>f("handleGalleryImages",d)),onRemoveImage:s[3]||(s[3]=d=>f("removeGalleryImage",d))},null,8,["form","previews","gallery-items","gallery-errors"])]),o("div",Re,[o("div",qe,[o("div",Pe,[o("div",Oe,[u(m(oe),{class:"h-5 w-5 text-white"})]),s[5]||(s[5]=o("h2",{class:"text-lg font-semibold text-gray-900"},"Business Information",-1))]),o("div",ze,[o("div",De,[u($,{label:"Select Business",form:n.form,model:"business_id",disabled:n.businessFieldDisabled,options:n.businesses,required:"",searchable:""},null,8,["form","disabled","options"])]),o("div",Ee,[u($,{label:"Signboard Categories",form:n.form,model:"categories",options:n.categories,taggable:"",required:"",searchable:""},null,8,["form","options"])]),u($,{label:"Region",form:n.form,model:"region_id",options:n.regions,required:"",searchable:""},null,8,["form","options"]),u(b,{form:n.form,label:"Town",model:"town",required:""},null,8,["form"])])]),o("div",Ge,[o("div",He,[o("div",Ke,[u(m(re),{class:"h-5 w-5 text-white"})]),s[6]||(s[6]=o("h2",{class:"text-lg font-semibold text-gray-900"},"Location Details",-1))]),o("div",Ue,[u(b,{form:n.form,label:"Street Address",model:"street",placeholder:"e.g., Main Street"},null,8,["form"]),u(b,{form:n.form,label:"Landmark",model:"landmark",required:"",placeholder:"e.g., Near Central Mall"},null,8,["form"]),u(b,{form:n.form,label:"Block Number",model:"blk_number",placeholder:"e.g., Block A"},null,8,["form"]),u(b,{form:n.form,label:"GPS Coordinates",model:"gps",placeholder:"e.g., 5.6037, -0.1870"},null,8,["form"])])]),o("div",Qe,[o("div",Je,[s[7]||(s[7]=o("div",null,[o("p",{class:"text-sm text-gray-600 mt-1"},"Review your information and submit when ready")],-1)),u(m(H),{disabled:n.form.processing,onClick:s[4]||(s[4]=d=>f("submit")),class:"px-8 py-3 bg-gradient-to-r from-primary to-primary hover:from-primary hover:to-orange-300 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},{default:A(()=>[n.form.processing?(t(),F(m(G),{key:0,class:"mr-2 h-5 w-5 animate-spin"})):(t(),F(m(se),{key:1,class:"mr-2 h-5 w-5"})),k(" "+c(n.form.processing?n.processingText:n.submitText),1)]),_:1},8,["disabled"])])])])])]))}});export{ro as _};

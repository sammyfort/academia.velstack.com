import{d as $,x as w,E as D,c as d,o as c,F as g,b as r,a as o,u as e,w as p,C as f,D as _,e as x,W as F,f as V,g as N,i as P,h as b,j as q}from"./app-CD1NC3sI.js";import{_ as C}from"./Layout.vue_vue_type_script_setup_true_lang-CGqJlrHK.js";import{_ as M}from"./SignboardCardV1.vue_vue_type_script_setup_true_lang-D3lGaRut.js";import{_ as z}from"./AdvertisedSignboardV.vue_vue_type_script_setup_true_lang-Bd-YykGE.js";import{u as B,_ as v}from"./BackToTop.vue_vue_type_script_setup_true_lang-iSjzj_OK.js";import{a as E}from"./AdvertisedSignboardsH.vue_vue_type_script_setup_true_lang-uXcyC-P2.js";import{c as L}from"./helpers-Z4k3lx1P.js";import{u as Q}from"./useScrollPagination-CBoc3HX7.js";import{_ as R}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-CvRlBJQj.js";import{_ as T}from"./InputText.vue_vue_type_script_setup_true_lang-zgJseAKK.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-C0m9J3Pu.js";import{_ as U,a as A,b as I,c as K}from"./SelectValue.vue_vue_type_script_setup_true_lang-CAgAbtYU.js";import{_ as W}from"./CountryRegionSelector.vue_vue_type_script_setup_true_lang-KhQx0RbZ.js";import{c as j}from"./createLucideIcon-DR-yItwA.js";import{S as H}from"./star-hK-3M3hy.js";import"./map-pin-CUU8dTyu.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-Bt-TVahd.js";import"./VisuallyHidden-B6cNpJca.js";import"./VueStarRating.common-2gTkaWnf.js";import"./flag-DpQGEwiI.js";import"./CarouselItem.vue_vue_type_script_setup_true_lang-CVZ-DDiR.js";import"./api-CWK5UeeP.js";import"./CardContent.vue_vue_type_script_setup_true_lang-CddSFbNa.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-HyOVMZuj.js";import"./check-D6CqSZti.js";import"./Collection-DNr2TMlY.js";import"./nullish-CtH4V8ap.js";import"./useDirection-s5GWY25Q.js";import"./useFormControl-CUeAoFTe.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=j("FactoryIcon",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),Z={class:"grid grid-cols-2 gap-4"},G={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},J=$({__name:"SignboardsFilter",props:{categories:{},regions:{}},setup(h){const s=w({q:"",categories:null,country:null,region:null}),{filteredQuery:m,runFilter:y}=B({form:s,routeName:"signboards.index",preserveKeys:["signboardsData"],buildQuery:a=>{var t;s.q&&a.filter("q",s.q),s.region&&a.filter("region",s.region.toString()),s.country&&a.filter("country",s.country.toString()),(t=s.categories)!=null&&t.length&&s.categories.forEach(i=>{a.filter("categories",i.toString())})}});return D(()=>{const a=new URLSearchParams(window.location.search),t=a.get("filter[q]"),i=a.get("filter[categories]"),n=a.get("filter[region]"),l=a.get("filter[country]");s.categories=i?i.split(",").map(u=>Number(u)):[],s.country=l?Number(l):null,s.region=n?Number(n):null,s.q=t||"",a.size>0&&(m.value="&"+a.toString())}),(a,t)=>{var i,n;return c(),d(g,null,[t[4]||(t[4]=r("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),r("div",Z,[o(T,{placeholder:"Search signboard...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),o(e(U),{modelValue:e(s).categories,"onUpdate:modelValue":t[0]||(t[0]=l=>e(s).categories=l),"default-value":e(s).categories,multiple:!0},{default:p(()=>[o(e(A),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:p(()=>[o(e(I),{placeholder:"Signboard category"})]),_:1}),o(e(K),{options:a.categories.map(l=>({label:l.name,value:l.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),o(W,{form:e(s),"region-model":"region","country-model":"country"},null,8,["form"]),r("div",G,[f(o(e(k),{processing:e(s).processing,onClick:e(y)},{default:p(()=>t[2]||(t[2]=[x("Apply Filter ")])),_:1,__:[2]},8,["processing","onClick"]),[[_,e(s).country||e(s).region||((i=e(s).categories)==null?void 0:i.length)||((n=e(s).q)==null?void 0:n.length)]]),f(o(e(k),{variant:"secondary",onClick:t[1]||(t[1]=l=>e(F).visit(a.route("services.index")))},{default:p(()=>t[3]||(t[3]=[x("Reset ")])),_:1,__:[3]},512),[[_,e(m)]])])])],64)}}}),O={class:"w-full"},X={class:"relative grid grid-cols-5 w-full gap-15"},Y={class:"lg:block col-span-5 lg:col-span-1"},ss={class:"sticky top-40"},es={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},ts={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},os={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},as={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},rs={class:"hidden lg:block lg:col-span-1"},is={class:"sticky top-0"},ns={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},Ls=$({__name:"Signboards",props:{signboardsData:{},categories:{},regions:{}},setup(h){const s=h,{items:m,loading:y,nextPage:a}=Q({initialData:s.signboardsData.data,nextPageUrl:s.signboardsData.next_page_url,extractResponseData:t=>t.props.signboardsData,preserveKeys:["signboardsData"]});return V(()=>{a.value=s.signboardsData.next_page_url,m.value=s.signboardsData.data}),(t,i)=>(c(),d(g,null,[o(e(N),{title:"Signboards"}),o(C,null,{default:p(()=>[r("div",O,[i[2]||(i[2]=r("div",{class:"w-full my-10 text-center"},[r("div",{class:"text-fade text-2xl font-semibold"},"Browse Signboards")],-1)),r("div",X,[r("div",Y,[r("div",ss,[o(J,{categories:t.categories,regions:t.regions},null,8,["categories","regions"])])]),r("div",es,[r("div",ts,[(c(!0),d(g,null,b(e(L)(e(m),15),(n,l)=>(c(),d(g,{key:`chunk-${l}`},[(c(!0),d(g,null,b(n,u=>(c(),q(M,{key:u.id,signboard:u},null,8,["signboard"]))),128)),f(o(E,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:p(()=>[r("div",os,[o(e(S),{size:25,class:"text-primary"}),i[0]||(i[0]=r("span",null,"Top Signboards",-1)),o(e(H),{size:25,class:"text-primary"})])]),_:2},1536),[[_,n.length>14]])],64))),128)),(c(),d(g,null,b([1,2,3,4],n=>f(o(R,{key:n,class:"shadow-2xl"}),[[_,e(y)]])),64))]),e(m).length?P("",!0):(c(),d("div",as," No results found, broaden your search... "))]),r("div",rs,[r("div",is,[r("div",ns,[i[1]||(i[1]=x(" Top Signboards ")),o(e(S),{size:22,class:"text-primary"})]),o(z,{"items-class":"h-screen"})])])])]),o(v)]),_:1}),o(v)],64))}});export{Ls as default};

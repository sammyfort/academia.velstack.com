import{d as v,r as u,x as w,f as S,p as c,c as x,o as U,a as s,u as o,g as q,w as n,b as m,F as B}from"./app-CrQW08jC.js";import{t as $,a as h}from"./helpers-CnaUINHU.js";import{B as E,_ as N}from"./Layout.vue_vue_type_script_setup_true_lang-DptPDokc.js";import{_ as k}from"./PageHeader.vue_vue_type_script_setup_true_lang-Cb3djOqF.js";import{_ as R,a as F}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-LjmKSPVG.js";import{_ as p}from"./InputSelect.vue_vue_type_script_setup_true_lang-MevUNbBG.js";import{_ as l}from"./InputText.vue_vue_type_script_setup_true_lang-DELBk5lx.js";import{_ as A}from"./GalleryFilesUpload.vue_vue_type_script_setup_true_lang-BlQBvi0V.js";import"./Input.vue_vue_type_script_setup_true_lang-h9umgDZ3.js";import"./createLucideIcon-DcHN0fyf.js";import"./map-pin-BcLFBqVR.js";import"./check-RPuMyT95.js";import"./upload-C_KxnGBa.js";import"./plus-Di3SikKB.js";const I={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},M={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={class:"md:col-span-2"},Y=v({__name:"ServiceEdit",props:{categories:{},regions:{},service:{}},setup(g){const i=g,_=u(),b=u(),e=w({title:"",description:"",first_mobile:"",business_name:"",second_mobile:"",email:"",address:"",town:"",gps:"",region_id:"",category_id:"",featured:null,gallery:[],removed_gallery_urls:[]});S(()=>{const r=i.service;e.title=r.title,e.description=r.description,e.first_mobile=r.first_mobile,e.second_mobile=r.second_mobile,e.business_name=r.business_name,e.email=r.email,e.address=r.address,e.town=r.town,e.gps=r.gps,e.region_id=r.region_id,e.category_id=r.category_id});const d=c(()=>i.service.gallery?Array.from(i.service.gallery).map((t,a)=>({url:t,isOriginal:!0,originalIndex:a})):[]),f=c(()=>Object.keys(e.errors).filter(r=>r.startsWith("gallery.")).map(r=>e.errors[r])),y=()=>{e.post(route("my-services.update",i.service.id),{onSuccess:r=>{r.props.success?$(r.props.message):h(r.props.message)}})};return(r,t)=>(U(),x(B,null,[s(o(q),{title:"Update Service"}),s(N,null,{default:n(()=>[m("div",I,[s(k,{title:"Edit Service",subtitle:"Update service listing for your business",icon:o(E)},null,8,["icon"]),s(R,{form:o(e),"featured-preview":i.service.featured,"gallery-items":d.value,"gallery-errors":f.value,"submit-text":"Update Service","processing-text":"Updating Service...",onSubmit:y},{"form-sections":n(()=>[m("div",M,[t[2]||(t[2]=m("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Business Information",-1)),m("div",O,[s(p,{label:"Select Region",form:o(e),model:"region_id",options:i.regions,required:"",searchable:""},null,8,["form","options"]),s(l,{form:o(e),label:"Name/Title",model:"title",required:""},null,8,["form"]),s(l,{form:o(e),label:"Town",model:"town",required:""},null,8,["form"]),s(l,{form:o(e),label:"Address",model:"address",required:""},null,8,["form"]),s(l,{form:o(e),label:"First Mobile No",type:"tel",model:"first_mobile",required:""},null,8,["form"]),s(l,{form:o(e),label:"Second Mobile No",type:"tel",model:"second_mobile"},null,8,["form"]),s(l,{form:o(e),label:"Email address",type:"email",model:"email",required:""},null,8,["form"]),s(l,{form:o(e),label:"Business Name",model:"business_name"},null,8,["form"]),s(l,{form:o(e),label:"GPS Address",model:"gps",required:""},null,8,["form"]),s(l,{form:o(e),label:"Description",model:"description",textarea:""},null,8,["form"]),m("div",C,[s(p,{label:"Field Of Service",form:o(e),model:"category_id",options:i.categories,required:"",searchable:""},null,8,["form","options"])])])])]),"media-section":n(()=>[s(F,{ref_key:"featureUploadRef",ref:b,form:o(e),"featured-preview":i.service.featured,file:o(e).featured,"onUpdate:file":t[0]||(t[0]=a=>o(e).featured=a),"model-name":"featured"},null,8,["form","featured-preview","file"]),s(A,{ref_key:"galleryUploadRef",ref:_,form:o(e),files:o(e).gallery,"onUpdate:files":t[1]||(t[1]=a=>o(e).gallery=a),"gallery-errors":f.value,"gallery-items":d.value},null,8,["form","files","gallery-errors","gallery-items"])]),_:1},8,["form","featured-preview","gallery-items","gallery-errors"])])]),_:1})],64))}});export{Y as default};

import{d as M,x as N,I as C,c as m,o as d,F as g,b as l,a as t,u as e,w as n,h as f,C as _,D as v,e as u,W as z,j as y,t as k,f as B,g as R}from"./app-BY3mG2bU.js";import{_ as U}from"./Layout.vue_vue_type_script_setup_true_lang-D4gm2Nvp.js";import{_ as I}from"./SignboardCardV1.vue_vue_type_script_setup_true_lang-6qf45DKM.js";import{_ as L}from"./AdvertisedSignboardV.vue_vue_type_script_setup_true_lang-jXozL9HO.js";import{u as Q,a as T,_ as $}from"./BackToTop.vue_vue_type_script_setup_true_lang-BdhWDBKq.js";import{_ as A}from"./AdvertisedSignboardsH.vue_vue_type_script_setup_true_lang-DPHrII6t.js";import{c as E}from"./helpers-DbA93d0e.js";import{_ as K}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-CnfNExGo.js";import{_ as W}from"./InputText.vue_vue_type_script_setup_true_lang-kLR70F67.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-CM7hcv5X.js";import{_ as w,a as D,b as V,c as F,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-5szAepXk.js";import{_ as j}from"./SelectGroup.vue_vue_type_script_setup_true_lang-ChdwrPXU.js";import{c as H}from"./createLucideIcon-CeE_Hdh8.js";import{S as Z}from"./star-D5MHcL_l.js";import"./map-pin-BzYLD0E_.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-PlHWr_Mr.js";import"./VisuallyHidden-BEEYe3Jm.js";import"./VueStarRating.common-Bon-tQ7y.js";import"./CarouselItem.vue_vue_type_script_setup_true_lang-JAtSqFfi.js";import"./api-CA9zwsrm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./CardContent.vue_vue_type_script_setup_true_lang-GCHrWGKy.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-CTiPdyrD.js";import"./Collection-bEl7xDyO.js";import"./check-Dg2d_wJX.js";import"./nullish-CtH4V8ap.js";import"./useDirection-DvZLCd2K.js";import"./useFormControl-CgrIwZjD.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=H("FactoryIcon",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),G={class:"grid grid-cols-2 gap-4"},J={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},O=M({__name:"SignboardsFilter",props:{categories:{},regions:{}},setup(h){const s=N({q:"",categories:null,region:null}),{filteredQuery:p,runFilter:b}=Q({form:s,routeName:"signboards.index",preserveKeys:["signboardsData"],buildQuery:r=>{var a;s.q&&r.filter("q",s.q),s.region&&r.filter("region",s.region.toString()),(a=s.categories)!=null&&a.length&&s.categories.forEach(i=>{r.filter("categories",i.toString())})}});return C(()=>{const r=new URLSearchParams(window.location.search),a=r.get("filter[q]"),i=r.get("filter[categories]"),c=r.get("filter[region]");s.categories=i?i.split(",").map(o=>Number(o)):[],s.region=c?Number(c):null,s.q=a||"",r.size>0&&(p.value="&"+r.toString())}),(r,a)=>{var i,c;return d(),m(g,null,[a[5]||(a[5]=l("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),l("div",G,[t(W,{placeholder:"Search signboard...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),t(e(w),{modelValue:e(s).categories,"onUpdate:modelValue":a[0]||(a[0]=o=>e(s).categories=o),"default-value":e(s).categories,multiple:!0},{default:n(()=>[t(e(D),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[t(e(V),{placeholder:"Signboard category"})]),_:1}),t(e(F),null,{default:n(()=>[(d(!0),m(g,null,f(r.categories,o=>(d(),y(e(P),{key:o.id,value:o.id},{default:n(()=>[u(k(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","default-value"]),t(e(w),{modelValue:e(s).region,"onUpdate:modelValue":a[1]||(a[1]=o=>e(s).region=o),"default-value":e(s).region},{default:n(()=>[t(e(D),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[t(e(V),{placeholder:"Region"})]),_:1}),t(e(F),null,{default:n(()=>[t(e(j),null,{default:n(()=>[(d(!0),m(g,null,f(r.regions,o=>(d(),y(e(P),{key:o.id,value:o.id},{default:n(()=>[u(k(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","default-value"]),l("div",J,[_(t(e(S),{onClick:e(b)},{default:n(()=>a[3]||(a[3]=[u("Apply Filter ")])),_:1,__:[3]},8,["onClick"]),[[v,e(s).region||((i=e(s).categories)==null?void 0:i.length)||((c=e(s).q)==null?void 0:c.length)]]),_(t(e(S),{variant:"secondary",onClick:a[2]||(a[2]=o=>e(z).visit(r.route("services.index")))},{default:n(()=>a[4]||(a[4]=[u("Reset ")])),_:1,__:[4]},512),[[v,e(p)]])])])],64)}}}),X={class:"w-full"},Y={class:"relative grid grid-cols-5 w-full gap-15"},ee={class:"lg:block col-span-5 lg:col-span-1"},se={class:"sticky top-40"},ae={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},te={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},oe={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},le={class:"hidden lg:block lg:col-span-1"},re={class:"sticky top-0"},ie={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},Re=M({__name:"Signboards",props:{signboardsData:{},categories:{},regions:{}},setup(h){const s=h,{items:p,loading:b,nextPage:r}=T({initialData:s.signboardsData.data,nextPageUrl:s.signboardsData.next_page_url,extractResponseData:a=>a.props.signboardsData,preserveKeys:["signboardsData"]});return B(()=>{r.value=s.signboardsData.next_page_url,p.value=s.signboardsData.data}),(a,i)=>(d(),m(g,null,[t(e(R),{title:"Signboards"}),t(U,null,{default:n(()=>[l("div",X,[i[2]||(i[2]=l("div",{class:"w-full my-10 text-center"},[l("div",{class:"text-fade text-2xl font-semibold"},"Browse Signboards")],-1)),l("div",Y,[l("div",ee,[l("div",se,[t(O,{categories:a.categories,regions:a.regions},null,8,["categories","regions"])])]),l("div",ae,[l("div",te,[(d(!0),m(g,null,f(e(E)(e(p),15),(c,o)=>(d(),m(g,{key:`chunk-${o}`},[(d(!0),m(g,null,f(c,x=>(d(),y(I,{key:x.id,signboard:x},null,8,["signboard"]))),128)),_(t(A,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:n(()=>[l("div",oe,[t(e(q),{size:25,class:"text-primary"}),i[0]||(i[0]=l("span",null,"Top Signboards",-1)),t(e(Z),{size:25,class:"text-primary"})])]),_:2},1536),[[v,c.length>14]])],64))),128)),(d(),m(g,null,f([1,2,3,4],c=>_(t(K,{key:c,class:"shadow-2xl"}),[[v,e(b)]])),64))])]),l("div",le,[l("div",re,[l("div",ie,[i[1]||(i[1]=u(" Top Signboards ")),t(e(q),{size:22,class:"text-primary"})]),t(L,{"items-class":"h-screen"})])])])]),t($)]),_:1}),t($)],64))}});export{Re as default};

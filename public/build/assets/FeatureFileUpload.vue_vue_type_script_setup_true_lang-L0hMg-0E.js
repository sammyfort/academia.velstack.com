import{_ as k,L}from"./Input.vue_vue_type_script_setup_true_lang-CxzXMZjw.js";import{C as U}from"./check-DIAkgARO.js";import{d as y,c as d,o as r,n as C,b as t,k as f,a as n,u as l,w as R,j as g,e as I,t as u,b4 as $,bE as F,r as j,s as b,f as N,i as P}from"./app-Ckzi3c-e.js";import{c as W}from"./createLucideIcon-CTfw_kwE.js";import{U as O}from"./upload-CwhqfnuC.js";import{X as h}from"./InputText.vue_vue_type_script_setup_true_lang-C9aptDT8.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=W("ImageIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),M={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},T={class:"order-1 lg:order-2 space-y-6"},E={class:"order-2 lg:order-1 lg:col-span-2 space-y-6"},G={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},V={class:"flex items-center justify-between"},re=y({__name:"FormComponent",props:{form:{},featuredPreview:{},galleryPreviews:{},galleryItems:{default:()=>[]},galleryErrors:{default:()=>[]},submitText:{},processingText:{},containerWidth:{}},emits:["handleFeaturedImage","removeFeatured","handleGalleryImages","removeGalleryImage","submit"],setup(m,{emit:c}){const i=c;return(s,e)=>(r(),d("div",{class:C([s.containerWidth??"max-w-5xl","mx-auto px-4 sm:px-6 lg:px-8 py-8"])},[t("div",M,[t("div",T,[f(s.$slots,"media-section")]),t("div",E,[f(s.$slots,"form-sections"),t("div",G,[t("div",V,[e[1]||(e[1]=t("p",{class:"text-sm text-gray-600"},"Review your information and submit when ready",-1)),n(l(k),{disabled:s.form.processing,onClick:e[0]||(e[0]=x=>i("submit")),class:"px-8 py-3 bg-gradient-to-r from-primary to-primary hover:from-primary hover:to-orange-300 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},{default:R(()=>[s.form.processing?(r(),g(l(L),{key:0,class:"mr-2 h-5 w-5 animate-spin"})):(r(),g(l(U),{key:1,class:"mr-2 h-5 w-5"})),I(" "+u(s.form.processing?s.processingText:s.submitText),1)]),_:1},8,["disabled"])])])])])],2))}}),S={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},z={class:"flex items-center space-x-3 mb-4"},D={class:"p-2 bg-primary rounded-lg"},J={class:"text-lg font-semibold text-gray-900"},X={class:"relative"},q={class:"relative rounded-lg border-2 border-dashed border-gray-300 p-6 transition-all duration-200 hover:border-primary hover:bg-blue-50/50 group"},A={key:0,class:"text-center"},H={key:1,class:"relative"},K=["src","alt"],Q={class:"absolute bottom-2 left-2 px-2 py-1 bg-black/50 rounded text-white text-xs"},Y={key:0,class:"mt-2 text-sm text-red-600 flex items-center space-x-1"},le=y({__name:"FeatureFileUpload",props:$({form:{},featuredPreview:{default:null},modelName:{default:"featured"},title:{}},{file:{default:null},fileModifiers:{}}),emits:["update:file"],setup(m,{expose:c}){const i=m,s=F(m,"file"),e=j(null);c({resetFeature:()=>{e.value&&e.value.startsWith("blob:")&&URL.revokeObjectURL(e.value),s.value=null,e.value=i.featuredPreview}}),b(()=>i.featuredPreview,a=>{a&&!s.value&&(e.value=a)},{immediate:!0}),b(s,a=>{a&&(e.value&&e.value.startsWith("blob:")&&URL.revokeObjectURL(e.value),e.value=URL.createObjectURL(a))},{immediate:!0});const w=a=>{var p;const o=a.target,v=((p=o.files)==null?void 0:p[0])||null;e.value&&e.value.startsWith("blob:")&&URL.revokeObjectURL(e.value),s.value=v,o.value=""},_=()=>{e.value&&e.value.startsWith("blob:")&&URL.revokeObjectURL(e.value),s.value=null,e.value=i.featuredPreview};return N(()=>()=>{e.value&&e.value.startsWith("blob:")&&URL.revokeObjectURL(e.value)}),(a,o)=>(r(),d("div",S,[t("div",z,[t("div",D,[n(l(B),{class:"h-5 w-5 text-white"})]),t("h3",J,u(i.title||"Featured Image"),1)]),t("div",X,[t("div",q,[t("input",{type:"file",accept:"image/*",onChange:w,class:"absolute inset-0 h-full w-full cursor-pointer opacity-0"},null,32),e.value?(r(),d("div",H,[t("img",{src:e.value,alt:s.value?s.value.name:"Featured image",class:"w-full h-40 rounded-lg object-cover",onError:o[0]||(o[0]=v=>console.log("Image failed to load:",e.value)),onLoad:o[1]||(o[1]=v=>console.log("Image loaded successfully:",e.value))},null,40,K),t("button",{type:"button",onClick:_,class:"absolute top-2 right-2 p-1 bg-red-100 hover:bg-red-200 rounded-full shadow-lg transition-colors duration-200"},[n(l(h),{class:"h-4 w-4 text-red-600"})]),t("div",Q,u(s.value?"New":"Current"),1)])):(r(),d("div",A,[n(l(O),{class:"mx-auto h-12 w-12 text-gray-400 group-hover:text-primary transition-colors duration-200"}),o[2]||(o[2]=t("div",{class:"mt-4"},[t("p",{class:"text-sm font-medium text-gray-900"},"Upload featured image"),t("p",{class:"text-xs text-gray-500 mt-1"},"PNG, JPG up to 10MB")],-1))]))]),a.form.errors[a.modelName]?(r(),d("p",Y,[n(l(h),{class:"h-4 w-4"}),t("span",null,u(a.form.errors[a.modelName]),1)])):P("",!0)])]))}});export{re as _,le as a};

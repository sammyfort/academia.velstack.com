import{d as b,r as d,x as v,f as y,q as x,c as S,o as u,a as s,u as e,g as w,w as n,b as a,j as V,i as N,F as k}from"./app-DzlptF85.js";import{t as U,a as $}from"./helpers-Cyx2NYZ_.js";import{B as q,_ as B}from"./Layout.vue_vue_type_script_setup_true_lang-DM9XU_W7.js";import{_ as E}from"./PageHeader.vue_vue_type_script_setup_true_lang-CUiqHgMk.js";import{_ as C,a as F}from"./FeaturedFilePond.vue_vue_type_script_setup_true_lang-CnYSbZzr.js";import{_ as c}from"./InputSelect.vue_vue_type_script_setup_true_lang-BjjqiyrW.js";import{d as l}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DWQhbLw0.js";import{_ as h}from"./TextEditor.vue_vue_type_script_setup_true_lang-DdSjb9Eq.js";import{d as A}from"./Input.vue_vue_type_script_setup_true_lang-JYFAA2Md.js";import{_ as I}from"./GalleryFilePond.vue_vue_type_style_index_0_lang-BWF9PPQc.js";import{_ as M}from"./TagSelect.vue_vue_type_script_setup_true_lang-BWmK0PK1.js";import"./map-pin-B802IVsu.js";import"./createLucideIcon-CvYBHfXi.js";import"./check-DKKW4Q0l.js";import"./plus-BFR8Kcsc.js";import"./index-DWWqodMr.js";import"./search-8Tepj4QB.js";const R={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},T={class:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm"},P={class:"grid grid-cols-1 gap-6 md:grid-cols-2 items-start"},Y={class:"md:col-span-2"},ie=b({__name:"ServiceEdit",props:{categories:{},regions:{},service:{},countries:{}},setup(f){const o=f;d();const p=d(),r=v({country_id:Number(o.service.country_id)??"",title:o.service.title??"",description:o.service.description??"",first_mobile:o.service.first_mobile??"",business_name:o.service.business_name??"",second_mobile:o.service.second_mobile??"",years_experience:o.service.years_experience??"",video_link:o.service.video_link??"",email:o.service.email??"",address:o.service.address??"",town:o.service.town??"",gps:o.service.gps??"",region_id:Number(o.service.region_id)??"",category_id:Number(o.service.category_id)??null,featured:null,gallery:[],removed_gallery_urls:[]});y(()=>{});const _=x(()=>o.service.gallery?Array.from(o.service.gallery).map((i,m)=>({url:i,isOriginal:!0,originalIndex:m})):[]),g=()=>{r.transform(t=>({...t,_method:"PUT"})).post(route("my-services.update",o.service.id),{onSuccess:t=>{t.props.success?U(t.props.message):$(t.props.message)}})};return(t,i)=>(u(),S(k,null,[s(e(w),{title:"Update Service"}),s(B,null,{default:n(()=>[a("div",R,[s(E,{title:"Edit Service",subtitle:"Update service listing for your business",icon:e(q)},null,8,["icon"]),s(C,{form:e(r),"submit-text":"Update Service","processing-text":"Updating Service...",onSubmit:g},{"form-sections":n(()=>[a("div",T,[i[5]||(i[5]=a("h2",{class:"mb-6 text-lg font-semibold text-gray-900"},"Service Information",-1)),a("div",P,[s(c,{label:"Select Country",form:e(r),model:"country_id",options:o.countries,required:"",searchable:""},null,8,["form","options"]),s(c,{label:"Select Region",form:e(r),model:"region_id",options:o.regions,required:"",searchable:""},null,8,["form","options"]),s(l,{form:e(r),label:" Service Name/Title",model:"title",required:""},null,8,["form"]),s(l,{form:e(r),label:"Years of Experience",model:"years_experience",type:"number",required:""},null,8,["form"]),s(l,{form:e(r),label:"Town",model:"town",required:""},null,8,["form"]),s(l,{form:e(r),label:"Address",model:"address",required:""},null,8,["form"]),s(l,{form:e(r),label:"First Mobile No",type:"tel",model:"first_mobile",required:""},null,8,["form"]),s(l,{form:e(r),label:"Second Mobile No",type:"tel",model:"second_mobile"},null,8,["form"]),s(l,{form:e(r),label:"Email address",type:"email",model:"email",required:""},null,8,["form"]),s(l,{form:e(r),label:"Business Name",model:"business_name"},null,8,["form"]),s(l,{form:e(r),label:"GPS Address",model:"gps"},null,8,["form"]),a("div",null,[s(l,{form:e(r),label:"Video Link",model:"video_link"},null,8,["form"]),i[3]||(i[3]=a("span",{class:"font-small text-sm text-gray-500"}," Your video will only be shown to visitors if you have a running promotion",-1))]),s(M,{form:e(r),model:"category_id",label:"Field of Service",options:t.categories,size:1,addable:!0,searchable:!0},null,8,["form","options"]),a("div",Y,[i[4]||(i[4]=a("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Service Description",-1)),s(h,{modelValue:e(r).description,"onUpdate:modelValue":i[0]||(i[0]=m=>e(r).description=m)},null,8,["modelValue"]),e(r).errors.description?(u(),V(A,{key:0,message:e(r).errors.description},null,8,["message"])):N("",!0)])])])]),"media-section":n(()=>[s(F,{ref_key:"featureUploadRef",ref:p,form:e(r),modelValue:e(r).featured,"onUpdate:modelValue":i[1]||(i[1]=m=>e(r).featured=m),preview:o.service.featured,modelName:"featured",error:e(r).errors.featured},null,8,["form","modelValue","preview","error"]),s(I,{modelValue:e(r).gallery,"onUpdate:modelValue":i[2]||(i[2]=m=>e(r).gallery=m),existing:_.value,form:e(r),error:e(r).errors.gallery},null,8,["modelValue","existing","form","error"])]),_:1},8,["form"])])]),_:1})],64))}});export{ie as default};

import{g as R,S as d}from"./Input.vue_vue_type_script_setup_true_lang-CYDReLb2.js";import{r as f,q as v,a3 as $,$ as h,d as p,O as k,b3 as w,a7 as E,s as T}from"./app-CLl3S2H9.js";function M(){const o=f(),u=v(()=>{var c,a;return["#text","#comment"].includes((c=o.value)==null?void 0:c.$el.nodeName)?(a=o.value)==null?void 0:a.$el.nextElementSibling:R(o)});return{primitiveElement:o,currentElement:u}}const A="data-reka-collection-item";function N(o={}){const{key:u="",isProvider:c=!1}=o,a=`${u}CollectionProvider`;let e;if(c){const n=f(new Map);e={collectionRef:f(),itemMap:n},$(a,e)}else e=h(a);const y=(n=!1)=>{const t=e.collectionRef.value;if(!t)return[];const l=Array.from(t.querySelectorAll(`[${A}]`)),r=Array.from(e.itemMap.value.values()).sort((s,m)=>l.indexOf(s.ref)-l.indexOf(m.ref));return n?r:r.filter(s=>s.ref.dataset.disabled!=="")},C=p({name:"CollectionSlot",setup(n,{slots:t}){const{primitiveElement:l,currentElement:i}=M();return T(i,()=>{e.collectionRef.value=i.value}),()=>E(d,{ref:l},t)}}),S=p({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(n,{slots:t,attrs:l}){const{primitiveElement:i,currentElement:r}=M();return k(s=>{if(r.value){const m=w(r.value);e.itemMap.value.set(m,{ref:r.value,value:n.value}),s(()=>e.itemMap.value.delete(m))}}),()=>E(d,{...l,[A]:"",ref:i},t)}}),x=v(()=>Array.from(e.itemMap.value.values())),I=v(()=>e.itemMap.value.size);return{getItems:y,reactiveItems:x,itemMapSize:I,CollectionSlot:C,CollectionItem:S}}export{M as a,N as u};

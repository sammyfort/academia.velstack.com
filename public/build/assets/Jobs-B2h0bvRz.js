import{d as N,x as J,E as U,c as m,o as n,F as p,b as d,a as l,u as e,w as r,h as f,C as D,D as P,e as _,W as q,t as k,j as S,f as E,g as R,i as Q}from"./app-c5OGnRl8.js";import{_ as W}from"./Layout.vue_vue_type_script_setup_true_lang-Dmfvc_SE.js";import{c as A}from"./helpers-DUnB0mrp.js";import{_ as B}from"./JobCardV1.vue_vue_type_script_setup_true_lang-FrCITlL5.js";import{u as K}from"./useScrollPagination-DPqw40dM.js";import{_ as L}from"./JobCardV1Skeleton.vue_vue_type_script_setup_true_lang-CbfvgAL0.js";import{_ as M}from"./InputText.vue_vue_type_script_setup_true_lang-DZM9TOpJ.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-3B1K43zP.js";import{_ as w,a as x,b as j,c as h,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-DbTZvdgf.js";import{_ as T}from"./SelectGroup.vue_vue_type_script_setup_true_lang-xieew9sj.js";import{u as z,_ as I}from"./BackToTop.vue_vue_type_script_setup_true_lang-zniCP-g3.js";import"./map-pin-Dj-vrhjY.js";import"./createLucideIcon-BS7EPuHx.js";import"./CardContent.vue_vue_type_script_setup_true_lang-DD1-WNTi.js";import"./briefcase-D6YJzpY8.js";import"./clock-DQfg7S_l.js";import"./Collection-DW_2h91g.js";import"./check-DtiryaHD.js";import"./nullish-CtH4V8ap.js";import"./useDirection-C9AAhcKq.js";import"./useFormControl-G24XF-0T.js";import"./VisuallyHidden-cVx80fwb.js";const G={class:"grid grid-cols-2 gap-4"},H={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},O=N({__name:"JobFilter",props:{categories:{},regions:{}},setup(F){const t=J({q:"",categories:null,region:null,work_mode:null,job_type:null}),b=["onsite","remote","hybrid"],V=["Full time","Part time","Contract","Internship"],{filteredQuery:y,runFilter:g}=z({form:t,routeName:"jobs.index",preserveKeys:["jobsData"],buildQuery:s=>{var a,c,i;t.q&&s.filter("q",t.q),t.region&&s.filter("region",t.region.toString()),(a=t.categories)!=null&&a.length&&t.categories.forEach(u=>{s.filter("categories",u.toString())}),(c=t.work_mode)!=null&&c.length&&t.work_mode.forEach(u=>{s.filter("work_mode",u.toString())}),(i=t.job_type)!=null&&i.length&&t.job_type.forEach(u=>{s.filter("job_type",u.toString())})}});return U(()=>{const s=new URLSearchParams(window.location.search),a=s.get("filter[q]"),c=s.get("filter[categories]"),i=s.get("filter[work_mode]"),u=s.get("filter[job_type]"),v=s.get("filter[region]");t.categories=c?c.split(",").map(o=>Number(o)):[],t.work_mode=i?i.split(",").map(o=>o):[],t.job_type=u?u.split(",").map(o=>o):[],t.region=v?Number(v):null,t.q=a||"",s.size>0&&(y.value="&"+s.toString())}),(s,a)=>{var c,i,u,v;return n(),m(p,null,[a[7]||(a[7]=d("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),d("div",G,[l(M,{placeholder:"Search jobs...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(t)},null,8,["form"]),l(e(w),{modelValue:e(t).job_type,"onUpdate:modelValue":a[0]||(a[0]=o=>e(t).job_type=o),"default-value":e(t).job_type,multiple:!0},{default:r(()=>[l(e(x),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(j),{placeholder:"Type"})]),_:1}),l(e(h),null,{default:r(()=>[(n(),m(p,null,f(V,o=>l(e($),{key:o,value:o},{default:r(()=>[_(k(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),l(e(w),{modelValue:e(t).work_mode,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).work_mode=o),"default-value":e(t).work_mode,multiple:!0},{default:r(()=>[l(e(x),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(j),{placeholder:"Work mode"})]),_:1}),l(e(h),null,{default:r(()=>[(n(),m(p,null,f(b,o=>l(e($),{key:o,value:o},{default:r(()=>[_(k(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),l(e(w),{modelValue:e(t).categories,"onUpdate:modelValue":a[2]||(a[2]=o=>e(t).categories=o),"default-value":e(t).categories,multiple:!0},{default:r(()=>[l(e(x),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(j),{placeholder:"Job category"})]),_:1}),l(e(h),null,{default:r(()=>[(n(!0),m(p,null,f(s.categories,o=>(n(),S(e($),{key:o.id,value:o.id},{default:r(()=>[_(k(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","default-value"]),l(e(w),{modelValue:e(t).region,"onUpdate:modelValue":a[3]||(a[3]=o=>e(t).region=o),"default-value":e(t).region},{default:r(()=>[l(e(x),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(j),{placeholder:"Region"})]),_:1}),l(e(h),null,{default:r(()=>[l(e(T),null,{default:r(()=>[(n(!0),m(p,null,f(s.regions,o=>(n(),S(e($),{key:o.id,value:o.id},{default:r(()=>[_(k(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","default-value"]),d("div",H,[D(l(e(C),{onClick:e(g)},{default:r(()=>a[5]||(a[5]=[_("Apply Filter ")])),_:1,__:[5]},8,["onClick"]),[[P,e(t).region||((c=e(t).categories)==null?void 0:c.length)||((i=e(t).q)==null?void 0:i.length)||((u=e(t).work_mode)==null?void 0:u.length)||((v=e(t).job_type)==null?void 0:v.length)]]),D(l(e(C),{variant:"secondary",onClick:a[4]||(a[4]=o=>e(q).visit(s.route("jobs.index")))},{default:r(()=>a[6]||(a[6]=[_("Reset ")])),_:1,__:[6]},512),[[P,e(y)]])])])],64)}}}),X={class:"w-full"},Y={class:"relative grid grid-cols-4 max-w-[1400px] mx-auto gap-15"},Z={class:"lg:block col-span-4 lg:col-span-1"},ee={class:"sticky top-40"},te={class:"col-span-4 lg:col-span-3 text-gray-900 antialiased"},oe={class:"grid items-stretch gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},le={key:0,class:"text-center mt-10 text-xl font-bold text-fade max-w-xl"},Ve=N({__name:"Jobs",props:{jobsData:{},categories:{},regions:{}},setup(F){const t=F,{items:b,loading:V,nextPage:y}=K({initialData:t.jobsData.data,nextPageUrl:t.jobsData.next_page_url,extractResponseData:g=>g.props.jobsData,preserveKeys:["jobsData"]});return E(()=>{y.value=t.jobsData.next_page_url,b.value=t.jobsData.data}),(g,s)=>(n(),m(p,null,[l(e(R),{title:"Jobs"}),l(W,null,{default:r(()=>[d("div",X,[s[0]||(s[0]=d("div",{class:"w-full my-10 text-center"},[d("div",{class:"text-fade text-2xl font-semibold"},"Browse Jobs")],-1)),d("div",Y,[d("div",Z,[d("div",ee,[l(O,{categories:g.categories,regions:g.regions},null,8,["categories","regions"])])]),d("div",te,[d("div",oe,[(n(!0),m(p,null,f(e(A)(e(b),15),(a,c)=>(n(),m(p,{key:`chunk-${c}`},[(n(!0),m(p,null,f(a,i=>(n(),S(B,{key:`job-card-${i.id}`,job:i},null,8,["job"]))),128))],64))),128)),(n(),m(p,null,f([1,2,3,4],a=>D(l(L,{key:a,class:"shadow-2xl"}),[[P,e(V)]])),64))]),e(b).length?Q("",!0):(n(),m("div",le," No results found, broaden your search... "))])])]),l(I)]),_:1})],64))}});export{Ve as default};

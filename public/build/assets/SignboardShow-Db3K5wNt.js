import{_ as se}from"./Layout.vue_vue_type_script_setup_true_lang-CC7cl54Q.js";import{d as y,c as _,o as u,n as w,u as e,k as $,b as s,r as z,y as P,i as x,j as k,a as t,e as n,w as l,t as f,F as Z,h as ae,m as le,g as re,S as G,W as ne}from"./app-Aen1ciyG.js";import{_ as O,a as U}from"./index-qsmiUeKH.js";import{c as C,e as oe,_ as X,L as ie}from"./Input.vue_vue_type_script_setup_true_lang-DIrI_26b.js";import{e as F,n as de,t as ue,a as ce}from"./helpers-B0bnWFPX.js";import{T as me,_ as pe}from"./ConfirmDialogue.vue_vue_type_script_setup_true_lang-K6ePzbO4.js";import{_ as fe,a as _e,b as ge,c as be,d as L}from"./SelectValue.vue_vue_type_script_setup_true_lang-DlljUwju.js";import{_ as V,a as ye,b as he}from"./ReviewsList.vue_vue_type_script_setup_true_lang-BYIOEOoz.js";import{c as T}from"./createLucideIcon-BSTlSsKt.js";import{X as ve}from"./InputText.vue_vue_type_script_setup_true_lang-BRgoG5LL.js";import{C as N}from"./clock-B5xODTJF.js";import{C as xe}from"./circle-check-big-BYhaoNpi.js";import{_ as we}from"./PromoteSignboard.vue_vue_type_script_setup_true_lang-fGq9JoUI.js";import{_ as ke}from"./LocationDetails.vue_vue_type_script_setup_true_lang-DvtV-nx3.js";import{_ as $e}from"./SignboardActions.vue_vue_type_script_setup_true_lang-DLdd5E-H.js";import{_ as Ce}from"./OperationFields.vue_vue_type_script_setup_true_lang-bbjqJBhh.js";import{_ as Se}from"./ImagePreview.vue_vue_type_script_setup_true_lang-BPPiuDdC.js";import{B as De}from"./briefcase-80wzUOpV.js";import{M as Me}from"./map-pin-CWGF85sg.js";import{P as Te}from"./plus-CEibYolN.js";import{S as Ae}from"./square-pen-DnOaA0b4.js";import{_ as Be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Collection-D4UkdoYW.js";import"./check-BM9YuXC7.js";import"./nullish-CtH4V8ap.js";import"./VisuallyHidden-UxjD8wzf.js";import"./useDirection-D5bTt8RJ.js";import"./VueStarRating.common-DlRI_-z-.js";import"./api-fN9ePhBf.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-ChQIhL0R.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-BseHVndZ.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-CpbWa6Jp.js";import"./InputSelect.vue_vue_type_script_setup_true_lang-VzmEfKNG.js";import"./rocket-D4WmBcpv.js";import"./zap-CB3X7zVV.js";import"./share-2-DohbydGi.js";import"./maximize-2-Da8_MMYb.js";import"./chevron-right-CF5gpGyr.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=T("BuildingIcon",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=T("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=T("CircleXIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=T("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=T("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Q=y({__name:"AlertTitle",props:{class:{}},setup(c){const i=c;return(d,p)=>(u(),_("div",{"data-slot":"alert-title",class:w(e(C)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",i.class))},[$(d.$slots,"default")],2))}}),Ve={"data-slot":"table-container",class:"relative w-full overflow-auto"},ze=y({__name:"Table",props:{class:{}},setup(c){const i=c;return(d,p)=>(u(),_("div",Ve,[s("table",{"data-slot":"table",class:w(e(C)("w-full caption-bottom text-sm",i.class))},[$(d.$slots,"default")],2)]))}}),Fe=y({__name:"TableBody",props:{class:{}},setup(c){const i=c;return(d,p)=>(u(),_("tbody",{"data-slot":"table-body",class:w(e(C)("[&_tr:last-child]:border-0",i.class))},[$(d.$slots,"default")],2))}}),h=y({__name:"TableCell",props:{class:{}},setup(c){const i=c;return(d,p)=>(u(),_("td",{"data-slot":"table-cell",class:w(e(C)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i.class))},[$(d.$slots,"default")],2))}}),J=y({__name:"TableRow",props:{class:{}},setup(c){const i=c;return(d,p)=>(u(),_("tr",{"data-slot":"table-row",class:w(e(C)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",i.class))},[$(d.$slots,"default")],2))}}),v=y({__name:"TableHead",props:{class:{}},setup(c){const i=c;return(d,p)=>(u(),_("th",{"data-slot":"table-head",class:w(e(C)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i.class))},[$(d.$slots,"default")],2))}}),Pe=y({__name:"TableHeader",props:{class:{}},setup(c){const i=c;return(d,p)=>(u(),_("thead",{"data-slot":"table-header",class:w(e(C)("[&_tr]:border-b",i.class))},[$(d.$slots,"default")],2))}}),Ne={class:"rounded-2xl border border-gray-100 bg-white p-6 shadow-xl mt-4"},qe={class:"mb-6 flex items-center justify-between"},je={class:"flex items-center gap-2 text-2xl font-bold text-gray-900"},Ee={class:"mb-6 space-y-2"},Re={class:"flex flex-col sm:flex-row gap-4"},He={class:"relative flex-1"},We={class:"overflow-x-auto"},Ge={class:"flex items-center gap-1.5"},Oe={class:"font-semibold"},Ue={class:"flex items-center gap-1"},Xe={class:"font-medium"},Ye={key:0,class:"text-center py-8"},Ke={key:1,class:"text-center py-8"},Qe=y({__name:"PaymentHistory",props:{promotions:{}},setup(c){const i=c,d=z(""),p=z("all"),b=P(()=>{let g=[...i.promotions];if(d.value){const a=d.value.toLowerCase();g=g.filter(o=>{var I,S,D,M,q,j,E,R,H,W;return((S=(I=o.payment_reference)==null?void 0:I.toLowerCase())==null?void 0:S.includes(a))||((M=(D=o.amount)==null?void 0:D.toString())==null?void 0:M.includes(a))||((j=(q=o.payment_platform)==null?void 0:q.toLowerCase())==null?void 0:j.includes(a))||((R=(E=o.payment_channel)==null?void 0:E.toLowerCase())==null?void 0:R.includes(a))||((W=(H=o.plan.name)==null?void 0:H.toLowerCase())==null?void 0:W.includes(a))})}if(p.value!=="all"){const a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate());g=g.filter(I=>{const S=new Date(I.created_at);switch(p.value){case"today":return S>=o;case"week":const D=new Date(o);return D.setDate(D.getDate()-7),S>=D;case"month":const M=new Date(o);return M.setMonth(M.getMonth()-1),S>=M;default:return!0}})}return g}),A=()=>{d.value="",p.value="all"},m=P(()=>d.value!==""||p.value!=="all"),r=g=>{switch(g){case"paid":return xe;case"pending":return N;case"failed":return ee;default:return N}},B=g=>{switch(g){case"paid":return"text-green-600 bg-green-50 border-green-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"failed":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return(g,a)=>(u(),_("div",Ne,[s("div",qe,[s("h2",je,[t(e(Y),{class:"h-6 w-6 text-primary"}),a[2]||(a[2]=n(" Promotion History "))]),g.promotions.length?(u(),k(e(V),{key:0,variant:"secondary",class:"text-sm"},{default:l(()=>[n(f(b.value.length)+" of "+f(g.promotions.length)+" promotions ",1)]),_:1})):x("",!0)]),s("div",Ee,[s("div",Re,[s("div",He,[t(e(K),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),t(e(oe),{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=o=>d.value=o),placeholder:"Search reference, amount, platform, or channel...",class:"pl-10 w-100"},null,8,["modelValue"])]),t(e(fe),{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=o=>p.value=o)},{default:l(()=>[t(e(_e),{class:"w-full sm:w-40"},{default:l(()=>[t(e(ge),{placeholder:"Filter by date"})]),_:1}),t(e(be),null,{default:l(()=>[t(e(L),{value:"all"},{default:l(()=>a[3]||(a[3]=[n("All Time")])),_:1,__:[3]}),t(e(L),{value:"today"},{default:l(()=>a[4]||(a[4]=[n("Today")])),_:1,__:[4]}),t(e(L),{value:"week"},{default:l(()=>a[5]||(a[5]=[n("Last Week")])),_:1,__:[5]}),t(e(L),{value:"month"},{default:l(()=>a[6]||(a[6]=[n("Last Month")])),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"]),m.value?(u(),k(e(X),{key:0,variant:"outline",size:"sm",onClick:A,class:"flex items-center gap-1 whitespace-nowrap"},{default:l(()=>[t(e(ve),{class:"h-3 w-3"}),a[7]||(a[7]=n(" Clear Filters "))]),_:1,__:[7]})):x("",!0)])]),s("div",We,[t(e(ze),null,{default:l(()=>[t(e(Pe),null,{default:l(()=>[t(e(J),null,{default:l(()=>[t(e(v),{class:"text-left"},{default:l(()=>a[8]||(a[8]=[n("Date")])),_:1,__:[8]}),t(e(v),{class:"text-left"},{default:l(()=>a[9]||(a[9]=[n("Plan")])),_:1,__:[9]}),t(e(v),{class:"text-left"},{default:l(()=>a[10]||(a[10]=[n("Start Date")])),_:1,__:[10]}),t(e(v),{class:"text-left"},{default:l(()=>a[11]||(a[11]=[n("End Date")])),_:1,__:[11]}),t(e(v),{class:"text-left"},{default:l(()=>a[12]||(a[12]=[n("Status")])),_:1,__:[12]}),t(e(v),{class:"text-left"},{default:l(()=>a[13]||(a[13]=[n("Amount")])),_:1,__:[13]}),t(e(v),{class:"text-left"},{default:l(()=>a[14]||(a[14]=[n("Payment Status")])),_:1,__:[14]}),t(e(v),{class:"text-left"},{default:l(()=>a[15]||(a[15]=[n("Reference")])),_:1,__:[15]})]),_:1})]),_:1}),t(e(Fe),null,{default:l(()=>[(u(!0),_(Z,null,ae(b.value,o=>(u(),k(e(J),{key:o.id},{default:l(()=>[t(e(h),null,{default:l(()=>[s("div",Ge,[t(e(Le),{class:"h-4 w-4 text-gray-400"}),n(" "+f(e(F)(o.created_at)),1)])]),_:2},1024),t(e(h),{class:"flex flex-col gap-2"},{default:l(()=>[s("span",Oe,f(o.plan.name),1),t(e(V),{variant:"outline",class:"text-xs"},{default:l(()=>[s("span",null,f(o.plan.number_of_days)+" days",1)]),_:2},1024)]),_:2},1024),t(e(h),null,{default:l(()=>[n(f(o.payment_status=="paid"?e(F)(o.starts_at):""),1)]),_:2},1024),t(e(h),null,{default:l(()=>[n(f(o.payment_status=="paid"?e(F)(o.ends_at):""),1)]),_:2},1024),t(e(h),null,{default:l(()=>[o.payment_status==="paid"?(u(),k(e(V),{key:0,variant:o.is_active?"success":"destructive"},{default:l(()=>[n(f(o.is_active?"Active":"Expired"),1)]),_:2},1032,["variant"])):x("",!0)]),_:2},1024),t(e(h),null,{default:l(()=>[s("div",Ue,[s("span",Xe,"₵"+f(e(de)(o.amount,2)),1)])]),_:2},1024),t(e(h),null,{default:l(()=>[t(e(V),{class:w(["inline-flex items-center gap-1 text-xs font-medium capitalize",B(o.payment_status)])},{default:l(()=>[(u(),k(le(r(o.payment_status)),{class:"h-3 w-3"})),n(" "+f(o.payment_status),1)]),_:2},1032,["class"])]),_:2},1024),t(e(h),{class:"font-mono text-gray-500"},{default:l(()=>[n(f(o.payment_reference),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),b.value.length===0&&g.promotions.length>0?(u(),_("div",Ye,[t(e(K),{class:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a[17]||(a[17]=s("p",{class:"text-gray-500"},"No promotion match your filters",-1)),t(e(X),{variant:"outline",size:"sm",onClick:A,class:"mt-2"},{default:l(()=>a[16]||(a[16]=[n(" Clear Filters ")])),_:1,__:[16]})])):x("",!0),g.promotions.length===0?(u(),_("div",Ke,[t(e(Y),{class:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a[18]||(a[18]=s("p",{class:"text-gray-500"},"No promotion found",-1))])):x("",!0)]))}});var te=(c=>(c.SERVICE="service",c.SIGNBOARD="signboard",c))(te||{});const Je={class:"min-h-screen w-full bg-gradient-to-br from-slate-50 to-blue-50"},Ze={class:"relative overflow-hidden"},et={class:"relative px-6 py-16 md:py-24"},tt={class:"mx-auto max-w-6xl"},st={class:"mb-8"},at={class:"flex items-center space-x-2 text-sm text-white/80"},lt={class:"font-medium text-white"},rt={class:"flex flex-col items-start justify-between gap-8 lg:flex-row lg:items-end"},nt={class:"flex-1"},ot={class:"mb-4 flex items-center gap-4"},it={class:"flex h-16 w-16 items-center justify-center rounded-2xl border border-white/20 bg-white/10 backdrop-blur-sm"},dt={class:"mb-2 text-4xl font-bold text-white md:text-5xl"},ut={class:"flex items-center gap-4 text-white/90"},ct={class:"flex items-center gap-2"},mt={class:"flex items-center gap-2"},pt={class:"max-w-md rounded-2xl border border-white/20 bg-white/10 p-6 backdrop-blur-md"},ft={class:"text-lg text-white/90"},_t={class:"flex gap-3"},gt=["disabled"],bt={key:0},yt={key:1,class:"flex items-center gap-2"},ht={class:"relative z-10 -mt-8 px-6"},vt={class:"mx-auto max-w-full"},xt={class:"grid gap-8 lg:grid-cols-4"},wt={class:"lg:col-span-1"},kt={class:"lg:col-span-2"},$t={class:"lg:col-span-1"},Ct={class:"mt-15 flex w-full flex-wrap"},St={class:"w-full lg:w-1/2"},Dt={key:0,class:"w-full lg:w-1/2 lg:border-s lg:ps-15"},Mt=y({__name:"SignboardShow",props:{signboard:{},plans:{},ratings:{},distributions:{},payment_status:{}},setup(c){const i=c,d=P(()=>i.signboard.reviews),p=z(!1),b=z(!1),A=()=>{b.value=!0,ne.delete(route("my-signboards.delete",i.signboard.id),{onSuccess:m=>{m.props.success?ue(m.props.message):ce(m.props.message)},onFinish:()=>{b.value=!1,p.value=!1}})};return(m,r)=>(u(),_(Z,null,[t(e(re),{title:i.signboard.landmark},null,8,["title"]),t(se,null,{default:l(()=>[s("div",Je,[m.payment_status=="pending"?(u(),k(e(O),{key:0,class:"mb-5",variant:"success"},{default:l(()=>[t(e(N)),t(e(Q),null,{default:l(()=>r[2]||(r[2]=[n("Payment in Progress")])),_:1,__:[2]}),t(e(U),null,{default:l(()=>r[3]||(r[3]=[n(" We've received your request and are currently verifying your payment. "),s("br",null,null,-1),n(" This may take a few moments. Once confirmed, your signboard promotion will be activated automatically. ")])),_:1,__:[3]})]),_:1})):x("",!0),m.payment_status=="cancelled"?(u(),k(e(O),{key:1,class:"mb-5",variant:"destructive"},{default:l(()=>[t(e(ee)),t(e(Q),null,{default:l(()=>r[4]||(r[4]=[n("Transaction Cancelled")])),_:1,__:[4]}),t(e(U),null,{default:l(()=>r[5]||(r[5]=[n(" You cancelled the payment process. "),s("br",null,null,-1),n(" If this was unintentional, please try again to complete your signboard promotion. ")])),_:1,__:[5]})]),_:1})):x("",!0),s("div",Ze,[r[13]||(r[13]=s("div",{class:"absolute inset-0 bg-gradient-to-r from-primary via-primary to-primary"},[s("div",{class:"absolute inset-0 bg-black/20"}),s("div",{class:"hero-pattern absolute inset-0"})],-1)),s("div",et,[s("div",tt,[s("nav",st,[s("div",at,[r[6]||(r[6]=s("span",null,"Signboards",-1)),r[7]||(r[7]=s("span",null,"/",-1)),s("span",null,f(i.signboard.region.name),1),r[8]||(r[8]=s("span",null,"/",-1)),s("span",lt,f(i.signboard.landmark),1)])]),s("div",rt,[s("div",nt,[s("div",ot,[s("div",it,[t(e(De),{class:"h-8 w-8 text-white"})]),s("div",null,[s("h1",dt,f(i.signboard.name),1),s("div",ut,[s("span",ct,[t(e(Me),{class:"h-4 w-4"}),n(" "+f(i.signboard.town),1)]),s("span",mt,[t(e(Ie),{class:"h-4 w-4"}),n(" "+f(i.signboard.region.name),1)])])])]),s("div",pt,[r[9]||(r[9]=s("h3",{class:"mb-2 font-semibold text-white"},"Business Information",-1)),s("p",ft,f(i.signboard.business.name),1)])]),s("div",_t,[t(e(G),{href:m.route("my-signboards.create"),data:{business:i.signboard.business.id},class:"flex items-center gap-x-2 rounded-xl border border-white/30 bg-primary px-6 py-3 text-white backdrop-blur-sm transition-all duration-200 hover:scale-105 hover:bg-primary/30"},{default:l(()=>[t(e(Te),{class:"h-5 w-5"}),r[10]||(r[10]=s("span",null,"Add Signboard",-1))]),_:1,__:[10]},8,["href","data"]),t(e(G),{href:m.route("my-signboards.edit",i.signboard.slug),class:"flex items-center gap-x-2 rounded-xl border border-white/30 bg-primary px-6 py-3 text-white backdrop-blur-sm transition-all duration-200 hover:scale-105 hover:bg-primary/30"},{default:l(()=>[t(e(Ae),{class:"h-5 w-5"}),r[11]||(r[11]=s("span",null,"Edit Signboard",-1))]),_:1,__:[11]},8,["href"]),s("button",{onClick:r[0]||(r[0]=B=>p.value=!0),disabled:b.value,class:"flex items-center gap-x-2 rounded-xl border border-white/30 bg-red-500 px-6 py-3 text-white backdrop-blur-sm transition-all duration-200 hover:scale-105 hover:bg-red-600"},[t(e(me),{class:"mr-2 h-4 w-4"}),b.value?(u(),_("span",yt,[t(e(ie),{class:"h-5 w-5 animate-spin"}),r[12]||(r[12]=n(" Deleting... "))])):(u(),_("span",bt,"Delete Signboard"))],8,gt)])])])])]),s("div",ht,[s("div",vt,[s("div",xt,[s("div",wt,[t(ke,{signboard:m.signboard},null,8,["signboard"]),t($e,{signboard:m.signboard},null,8,["signboard"])]),s("div",kt,[t(Se,{"featured-url":i.signboard.featured_url,"gallery-urls":i.signboard.gallery_urls,title:"Signboard Gallery"},null,8,["featured-url","gallery-urls"])]),s("div",$t,[t(Ce,{signboard:m.signboard},null,8,["signboard"]),t(we,{signboard:m.signboard,plans:m.plans,"promotable-type":e(te).SIGNBOARD},null,8,["signboard","plans","promotable-type"])])])]),s("div",Ct,[r[15]||(r[15]=s("div",{class:"w-full"},[s("h2",{class:"mb-4 text-2xl font-bold text-gray-900"},"Reviews And Comments")],-1)),s("div",St,[t(ye,{class:"border-t-0",signboard:m.signboard,ratings:m.ratings,distributions:m.distributions},null,8,["signboard","ratings","distributions"])]),d.value.length?(u(),_("div",Dt,[r[14]||(r[14]=s("h2",{class:"text-fade mb-4 pt-5 text-lg font-bold"},"Comments",-1)),t(he,{signboard:m.signboard,reviews:d.value},null,8,["signboard","reviews"])])):x("",!0)]),t(Qe,{promotions:m.signboard.promotions},null,8,["promotions"])]),t(pe,{open:p.value,"onUpdate:open":r[1]||(r[1]=B=>p.value=B),loading:b.value,title:"Delete this signboard?",description:"This action cannot be undone. All associated data and images will be permanently removed.",confirmText:"Yes, delete signboard",cancelText:"Keep signboard",onConfirm:A},null,8,["open","loading"])])]),_:1})],64))}}),ps=Be(Mt,[["__scopeId","data-v-fba24134"]]);export{ps as default};

import{d as J,x as N,I as U,c,o as n,F as p,b as d,a as t,u as e,w as r,h as f,C as D,D as P,e as _,W as q,t as k,j as S,f as E,g as R}from"./app-C9ZopDta.js";import{_ as Q}from"./Layout.vue_vue_type_script_setup_true_lang-CqAiJcpj.js";import{c as W}from"./helpers-D3nVrpGb.js";import{_ as A}from"./JobCardV1.vue_vue_type_script_setup_true_lang-Bzq9-c7x.js";import{u as B,a as I,_ as K}from"./BackToTop.vue_vue_type_script_setup_true_lang-DWFnwReC.js";import{_ as L}from"./JobCardV1Skeleton.vue_vue_type_script_setup_true_lang-w-d1U168.js";import{_ as M}from"./InputText.vue_vue_type_script_setup_true_lang-E8GVBOck.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-CbC4zl6P.js";import{_ as w,a as j,b as h,c as x,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-MLyfwBrt.js";import{_ as T}from"./SelectGroup.vue_vue_type_script_setup_true_lang-DPPy2cOg.js";import"./map-pin-CK7IbtDr.js";import"./createLucideIcon-DIBFlSSA.js";import"./CardContent.vue_vue_type_script_setup_true_lang-BDqh1Kt3.js";import"./briefcase-CLwJ8d9v.js";import"./clock-Dw_5_rOX.js";import"./Collection-CRxjlTie.js";import"./check-B3-fkeyX.js";import"./nullish-CtH4V8ap.js";import"./VisuallyHidden-BihPXapS.js";import"./useDirection-BCZftUqy.js";const z={class:"grid grid-cols-2 gap-4"},G={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},H=J({__name:"JobFilter",props:{categories:{},regions:{}},setup(F){const l=N({q:"",categories:null,region:null,work_mode:null,job_type:null}),v=["onsite","remote","hybrid"],V=["Full time","Part time","Contract","Internship"],{filteredQuery:y,runFilter:g}=B({form:l,routeName:"jobs.index",preserveKeys:["jobsData"],buildQuery:s=>{var a,m,i;l.q&&s.filter("q",l.q),l.region&&s.filter("region",l.region.toString()),(a=l.categories)!=null&&a.length&&l.categories.forEach(u=>{s.filter("categories",u.toString())}),(m=l.work_mode)!=null&&m.length&&l.work_mode.forEach(u=>{s.filter("work_mode",u.toString())}),(i=l.job_type)!=null&&i.length&&l.job_type.forEach(u=>{s.filter("job_type",u.toString())})}});return U(()=>{const s=new URLSearchParams(window.location.search),a=s.get("filter[q]"),m=s.get("filter[categories]"),i=s.get("filter[work_mode]"),u=s.get("filter[job_type]"),b=s.get("filter[region]");l.categories=m?m.split(",").map(o=>Number(o)):[],l.work_mode=i?i.split(",").map(o=>o):[],l.job_type=u?u.split(",").map(o=>o):[],l.region=b?Number(b):null,l.q=a||"",s.size>0&&(y.value="&"+s.toString())}),(s,a)=>{var m,i,u,b;return n(),c(p,null,[a[7]||(a[7]=d("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),d("div",z,[t(M,{placeholder:"Search jobs...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(l)},null,8,["form"]),t(e(w),{modelValue:e(l).job_type,"onUpdate:modelValue":a[0]||(a[0]=o=>e(l).job_type=o),"default-value":e(l).job_type,multiple:!0},{default:r(()=>[t(e(j),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[t(e(h),{placeholder:"Type"})]),_:1}),t(e(x),null,{default:r(()=>[(n(),c(p,null,f(V,o=>t(e($),{key:o,value:o},{default:r(()=>[_(k(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),t(e(w),{modelValue:e(l).work_mode,"onUpdate:modelValue":a[1]||(a[1]=o=>e(l).work_mode=o),"default-value":e(l).work_mode,multiple:!0},{default:r(()=>[t(e(j),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[t(e(h),{placeholder:"Work mode"})]),_:1}),t(e(x),null,{default:r(()=>[(n(),c(p,null,f(v,o=>t(e($),{key:o,value:o},{default:r(()=>[_(k(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),t(e(w),{modelValue:e(l).categories,"onUpdate:modelValue":a[2]||(a[2]=o=>e(l).categories=o),"default-value":e(l).categories,multiple:!0},{default:r(()=>[t(e(j),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[t(e(h),{placeholder:"Job category"})]),_:1}),t(e(x),null,{default:r(()=>[(n(!0),c(p,null,f(s.categories,o=>(n(),S(e($),{key:o.id,value:o.id},{default:r(()=>[_(k(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","default-value"]),t(e(w),{modelValue:e(l).region,"onUpdate:modelValue":a[3]||(a[3]=o=>e(l).region=o),"default-value":e(l).region},{default:r(()=>[t(e(j),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[t(e(h),{placeholder:"Region"})]),_:1}),t(e(x),null,{default:r(()=>[t(e(T),null,{default:r(()=>[(n(!0),c(p,null,f(s.regions,o=>(n(),S(e($),{key:o.id,value:o.id},{default:r(()=>[_(k(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","default-value"]),d("div",G,[D(t(e(C),{onClick:e(g)},{default:r(()=>a[5]||(a[5]=[_("Apply Filter ")])),_:1,__:[5]},8,["onClick"]),[[P,e(l).region||((m=e(l).categories)==null?void 0:m.length)||((i=e(l).q)==null?void 0:i.length)||((u=e(l).work_mode)==null?void 0:u.length)||((b=e(l).job_type)==null?void 0:b.length)]]),D(t(e(C),{variant:"secondary",onClick:a[4]||(a[4]=o=>e(q).visit(s.route("jobs.index")))},{default:r(()=>a[6]||(a[6]=[_("Reset ")])),_:1,__:[6]},512),[[P,e(y)]])])])],64)}}}),O={class:"w-full"},X={class:"relative grid grid-cols-4 max-w-[1400px] mx-auto gap-15"},Y={class:"lg:block col-span-4 lg:col-span-1"},Z={class:"sticky top-40"},ee={class:"col-span-4 lg:col-span-3 text-gray-900 antialiased"},le={class:"grid items-stretch gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},je=J({__name:"Jobs",props:{jobsData:{},categories:{},regions:{}},setup(F){const l=F,{items:v,loading:V,nextPage:y}=I({initialData:l.jobsData.data,nextPageUrl:l.jobsData.next_page_url,extractResponseData:g=>g.props.jobsData,preserveKeys:["jobsData"]});return E(()=>{y.value=l.jobsData.next_page_url,v.value=l.jobsData.data}),(g,s)=>(n(),c(p,null,[t(e(R),{title:"Jobs"}),t(Q,null,{default:r(()=>[d("div",O,[s[0]||(s[0]=d("div",{class:"w-full my-10 text-center"},[d("div",{class:"text-fade text-2xl font-semibold"},"Browse Jobs")],-1)),d("div",X,[d("div",Y,[d("div",Z,[t(H,{categories:g.categories,regions:g.regions},null,8,["categories","regions"])])]),d("div",ee,[d("div",le,[(n(!0),c(p,null,f(e(W)(e(v),15),(a,m)=>(n(),c(p,{key:`chunk-${m}`},[(n(!0),c(p,null,f(a,i=>(n(),S(A,{key:`job-card-${i.id}`,job:i},null,8,["job"]))),128))],64))),128)),(n(),c(p,null,f([1,2,3,4],a=>D(t(L,{key:a,class:"shadow-2xl"}),[[P,e(V)]])),64))])])])]),t(K)]),_:1})],64))}});export{je as default};

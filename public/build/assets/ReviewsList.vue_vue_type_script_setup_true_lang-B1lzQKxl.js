import{_ as h,a as k,S as y}from"./SignboardRatingModal.vue_vue_type_script_setup_true_lang-DZDRj8M5.js";import{n as o}from"./helpers-DbZF3b-T.js";import{_ as w}from"./index-BciGLces.js";import{d as $,q as R,y as C,c as g,o as r,n as z,u as a,b as s,i as x,a as e,w as d,e as v,j as _,t as l,H as u,F as S,h as B}from"./app-CJ2rwHZM.js";import{c as N}from"./Input.vue_vue_type_script_setup_true_lang-DbXdWrqU.js";import{a as V,b as D,_ as q}from"./CardHeader.vue_vue_type_script_setup_true_lang-eJyFOHdE.js";import{_ as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-DjMQPOy0.js";import{a as F,b as L,c as j}from"./Layout.vue_vue_type_script_setup_true_lang-BJ92iZYm.js";const E={class:"flex items-center"},H={key:0,class:"ms-auto md:block hidden"},I={key:1,class:"ms-auto md:hidden"},O={class:"my-5 flex flex-col items-start gap-4"},P={class:"flex items-start gap-2 lg:gap-4"},Q={class:"text-5xl"},T={class:""},G={class:"w-full"},J={class:"flex flex-wrap"},K={class:"w-full md:w-1/2"},M={class:"flex flex-col gap-1 text-sm"},U={class:"flex gap-3"},W={class:"flex gap-3"},X={class:"flex gap-3"},Y={class:"flex gap-3"},Z={class:"flex gap-3"},ss={class:"flex gap-3"},is={class:"w-full md:w-1/2 mt-7 md:mt-0"},ts={class:"flex flex-col gap-1 text-sm"},as={class:"flex items-center gap-4"},ls={class:"flex bg-gray-200 w-[150px]"},es={class:"flex items-center gap-4"},ds={class:"flex bg-gray-200 w-[150px]"},ns={class:"flex items-center gap-4"},os={class:"flex bg-gray-200 w-[150px]"},rs={class:"flex items-center gap-4"},us={class:"flex bg-gray-200 w-[150px]"},ms={class:"flex items-center gap-4"},gs={class:"flex bg-gray-200 w-[150px]"},Rs=$({__name:"ReviewsDetails",props:{signboard:{},ratings:{},distributions:{},class:{}},setup(c){const m=R(),f=C(()=>m.props.auth.user),n=c;return(t,i)=>{var p,b;return r(),g("div",{class:z(a(N)("p-4 border-t text-fade",n.class))},[s("div",E,[i[2]||(i[2]=s("div",{class:"font-medium text-lg"},"Reviews",-1)),((p=f.value)==null?void 0:p.id)!==t.signboard.business.user_id?(r(),g("div",H,[e(h,{signboard:t.signboard},{default:d(()=>[e(a(w),{size:"sm"},{default:d(()=>i[0]||(i[0]=[v("Add Review")])),_:1,__:[0]})]),_:1},8,["signboard"])])):x("",!0),((b=f.value)==null?void 0:b.id)!==t.signboard.business.user_id?(r(),g("div",I,[e(k,{signboard:t.signboard},{default:d(()=>[e(a(w),{size:"sm"},{default:d(()=>i[1]||(i[1]=[v("Add Review")])),_:1,__:[1]})]),_:1},8,["signboard"])])):x("",!0)]),s("div",O,[s("div",P,[s("div",Q,l(a(o)(t.signboard.total_average_rating,1)),1),(r(),_(a(y),{"star-size":37,"show-rating":!1,rating:t.signboard.total_average_rating,"read-only":"","active-color":"#009689",padding:3,class:"md:w-1/3 w-full",key:`rating-card-${t.signboard.id}`,increment:.01},null,8,["rating"]))]),s("div",T," ("+l(t.signboard.reviews_count)+" total reviews) ",1),s("div",G,[i[16]||(i[16]=s("div",{class:"text-xl mb-3 font-medium text-secondary"},"Insights",-1)),s("div",J,[s("div",K,[i[9]||(i[9]=s("div",{class:"font-medium mb-2"},"Ratings By Category",-1)),s("div",M,[s("div",U,[s("div",null,l(a(o)(t.ratings.overall,1)),1),i[3]||(i[3]=s("div",null,"Overall",-1))]),s("div",W,[s("div",null,l(a(o)(t.ratings.customer_service,1)),1),i[4]||(i[4]=s("div",null,"Customer Service",-1))]),s("div",X,[s("div",null,l(a(o)(t.ratings.quality,1)),1),i[5]||(i[5]=s("div",null,"Quality",-1))]),s("div",Y,[s("div",null,l(a(o)(t.ratings.price,1)),1),i[6]||(i[6]=s("div",null,"Price",-1))]),s("div",Z,[s("div",null,l(a(o)(t.ratings.communication,1)),1),i[7]||(i[7]=s("div",null,"Communication",-1))]),s("div",ss,[s("div",null,l(a(o)(t.ratings.speed,1)),1),i[8]||(i[8]=s("div",null,"Speed",-1))])])]),s("div",is,[i[15]||(i[15]=s("div",{class:"font-medium mb-2"},"Ratings Distribution",-1)),s("div",ts,[s("div",as,[i[10]||(i[10]=s("div",{class:"w-[50px]"},"5 stars",-1)),s("div",ls,[s("div",{class:"bg-gray-400 h-2",style:u({width:`${t.distributions[5]}%`})},null,4)]),s("div",null,l(t.distributions[5])+"%",1)]),s("div",es,[i[11]||(i[11]=s("div",{class:"w-[50px]"},"4 stars",-1)),s("div",ds,[s("div",{class:"bg-gray-400 h-2",style:u({width:`${t.distributions[4]}%`})},null,4)]),s("div",null,l(t.distributions[4])+"%",1)]),s("div",ns,[i[12]||(i[12]=s("div",{class:"w-[50px]"},"3 stars",-1)),s("div",os,[s("div",{class:"bg-gray-400 h-2",style:u({width:`${t.distributions[3]}%`})},null,4)]),s("div",null,l(t.distributions[3])+"%",1)]),s("div",rs,[i[13]||(i[13]=s("div",{class:"w-[50px]"},"2 stars",-1)),s("div",us,[s("div",{class:"bg-gray-400 h-2",style:u({width:`${t.distributions[2]}%`})},null,4)]),s("div",null,l(t.distributions[2])+"%",1)]),s("div",ms,[i[14]||(i[14]=s("div",{class:"w-[50px]"},"1 star",-1)),s("div",gs,[s("div",{class:"bg-gray-400 h-2",style:u({width:`${t.distributions[1]}%`})},null,4)]),s("div",null,l(t.distributions[1])+"%",1)])])])])])]),i[17]||(i[17]=s("div",{class:"w-full flex flex-col gap-3 mt-3"},null,-1))],2)}}}),vs={class:"w-full text-sm"},fs={class:"text-fade mt-3 flex w-full items-center"},_s={class:"text-xs"},cs={class:"ms-auto"},Cs=$({__name:"ReviewsList",props:{signboard:{},reviews:{}},setup(c){return(m,f)=>(r(!0),g(S,null,B(m.reviews,n=>(r(),_(a(q),{key:`review-${n.id}`,class:"gap-4 shadow-none"},{default:d(()=>[e(a(V),{class:"flex items-center"},{default:d(()=>[e(a(A),{class:"text-fade"},{default:d(()=>[v(l(n.user.fullname),1)]),_:2},1024),e(a(F),{class:"h-12 w-12 lg:ms-auto"},{default:d(()=>{var t;return[e(a(L),{src:((t=n.user.avatar)==null?void 0:t.original_url)??""},null,8,["src"]),e(a(j),null,{default:d(()=>[v(l(n.user.initials),1)]),_:2},1024)]}),_:2},1024)]),_:2},1024),e(a(D),null,{default:d(()=>[s("div",vs,l(n.review),1),s("div",fs,[s("div",_s,l(n.created_at_str),1),s("div",cs,[(r(),_(a(y),{"star-size":15,"show-rating":!1,rating:n.average_rating,"read-only":"","active-color":"#009689",padding:3,class:"w-full md:w-1/3",key:`rating-card-${m.signboard.id}`,increment:.01},null,8,["rating"]))])])]),_:2},1024)]),_:2},1024))),128))}});export{Rs as _,Cs as a};

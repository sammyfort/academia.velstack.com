import{d as S,x as B,E,c as m,o as c,F as g,b as l,a,u as e,w as d,C as x,D as y,e as b,W as O,r as h,f as q,j as $,i as k,n as R,h as v,g as T}from"./app-CGbxpWuG.js";import{_ as U}from"./Layout.vue_vue_type_script_setup_true_lang-Dz-8v4cA.js";import{a as M,_ as Q}from"./AdvertisedServicesH.vue_vue_type_script_setup_true_lang-s7hoFDK8.js";import{_ as H}from"./InputText.vue_vue_type_script_setup_true_lang-BhMSX6ZH.js";import{_ as w,c as I}from"./Input.vue_vue_type_script_setup_true_lang-C21-SpTL.js";import{_ as D,a as C,b as V,c as F}from"./SelectValue.vue_vue_type_script_setup_true_lang-UvfJmd6f.js";import{u as K,_ as L}from"./BackToTop.vue_vue_type_script_setup_true_lang-CaCcfZOU.js";import{u as W}from"./useScrollPagination-D06r9P33.js";import{c as j}from"./helpers-Bv2z62jD.js";import{a as G,A as J,_ as X,b as Y}from"./CarouselItem.vue_vue_type_script_setup_true_lang-PbAOGCAt.js";import{c as Z}from"./api-CE-LjNUW.js";import{_ as z}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-BZWTGoW7.js";import{H as N}from"./hammer-CqlmKVQL.js";import{S as ee}from"./star-CnLLh0rQ.js";import"./map-pin-T4OxYdUL.js";import"./createLucideIcon-DU27MR8T.js";import"./CardContent.vue_vue_type_script_setup_true_lang-C5nLRIAZ.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-C8MPa_VZ.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BDZWicU7.js";import"./VisuallyHidden-CnGgyXDw.js";import"./VueStarRating.common-CZAT70ob.js";import"./eye-DGjiTgyX.js";import"./check-Dvo-jJ8r.js";import"./Collection-B3f6ovv1.js";import"./nullish-CtH4V8ap.js";import"./useDirection-Ca8ntofr.js";import"./useFormControl-C9wcZUhc.js";const se={class:"grid grid-cols-2 gap-4"},te={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},ae=S({__name:"ServicesFilter",props:{categories:{},regions:{}},setup(_){const i=_,s=B({q:"",categories:null,region:null}),{filteredQuery:u,runFilter:f}=K({form:s,routeName:"services.index",preserveKeys:["servicesData"],buildQuery:o=>{var t;s.q&&o.filter("q",s.q),s.region&&o.filter("region",s.region.toString()),(t=s.categories)!=null&&t.length&&s.categories.forEach(n=>{o.filter("categories",n.toString())})}});return E(()=>{const o=new URLSearchParams(window.location.search),t=o.get("filter[q]"),n=o.get("filter[categories]"),p=o.get("filter[region]");s.categories=n?n.split(",").map(r=>Number(r)):[],s.region=p?Number(p):null,s.q=t||"",o.size>0&&(u.value="&"+o.toString())}),(o,t)=>{var n,p;return c(),m(g,null,[t[5]||(t[5]=l("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),l("div",se,[a(H,{placeholder:"Search service providers...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),a(e(D),{modelValue:e(s).categories,"onUpdate:modelValue":t[0]||(t[0]=r=>e(s).categories=r),"default-value":e(s).categories,multiple:!0},{default:d(()=>[a(e(C),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:d(()=>[a(e(V),{placeholder:"Type of artisan"})]),_:1}),a(e(F),{options:i.categories.map(r=>({label:r.name,value:r.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),a(e(D),{modelValue:e(s).region,"onUpdate:modelValue":t[1]||(t[1]=r=>e(s).region=r),"default-value":e(s).region},{default:d(()=>[a(e(C),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:d(()=>[a(e(V),{placeholder:"Region"})]),_:1}),a(e(F),{options:i.regions.map(r=>({label:r.name,value:r.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),l("div",te,[x(a(e(w),{processing:e(s).processing,onClick:e(f)},{default:d(()=>t[3]||(t[3]=[b("Apply Filter ")])),_:1,__:[3]},8,["processing","onClick"]),[[y,e(s).region||((n=e(s).categories)==null?void 0:n.length)||((p=e(s).q)==null?void 0:p.length)]]),x(a(e(w),{variant:"secondary",onClick:t[2]||(t[2]=r=>e(O).visit(o.route("services.index")))},{default:d(()=>t[4]||(t[4]=[b("Reset ")])),_:1,__:[4]},512),[[y,e(u)]])])])],64)}}}),oe=S({__name:"AdvertisedServicesV",props:{itemsClass:{}},setup(_){const i=J({delay:5e3,stopOnMouseEnter:!0,stopOnInteraction:!1}),s=_,u=h([]),f=h(!1);q(async()=>{f.value=!0,u.value=(await Z()).services,f.value=!1});const o=h(!1),t=p=>{o.value=p},n=()=>{if(o.value)i.stop();else try{i.reset(),i.play()}catch{}};return(p,r)=>u.value.length?(c(),$(e(X),{key:0,plugins:[e(i)],onMouseenter:e(i).stop,onMouseleave:n,opts:{loop:!0},orientation:"vertical"},{default:d(()=>[a(e(G),{class:R(e(I)("mb-5",s.itemsClass))},{default:d(()=>[(c(!0),m(g,null,v(u.value,P=>(c(),$(e(Y),{class:"basis-1/3",key:P.id},{default:d(()=>[a(M,{class:"border border-secondary",service:P,"carousel-plugin":e(i),onPopoverOpen:t},null,8,["service","carousel-plugin"]),f.value?(c(),m(g,{key:0},v([1,2,3],A=>a(z,{key:A})),64)):k("",!0)]),_:2},1024))),128))]),_:1},8,["class"])]),_:1},8,["plugins","onMouseenter"])):k("",!0)}}),re={class:"w-full"},le={class:"relative grid grid-cols-5 w-full gap-15"},ie={class:"lg:block col-span-5 lg:col-span-1"},ne={class:"sticky top-40"},ce={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},pe={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},de={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},me={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},ue={class:"hidden lg:block lg:col-span-1"},ge={class:"sticky top-40"},fe={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},He=S({__name:"Services",props:{servicesData:{},categories:{},regions:{}},setup(_){const i=_,{items:s,loading:u,nextPage:f}=W({initialData:i.servicesData.data,nextPageUrl:i.servicesData.next_page_url,extractResponseData:o=>o.props.servicesData,preserveKeys:["servicesData"]});return q(()=>{f.value=i.servicesData.next_page_url,s.value=i.servicesData.data}),(o,t)=>(c(),m(g,null,[a(e(T),{title:"Service Providers"}),a(U,null,{default:d(()=>[l("div",re,[t[2]||(t[2]=l("div",{class:"w-full my-10 text-center"},[l("div",{class:"text-fade text-2xl font-semibold"},"Browse Service Providers")],-1)),l("div",le,[l("div",ie,[l("div",ne,[a(ae,{categories:o.categories,regions:o.regions},null,8,["categories","regions"])])]),l("div",ce,[l("div",pe,[(c(!0),m(g,null,v(e(j)(e(s),15),(n,p)=>(c(),m(g,{key:`chunk-${p}`},[(c(!0),m(g,null,v(n,r=>(c(),$(M,{key:r.id,service:r},null,8,["service"]))),128)),x(a(Q,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:d(()=>[l("div",de,[a(e(N),{size:25,class:"text-primary"}),t[0]||(t[0]=l("span",null,"Trending Service Providers",-1)),a(e(ee),{size:25,class:"text-primary"})])]),_:2},1536),[[y,n.length>14]])],64))),128)),(c(),m(g,null,v([1,2,3,4],n=>x(a(z,{key:n,class:"shadow-2xl"}),[[y,e(u)]])),64))]),e(s).length?k("",!0):(c(),m("div",me," No results found, broaden your search... "))]),l("div",ue,[l("div",ge,[l("div",fe,[t[1]||(t[1]=b(" Trending Service Providers ")),a(e(N),{size:22,class:"text-primary"})]),a(oe,{"items-class":"h-screen",class:""})])])])]),a(L)]),_:1})],64))}});export{He as default};

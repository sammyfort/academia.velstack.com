import{d as _,r as b,x as g,f as y,c as w,o as p,a as r,u as o,g as k,w as d,b as i,j as x,i as j,F as q}from"./app-BY5kmqxs.js";import{t as h,a as J}from"./helpers-D0dytOI8.js";import{B as S,_ as v}from"./Layout.vue_vue_type_script_setup_true_lang-hhrSENzq.js";import{_ as U}from"./PageHeader.vue_vue_type_script_setup_true_lang-ByNXF16u.js";import{_ as $}from"./TextEditor.vue_vue_type_script_setup_true_lang-nposmxso.js";import{_ as B,a as V}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-62KqjfP3.js";import{_ as l}from"./InputText.vue_vue_type_script_setup_true_lang-CY4l3jJH.js";import{_ as m}from"./InputSelect.vue_vue_type_script_setup_true_lang-E16Mxy1L.js";import{d as C}from"./Input.vue_vue_type_script_setup_true_lang-cGZXPzZh.js";import"./map-pin-DB25ecLM.js";import"./createLucideIcon-Btbk_wOc.js";import"./check-BStrP0NT.js";import"./upload-CgnZaI38.js";const E={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},N={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},T={class:"grid grid-cols-2 md:grid-cols-2 gap-6"},D={class:"col-span-1 md:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Q=_({__name:"JobEdit",props:{job:{},types:{},statuses:{},modes:{},regions:{},categories:{}},setup(u){const s=u,f=b(),e=g({company_name:"",title:"",categories:[],job_type:"",work_mode:"",status:"",deadline:"",region_id:"",town:"",salary:"",summary:"",description:"",how_to_apply:"",application_link:"",featured:null});y(()=>{const t=s.job;e.company_name=t.company_name||"",e.title=t.title||"",e.categories=(t.categories||[]).map(a=>a.id),e.job_type=t.job_type||"",e.work_mode=t.work_mode||"",e.status=t.status||"",e.deadline=t.deadline?new Date(t.deadline).toISOString().split("T")[0]:"",e.region_id=t.region_id||"",e.town=t.town||"",e.salary=t.salary||"",e.summary=t.summary||"",e.how_to_apply=t.how_to_apply||"",e.application_link=t.application_link||"",e.description=t.description||""});const c=()=>{e.post(route("my-jobs.update",s.job.id),{preserveScroll:!0,onSuccess:t=>{t.props.success?h(t.props.message):J(t.props.message)}})};return(t,a)=>(p(),w(q,null,[r(o(k),{title:"Update Job"}),r(v,null,{default:d(()=>[i("div",E,[r(U,{title:"Edit Job",subtitle:"Update job details",icon:o(S)},null,8,["icon"]),r(B,{form:o(e),"submit-text":"Update Job","processing-text":"Updating...",onSubmit:c,"container-width":"max-w-6xl"},{"form-sections":d(()=>[i("div",N,[a[2]||(a[2]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Job Information",-1)),i("div",T,[r(l,{form:o(e),label:"Company Name",model:"company_name",required:""},null,8,["form"]),r(m,{form:o(e),label:"Job Sector",model:"categories",options:s.categories,taggable:"",required:"",searchable:""},null,8,["form","options"]),r(l,{form:o(e),label:"Title",model:"title",required:""},null,8,["form"]),r(m,{form:o(e),label:"Job Type",model:"job_type",options:s.types,required:""},null,8,["form","options"]),r(m,{form:o(e),label:"Work Mode",model:"work_mode",options:s.modes,required:""},null,8,["form","options"]),r(m,{form:o(e),label:"Region",model:"region_id",options:s.regions,required:"",searchable:""},null,8,["form","options"]),r(l,{form:o(e),label:"Town",model:"town",required:""},null,8,["form"]),r(m,{label:"Job Status",form:o(e),model:"status",options:s.statuses,required:""},null,8,["form","options"]),r(l,{form:o(e),label:"Salary",model:"salary"},null,8,["form"]),r(l,{form:o(e),label:"How to apply",model:"how_to_apply",required:""},null,8,["form"]),r(l,{form:o(e),label:"Application Link",model:"application_link",required:""},null,8,["form"]),r(l,{form:o(e),label:"Summary",model:"summary",required:"",textarea:""},null,8,["form"]),r(l,{form:o(e),label:"Deadline",model:"deadline",type:"date",required:""},null,8,["form"])])]),i("div",D,[a[3]||(a[3]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Job Description",-1)),r($,{modelValue:o(e).description,"onUpdate:modelValue":a[0]||(a[0]=n=>o(e).description=n)},null,8,["modelValue"]),o(e).errors.description?(p(),x(C,{key:0,message:o(e).errors.description},null,8,["message"])):j("",!0)])]),"media-section":d(()=>[r(V,{ref_key:"featureUploadRef",ref:f,form:o(e),file:o(e).featured,"onUpdate:file":a[1]||(a[1]=n=>o(e).featured=n),"model-name":"featured",title:"Company Logo","featured-preview":s.job.featured},null,8,["form","file","featured-preview"])]),_:1},8,["form"])])]),_:1})],64))}});export{Q as default};

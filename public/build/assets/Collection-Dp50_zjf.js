import{A as $,g as C,S as d}from"./Input.vue_vue_type_script_setup_true_lang-cGZXPzZh.js";import{q as f,r as v,a5 as b,a1 as h,d as p,Q as k,b5 as w,a9 as E,s as T}from"./app-BY5kmqxs.js";function P(t){return f(()=>{var n;return $(t)?!!((n=C(t))!=null&&n.closest("form")):!0})}function A(){const t=v(),n=f(()=>{var m,i;return["#text","#comment"].includes((m=t.value)==null?void 0:m.$el.nodeName)?(i=t.value)==null?void 0:i.$el.nextElementSibling:C(t)});return{primitiveElement:t,currentElement:n}}const M="data-reka-collection-item";function _(t={}){const{key:n="",isProvider:m=!1}=t,i=`${n}CollectionProvider`;let e;if(m){const l=v(new Map);e={collectionRef:v(),itemMap:l},b(i,e)}else e=h(i);const y=(l=!1)=>{const o=e.collectionRef.value;if(!o)return[];const r=Array.from(o.querySelectorAll(`[${M}]`)),a=Array.from(e.itemMap.value.values()).sort((c,u)=>r.indexOf(c.ref)-r.indexOf(u.ref));return l?a:a.filter(c=>c.ref.dataset.disabled!=="")},S=p({name:"CollectionSlot",setup(l,{slots:o}){const{primitiveElement:r,currentElement:s}=A();return T(s,()=>{e.collectionRef.value=s.value}),()=>E(d,{ref:r},o)}}),x=p({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:o,attrs:r}){const{primitiveElement:s,currentElement:a}=A();return k(c=>{if(a.value){const u=w(a.value);e.itemMap.value.set(u,{ref:a.value,value:l.value}),c(()=>e.itemMap.value.delete(u))}}),()=>E(d,{...r,[M]:"",ref:s},o)}}),I=f(()=>Array.from(e.itemMap.value.values())),R=f(()=>e.itemMap.value.size);return{getItems:y,reactiveItems:I,itemMapSize:R,CollectionSlot:S,CollectionItem:x}}export{_ as a,A as b,P as u};

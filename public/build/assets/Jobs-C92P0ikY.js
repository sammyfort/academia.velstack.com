import{d as C,x as N,E as J,c,o as m,F as p,b as d,a as l,u as e,w as r,h as b,C as $,D as V,e as y,W as U,t as P,f as q,g as E,i as R,j as Q}from"./app-DSuh8Bw5.js";import{_ as W}from"./Layout.vue_vue_type_script_setup_true_lang-DGuLhDOK.js";import{c as A}from"./helpers-kcuX0qvA.js";import{_ as B}from"./JobCardV1.vue_vue_type_script_setup_true_lang-CRfQKb7h.js";import{u as K}from"./useScrollPagination-9NkXy7TH.js";import{_ as L}from"./JobCardV1Skeleton.vue_vue_type_script_setup_true_lang-BqHQBqH0.js";import{_ as M}from"./InputText.vue_vue_type_script_setup_true_lang-Bx_W_oI_.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-BvdvDydK.js";import{_ as k,a as w,b as x,c as j,d as F}from"./SelectValue.vue_vue_type_script_setup_true_lang-BPovW6ew.js";import{u as T,_ as z}from"./BackToTop.vue_vue_type_script_setup_true_lang-B9kYgwEh.js";import"./map-pin-D0lEGFFn.js";import"./createLucideIcon-Pcjl6ujU.js";import"./CardContent.vue_vue_type_script_setup_true_lang-Dwxys31r.js";import"./briefcase-DJ6nuNQW.js";import"./clock-elVZkZng.js";import"./check-B2Z1hvkS.js";import"./Collection-BTfnr-CK.js";import"./nullish-CtH4V8ap.js";import"./useDirection-z-1Zo1h_.js";import"./useFormControl-L2NUBjFJ.js";import"./VisuallyHidden-BQ7FX_-K.js";const I={class:"grid grid-cols-2 gap-4"},G={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},H=C({__name:"JobFilter",props:{categories:{},regions:{}},setup(D){const o=N({q:"",categories:null,region:null,work_mode:null,job_type:null}),f=["onsite","remote","hybrid"],h=["Full time","Part time","Contract","Internship"],{filteredQuery:v,runFilter:g}=T({form:o,routeName:"jobs.index",preserveKeys:["jobsData"],buildQuery:s=>{var a,u,n;o.q&&s.filter("q",o.q),o.region&&s.filter("region",o.region.toString()),(a=o.categories)!=null&&a.length&&o.categories.forEach(i=>{s.filter("categories",i.toString())}),(u=o.work_mode)!=null&&u.length&&o.work_mode.forEach(i=>{s.filter("work_mode",i.toString())}),(n=o.job_type)!=null&&n.length&&o.job_type.forEach(i=>{s.filter("job_type",i.toString())})}});return J(()=>{const s=new URLSearchParams(window.location.search),a=s.get("filter[q]"),u=s.get("filter[categories]"),n=s.get("filter[work_mode]"),i=s.get("filter[job_type]"),_=s.get("filter[region]");o.categories=u?u.split(",").map(t=>Number(t)):[],o.work_mode=n?n.split(",").map(t=>t):[],o.job_type=i?i.split(",").map(t=>t):[],o.region=_?Number(_):null,o.q=a||"",s.size>0&&(v.value="&"+s.toString())}),(s,a)=>{var u,n,i,_;return m(),c(p,null,[a[7]||(a[7]=d("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),d("div",I,[l(M,{placeholder:"Search jobs...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(o)},null,8,["form"]),l(e(k),{modelValue:e(o).job_type,"onUpdate:modelValue":a[0]||(a[0]=t=>e(o).job_type=t),"default-value":e(o).job_type,multiple:!0},{default:r(()=>[l(e(w),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(x),{placeholder:"Type"})]),_:1}),l(e(j),null,{default:r(()=>[(m(),c(p,null,b(h,t=>l(e(F),{key:t,value:t},{default:r(()=>[y(P(t),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),l(e(k),{modelValue:e(o).work_mode,"onUpdate:modelValue":a[1]||(a[1]=t=>e(o).work_mode=t),"default-value":e(o).work_mode,multiple:!0},{default:r(()=>[l(e(w),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(x),{placeholder:"Work mode"})]),_:1}),l(e(j),null,{default:r(()=>[(m(),c(p,null,b(f,t=>l(e(F),{key:t,value:t},{default:r(()=>[y(P(t),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),l(e(k),{modelValue:e(o).categories,"onUpdate:modelValue":a[2]||(a[2]=t=>e(o).categories=t),"default-value":e(o).categories,multiple:!0},{default:r(()=>[l(e(w),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(x),{placeholder:"Job category"})]),_:1}),l(e(j),{options:s.categories.map(t=>({label:t.name,value:t.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),l(e(k),{modelValue:e(o).region,"onUpdate:modelValue":a[3]||(a[3]=t=>e(o).region=t),"default-value":e(o).region},{default:r(()=>[l(e(w),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[l(e(x),{placeholder:"Region"})]),_:1}),l(e(j),{options:s.regions.map(t=>({label:t.name,value:t.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),d("div",G,[$(l(e(S),{onClick:e(g)},{default:r(()=>a[5]||(a[5]=[y("Apply Filter ")])),_:1,__:[5]},8,["onClick"]),[[V,e(o).region||((u=e(o).categories)==null?void 0:u.length)||((n=e(o).q)==null?void 0:n.length)||((i=e(o).work_mode)==null?void 0:i.length)||((_=e(o).job_type)==null?void 0:_.length)]]),$(l(e(S),{variant:"secondary",onClick:a[4]||(a[4]=t=>e(U).visit(s.route("jobs.index")))},{default:r(()=>a[6]||(a[6]=[y("Reset ")])),_:1,__:[6]},512),[[V,e(v)]])])])],64)}}}),O={class:"w-full"},X={class:"relative grid grid-cols-4 max-w-[1400px] mx-auto gap-15"},Y={class:"lg:block col-span-4 lg:col-span-1"},Z={class:"sticky top-40"},ee={class:"col-span-4 lg:col-span-3 text-gray-900 antialiased"},oe={class:"grid items-stretch gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},te={key:0,class:"text-center mt-10 text-xl font-bold text-fade max-w-xl"},he=C({__name:"Jobs",props:{jobsData:{},categories:{},regions:{}},setup(D){const o=D,{items:f,loading:h,nextPage:v}=K({initialData:o.jobsData.data,nextPageUrl:o.jobsData.next_page_url,extractResponseData:g=>g.props.jobsData,preserveKeys:["jobsData"]});return q(()=>{v.value=o.jobsData.next_page_url,f.value=o.jobsData.data}),(g,s)=>(m(),c(p,null,[l(e(E),{title:"Jobs"}),l(W,null,{default:r(()=>[d("div",O,[s[0]||(s[0]=d("div",{class:"w-full my-10 text-center"},[d("div",{class:"text-fade text-2xl font-semibold"},"Browse Jobs")],-1)),d("div",X,[d("div",Y,[d("div",Z,[l(H,{categories:g.categories,regions:g.regions},null,8,["categories","regions"])])]),d("div",ee,[d("div",oe,[(m(!0),c(p,null,b(e(A)(e(f),15),(a,u)=>(m(),c(p,{key:`chunk-${u}`},[(m(!0),c(p,null,b(a,n=>(m(),Q(B,{key:`job-card-${n.id}`,job:n},null,8,["job"]))),128))],64))),128)),(m(),c(p,null,b([1,2,3,4],a=>$(l(L,{key:a,class:"shadow-2xl"}),[[V,e(h)]])),64))]),e(f).length?R("",!0):(m(),c("div",te," No results found, broaden your search... "))])])]),l(z)]),_:1})],64))}});export{he as default};

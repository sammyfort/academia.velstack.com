import{d as k,x as R,C as T,c as d,o as c,F as m,b as i,a as t,u as e,w as n,h as f,s as x,v as h,e as _,W as U,j as v,t as w,r as b,f as M,i as D,n as E,g as Q}from"./app-Aen1ciyG.js";import{_ as H}from"./Layout.vue_vue_type_script_setup_true_lang-CC7cl54Q.js";import{a as z,b as B,_ as I}from"./AdvertisedServicesH.vue_vue_type_script_setup_true_lang-BWfFqkGj.js";import{_ as K}from"./InputText.vue_vue_type_script_setup_true_lang-BRgoG5LL.js";import{_ as P,c as L}from"./Input.vue_vue_type_script_setup_true_lang-DIrI_26b.js";import{_ as C,a as V,b as A,c as F,d as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-DlljUwju.js";import{_ as W}from"./SelectGroup.vue_vue_type_script_setup_true_lang-DQGmOz1i.js";import{u as j,a as G,_ as J}from"./BackToTop.vue_vue_type_script_setup_true_lang-BScLALDu.js";import{d as X}from"./helpers-B0bnWFPX.js";import{_ as Y,A as Z,a as ee,b as se}from"./CarouselItem.vue_vue_type_script_setup_true_lang-DOUEzj4R.js";import{g as ae}from"./api-fN9ePhBf.js";import{H as N}from"./hammer-BcKbU5f9.js";import{S as te}from"./star-ESwK0uMq.js";import"./map-pin-CWGF85sg.js";import"./createLucideIcon-BSTlSsKt.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-BseHVndZ.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BKzrDOrm.js";import"./VisuallyHidden-UxjD8wzf.js";import"./eye-DwC_qW9d.js";import"./Collection-D4UkdoYW.js";import"./check-BM9YuXC7.js";import"./nullish-CtH4V8ap.js";import"./useDirection-D5bTt8RJ.js";const le={class:"grid grid-cols-2 gap-4"},re={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},oe=k({__name:"ServicesFilter",props:{categories:{},regions:{}},setup(y){const s=R({q:"",categories:null,region:null}),{filteredQuery:p,runFilter:g}=j({form:s,routeName:"services.index",preserveKeys:["servicesData"],buildQuery:r=>{var a;s.q&&r.filter("q",s.q),s.region&&r.filter("region",s.region.toString()),(a=s.categories)!=null&&a.length&&s.categories.forEach(o=>{r.filter("categories",o.toString())})}});return T(()=>{const r=new URLSearchParams(window.location.search),a=r.get("filter[q]"),o=r.get("filter[categories]"),u=r.get("filter[region]");s.categories=o?o.split(",").map(l=>Number(l)):[],s.region=u?Number(u):null,s.q=a||"",r.size>0&&(p.value="&"+r.toString())}),(r,a)=>{var o,u;return c(),d(m,null,[a[5]||(a[5]=i("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),i("div",le,[t(K,{placeholder:"Search artisan...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),t(e(C),{modelValue:e(s).categories,"onUpdate:modelValue":a[0]||(a[0]=l=>e(s).categories=l),"default-value":e(s).categories,multiple:!0},{default:n(()=>[t(e(V),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[t(e(A),{placeholder:"Type of artisan"})]),_:1}),t(e(F),null,{default:n(()=>[(c(!0),d(m,null,f(r.categories,l=>(c(),v(e(q),{key:l.id,value:l.id},{default:n(()=>[_(w(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","default-value"]),t(e(C),{modelValue:e(s).region,"onUpdate:modelValue":a[1]||(a[1]=l=>e(s).region=l),"default-value":e(s).region},{default:n(()=>[t(e(V),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:n(()=>[t(e(A),{placeholder:"Region"})]),_:1}),t(e(F),null,{default:n(()=>[t(e(W),null,{default:n(()=>[(c(!0),d(m,null,f(r.regions,l=>(c(),v(e(q),{key:l.id,value:l.id},{default:n(()=>[_(w(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","default-value"]),i("div",re,[x(t(e(P),{onClick:e(g)},{default:n(()=>a[3]||(a[3]=[_("Apply Filter ")])),_:1,__:[3]},8,["onClick"]),[[h,e(s).region||((o=e(s).categories)==null?void 0:o.length)||((u=e(s).q)==null?void 0:u.length)]]),x(t(e(P),{variant:"secondary",onClick:a[2]||(a[2]=l=>e(U).visit(r.route("services.index")))},{default:n(()=>a[4]||(a[4]=[_("Reset ")])),_:1,__:[4]},512),[[h,e(p)]])])])],64)}}}),ie=k({__name:"AdvertisedServicesV",props:{itemsClass:{}},setup(y){const s=Z({delay:5e3,stopOnMouseEnter:!0,stopOnInteraction:!1}),p=y,g=b([]),r=b(!1);M(async()=>{r.value=!0,g.value=(await ae()).services,r.value=!1});const a=b(!1),o=l=>{a.value=l},u=()=>{if(a.value)s.stop();else try{s.reset(),s.play()}catch{}};return(l,$)=>g.value.length?(c(),v(e(ee),{key:0,plugins:[e(s)],onMouseenter:e(s).stop,onMouseleave:u,opts:{loop:!0},orientation:"vertical"},{default:n(()=>[t(e(Y),{class:E(e(L)("mb-5",p.itemsClass))},{default:n(()=>[(c(!0),d(m,null,f(g.value,S=>(c(),v(e(se),{class:"basis-1/3",key:S.id},{default:n(()=>[t(z,{class:"border border-secondary",service:S,"carousel-plugin":e(s),onPopoverOpen:o},null,8,["service","carousel-plugin"]),r.value?(c(),d(m,{key:0},f([1,2,3],O=>t(B,{key:O})),64)):D("",!0)]),_:2},1024))),128))]),_:1},8,["class"])]),_:1},8,["plugins","onMouseenter"])):D("",!0)}}),ne={class:"w-full"},ce={class:"relative grid grid-cols-5 w-full gap-15"},ue={class:"lg:block col-span-5 lg:col-span-1"},de={class:"sticky top-0"},me={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},pe={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},ge={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},fe={class:"hidden lg:block lg:col-span-1"},_e={class:"sticky top-0"},ve={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},Ee=k({__name:"Services",props:{servicesData:{},categories:{},regions:{}},setup(y){const s=y,{items:p,loading:g,nextPage:r}=G({initialData:s.servicesData.data,nextPageUrl:s.servicesData.next_page_url,extractResponseData:a=>a.props.servicesData,preserveKeys:["servicesData"]});return M(()=>{r.value=s.servicesData.next_page_url,p.value=s.servicesData.data}),(a,o)=>(c(),d(m,null,[t(e(Q),{title:"Artisans"}),t(H,null,{default:n(()=>[i("div",ne,[o[2]||(o[2]=i("div",{class:"w-full my-10 text-center"},[i("div",{class:"text-fade text-2xl font-semibold"},"Browse Artisans")],-1)),i("div",ce,[i("div",ue,[i("div",de,[t(oe,{categories:a.categories,regions:a.regions},null,8,["categories","regions"])])]),i("div",me,[i("div",pe,[(c(!0),d(m,null,f(e(X)(e(p),15),(u,l)=>(c(),d(m,{key:`chunk-${l}`},[(c(!0),d(m,null,f(u,$=>(c(),v(z,{key:$.id,service:$},null,8,["service"]))),128)),x(t(I,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:n(()=>[i("div",ge,[t(e(N),{size:25,class:"text-primary"}),o[0]||(o[0]=i("span",null,"Trending Artisans",-1)),t(e(te),{size:25,class:"text-primary"})])]),_:2},1536),[[h,u.length>14]])],64))),128)),(c(),d(m,null,f([1,2,3,4],u=>x(t(B,{key:u,class:"shadow-2xl"}),[[h,e(g)]])),64))])]),i("div",fe,[i("div",_e,[i("div",ve,[o[1]||(o[1]=_(" Trending Artisans ")),t(e(N),{size:22,class:"text-primary"})]),t(ie,{"items-class":"h-screen"})])])])]),t(J)]),_:1})],64))}});export{Ee as default};

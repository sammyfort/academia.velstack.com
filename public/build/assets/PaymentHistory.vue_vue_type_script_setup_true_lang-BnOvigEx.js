import{c as h,_ as X}from"./Input.vue_vue_type_script_setup_true_lang-Bp_7bBrn.js";import{d as p,c as f,o as c,b as i,n as y,u as e,k as b,r as L,y as I,h as v,j as k,a,e as o,w as s,t as _,F as R,i as U,m as E}from"./app-Bt0bSdJ2.js";import{_ as M}from"./index-pKFf7Vcn.js";import{a as Q,b as W,c as Y,d as C,_ as G}from"./SelectValue.vue_vue_type_script_setup_true_lang-a1kNxeMD.js";import{_ as V}from"./index-BVX7KZsG.js";import{n as J}from"./helpers-CJVF3whO.js";import{c as w}from"./createLucideIcon-DHIHATuF.js";import{X as K}from"./x-C7OQcy4j.js";import{C as O}from"./circle-check-big-oikLS-a4.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=w("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=w("CircleXIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=w("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=w("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=w("DollarSignIcon",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=w("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ae={"data-slot":"table-container",class:"relative w-full overflow-auto"},se=p({__name:"Table",props:{class:{}},setup(d){const n=d;return(r,u)=>(c(),f("div",ae,[i("table",{"data-slot":"table",class:y(e(h)("w-full caption-bottom text-sm",n.class))},[b(r.$slots,"default")],2)]))}}),le=p({__name:"TableBody",props:{class:{}},setup(d){const n=d;return(r,u)=>(c(),f("tbody",{"data-slot":"table-body",class:y(e(h)("[&_tr:last-child]:border-0",n.class))},[b(r.$slots,"default")],2))}}),x=p({__name:"TableCell",props:{class:{}},setup(d){const n=d;return(r,u)=>(c(),f("td",{"data-slot":"table-cell",class:y(e(h)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n.class))},[b(r.$slots,"default")],2))}}),H=p({__name:"TableRow",props:{class:{}},setup(d){const n=d;return(r,u)=>(c(),f("tr",{"data-slot":"table-row",class:y(e(h)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n.class))},[b(r.$slots,"default")],2))}}),g=p({__name:"TableHead",props:{class:{}},setup(d){const n=d;return(r,u)=>(c(),f("th",{"data-slot":"table-head",class:y(e(h)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n.class))},[b(r.$slots,"default")],2))}}),oe=p({__name:"TableHeader",props:{class:{}},setup(d){const n=d;return(r,u)=>(c(),f("thead",{"data-slot":"table-header",class:y(e(h)("[&_tr]:border-b",n.class))},[b(r.$slots,"default")],2))}}),re={class:"rounded-2xl border border-gray-100 bg-white p-6 shadow-xl mt-4"},ne={class:"mb-6 flex items-center justify-between"},ce={class:"flex items-center gap-2 text-2xl font-bold text-gray-900"},de={class:"mb-6 space-y-2"},ue={class:"flex flex-col sm:flex-row gap-4"},ie={class:"relative flex-1"},me={class:"overflow-x-auto"},fe={class:"flex items-center gap-2"},_e={class:"flex items-center gap-1"},pe={class:"font-medium"},ye={key:0,class:"text-center py-8"},xe={key:1,class:"text-center py-8"},Se=p({__name:"PaymentHistory",props:{signboard:{}},setup(d){const n=d,r=L(""),u=L("all"),$=I(()=>{let m=[...n.signboard.subscriptions];if(r.value){const t=r.value.toLowerCase();m=m.filter(l=>l.payment_reference.toLowerCase().includes(t)||l.amount.toString().includes(t)||l.payment_platform.toLowerCase().includes(t)||l.payment_channel.toLowerCase().includes(t))}if(u.value!=="all"){const t=new Date,l=new Date(t.getFullYear(),t.getMonth(),t.getDate());m=m.filter(P=>{const D=new Date(P.created_at);switch(u.value){case"today":return D>=l;case"week":const S=new Date(l);return S.setDate(S.getDate()-7),D>=S;case"month":const T=new Date(l);return T.setMonth(T.getMonth()-1),D>=T;default:return!0}})}return m}),F=()=>{r.value="",u.value="all"},N=I(()=>r.value!==""||u.value!=="all"),A=m=>{switch(m){case"paid":return O;case"pending":return z;case"failed":return ee;default:return z}},j=m=>{switch(m){case"paid":return"text-green-600 bg-green-50 border-green-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"failed":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return(m,t)=>(c(),f("div",re,[i("div",ne,[i("h2",ce,[a(e(q),{class:"h-6 w-6 text-primary"}),t[2]||(t[2]=o(" Promotion History "))]),n.signboard.subscriptions.length?(c(),k(e(V),{key:0,variant:"secondary",class:"text-sm"},{default:s(()=>[o(_($.value.length)+" of "+_(n.signboard.subscriptions.length)+" promtions ",1)]),_:1})):v("",!0)]),i("div",de,[i("div",ue,[i("div",ie,[a(e(B),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a(e(X),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=l=>r.value=l),placeholder:"Search reference, amount, platform, or channel...",class:"pl-10 w-100"},null,8,["modelValue"])]),a(e(G),{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=l=>u.value=l)},{default:s(()=>[a(e(Q),{class:"w-full sm:w-40"},{default:s(()=>[a(e(W),{placeholder:"Filter by date"})]),_:1}),a(e(Y),null,{default:s(()=>[a(e(C),{value:"all"},{default:s(()=>t[3]||(t[3]=[o("All Time")])),_:1,__:[3]}),a(e(C),{value:"today"},{default:s(()=>t[4]||(t[4]=[o("Today")])),_:1,__:[4]}),a(e(C),{value:"week"},{default:s(()=>t[5]||(t[5]=[o("Last Week")])),_:1,__:[5]}),a(e(C),{value:"month"},{default:s(()=>t[6]||(t[6]=[o("Last Month")])),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"]),N.value?(c(),k(e(M),{key:0,variant:"outline",size:"sm",onClick:F,class:"flex items-center gap-1 whitespace-nowrap"},{default:s(()=>[a(e(K),{class:"h-3 w-3"}),t[7]||(t[7]=o(" Clear Filters "))]),_:1,__:[7]})):v("",!0)])]),i("div",me,[a(e(se),null,{default:s(()=>[a(e(oe),null,{default:s(()=>[a(e(H),null,{default:s(()=>[a(e(g),{class:"text-left"},{default:s(()=>t[8]||(t[8]=[o("Date")])),_:1,__:[8]}),a(e(g),{class:"text-left"},{default:s(()=>t[9]||(t[9]=[o("Platform")])),_:1,__:[9]}),a(e(g),{class:"text-left"},{default:s(()=>t[10]||(t[10]=[o("Channel")])),_:1,__:[10]}),a(e(g),{class:"text-left"},{default:s(()=>t[11]||(t[11]=[o("Amount")])),_:1,__:[11]}),a(e(g),{class:"text-left"},{default:s(()=>t[12]||(t[12]=[o("Status")])),_:1,__:[12]}),a(e(g),{class:"text-left"},{default:s(()=>t[13]||(t[13]=[o("Reference")])),_:1,__:[13]})]),_:1})]),_:1}),a(e(le),null,{default:s(()=>[(c(!0),f(R,null,U($.value,l=>(c(),k(e(H),{key:l.id},{default:s(()=>[a(e(x),null,{default:s(()=>[i("div",fe,[a(e(Z),{class:"h-4 w-4 text-gray-400"}),o(" "+_(new Date(l.created_at).toLocaleDateString()),1)])]),_:2},1024),a(e(x),null,{default:s(()=>[a(e(V),{variant:"outline",class:"text-xs"},{default:s(()=>[o(_(l.payment_platform),1)]),_:2},1024)]),_:2},1024),a(e(x),null,{default:s(()=>[o(_(l.payment_channel),1)]),_:2},1024),a(e(x),null,{default:s(()=>[i("div",_e,[a(e(te),{class:"h-4 w-4 text-green-600"}),i("span",pe,"â‚µ"+_(e(J)(l.amount,2)),1)])]),_:2},1024),a(e(x),null,{default:s(()=>[a(e(V),{class:y(["inline-flex items-center gap-1 text-xs font-medium capitalize",j(l.payment_status)])},{default:s(()=>[(c(),k(E(A(l.payment_status)),{class:"h-3 w-3"})),o(" "+_(l.payment_status),1)]),_:2},1032,["class"])]),_:2},1024),a(e(x),{class:"font-mono text-gray-500"},{default:s(()=>[o(_(l.payment_reference),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),$.value.length===0&&n.signboard.subscriptions.length>0?(c(),f("div",ye,[a(e(B),{class:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t[15]||(t[15]=i("p",{class:"text-gray-500"},"No promotion match your filters",-1)),a(e(M),{variant:"outline",size:"sm",onClick:F,class:"mt-2"},{default:s(()=>t[14]||(t[14]=[o(" Clear Filters ")])),_:1,__:[14]})])):v("",!0),n.signboard.subscriptions.length===0?(c(),f("div",xe,[a(e(q),{class:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t[16]||(t[16]=i("p",{class:"text-gray-500"},"No promotion found",-1))])):v("",!0)]))}});export{z as C,Se as _,ee as a};

import{d as F,x as N,E as P,c as m,o as d,F as p,b as o,a,u as e,w as c,C as u,D as f,e as v,W as q,f as C,g as M,i as z,h as b,j as B}from"./app-CGbxpWuG.js";import{_ as R}from"./Layout.vue_vue_type_script_setup_true_lang-Dz-8v4cA.js";import{_ as U}from"./SignboardCardV1.vue_vue_type_script_setup_true_lang-BKgNLVXr.js";import{_ as E}from"./AdvertisedSignboardV.vue_vue_type_script_setup_true_lang-BYdBHNL8.js";import{u as L,_ as y}from"./BackToTop.vue_vue_type_script_setup_true_lang-CaCcfZOU.js";import{_ as Q}from"./AdvertisedSignboardsH.vue_vue_type_script_setup_true_lang-BWy3Q3mZ.js";import{c as T}from"./helpers-Bv2z62jD.js";import{u as A}from"./useScrollPagination-D06r9P33.js";import{_ as I}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-BZWTGoW7.js";import{_ as K}from"./InputText.vue_vue_type_script_setup_true_lang-BhMSX6ZH.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-C21-SpTL.js";import{_ as S,a as $,b as w,c as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-UvfJmd6f.js";import{c as W}from"./createLucideIcon-DU27MR8T.js";import{S as j}from"./star-CnLLh0rQ.js";import"./map-pin-T4OxYdUL.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BDZWicU7.js";import"./VisuallyHidden-CnGgyXDw.js";import"./VueStarRating.common-CZAT70ob.js";import"./CarouselItem.vue_vue_type_script_setup_true_lang-PbAOGCAt.js";import"./api-CE-LjNUW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./CardContent.vue_vue_type_script_setup_true_lang-C5nLRIAZ.js";import"./CardHeader.vue_vue_type_script_setup_true_lang-C8MPa_VZ.js";import"./check-Dvo-jJ8r.js";import"./Collection-B3f6ovv1.js";import"./nullish-CtH4V8ap.js";import"./useDirection-Ca8ntofr.js";import"./useFormControl-C9wcZUhc.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=W("FactoryIcon",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),H={class:"grid grid-cols-2 gap-4"},Z={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},G=F({__name:"SignboardsFilter",props:{categories:{},regions:{}},setup(x){const s=N({q:"",categories:null,region:null}),{filteredQuery:g,runFilter:_}=L({form:s,routeName:"signboards.index",preserveKeys:["signboardsData"],buildQuery:r=>{var t;s.q&&r.filter("q",s.q),s.region&&r.filter("region",s.region.toString()),(t=s.categories)!=null&&t.length&&s.categories.forEach(l=>{r.filter("categories",l.toString())})}});return P(()=>{const r=new URLSearchParams(window.location.search),t=r.get("filter[q]"),l=r.get("filter[categories]"),n=r.get("filter[region]");s.categories=l?l.split(",").map(i=>Number(i)):[],s.region=n?Number(n):null,s.q=t||"",r.size>0&&(g.value="&"+r.toString())}),(r,t)=>{var l,n;return d(),m(p,null,[t[5]||(t[5]=o("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),o("div",H,[a(K,{placeholder:"Search signboard...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(s)},null,8,["form"]),a(e(S),{modelValue:e(s).categories,"onUpdate:modelValue":t[0]||(t[0]=i=>e(s).categories=i),"default-value":e(s).categories,multiple:!0},{default:c(()=>[a(e($),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:c(()=>[a(e(w),{placeholder:"Signboard category"})]),_:1}),a(e(V),{options:r.categories.map(i=>({label:i.name,value:i.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),a(e(S),{modelValue:e(s).region,"onUpdate:modelValue":t[1]||(t[1]=i=>e(s).region=i),"default-value":e(s).region},{default:c(()=>[a(e($),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:c(()=>[a(e(w),{placeholder:"Region"})]),_:1}),a(e(V),{options:r.regions.map(i=>({label:i.name,value:i.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),o("div",Z,[u(a(e(k),{onClick:e(_)},{default:c(()=>t[3]||(t[3]=[v("Apply Filter ")])),_:1,__:[3]},8,["onClick"]),[[f,e(s).region||((l=e(s).categories)==null?void 0:l.length)||((n=e(s).q)==null?void 0:n.length)]]),u(a(e(k),{variant:"secondary",onClick:t[2]||(t[2]=i=>e(q).visit(r.route("services.index")))},{default:c(()=>t[4]||(t[4]=[v("Reset ")])),_:1,__:[4]},512),[[f,e(g)]])])])],64)}}}),J={class:"w-full"},O={class:"relative grid grid-cols-5 w-full gap-15"},X={class:"lg:block col-span-5 lg:col-span-1"},Y={class:"sticky top-40"},ee={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},se={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},te={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},ae={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},oe={class:"hidden lg:block lg:col-span-1"},re={class:"sticky top-0"},le={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},Be=F({__name:"Signboards",props:{signboardsData:{},categories:{},regions:{}},setup(x){const s=x,{items:g,loading:_,nextPage:r}=A({initialData:s.signboardsData.data,nextPageUrl:s.signboardsData.next_page_url,extractResponseData:t=>t.props.signboardsData,preserveKeys:["signboardsData"]});return C(()=>{r.value=s.signboardsData.next_page_url,g.value=s.signboardsData.data}),(t,l)=>(d(),m(p,null,[a(e(M),{title:"Signboards"}),a(R,null,{default:c(()=>[o("div",J,[l[2]||(l[2]=o("div",{class:"w-full my-10 text-center"},[o("div",{class:"text-fade text-2xl font-semibold"},"Browse Signboards")],-1)),o("div",O,[o("div",X,[o("div",Y,[a(G,{categories:t.categories,regions:t.regions},null,8,["categories","regions"])])]),o("div",ee,[o("div",se,[(d(!0),m(p,null,b(e(T)(e(g),15),(n,i)=>(d(),m(p,{key:`chunk-${i}`},[(d(!0),m(p,null,b(n,h=>(d(),B(U,{key:h.id,signboard:h},null,8,["signboard"]))),128)),u(a(Q,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:c(()=>[o("div",te,[a(e(D),{size:25,class:"text-primary"}),l[0]||(l[0]=o("span",null,"Top Signboards",-1)),a(e(j),{size:25,class:"text-primary"})])]),_:2},1536),[[f,n.length>14]])],64))),128)),(d(),m(p,null,b([1,2,3,4],n=>u(a(I,{key:n,class:"shadow-2xl"}),[[f,e(_)]])),64))]),e(g).length?z("",!0):(d(),m("div",ae," No results found, broaden your search... "))]),o("div",oe,[o("div",re,[o("div",le,[l[1]||(l[1]=v(" Top Signboards ")),a(e(D),{size:22,class:"text-primary"})]),a(E,{"items-class":"h-screen"})])])])]),a(y)]),_:1}),a(y)],64))}});export{Be as default};
